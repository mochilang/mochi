// Generated by Mochi compiler v0.10.27 on 2025-07-17T02:36:29Z
fun String.starts_with(prefix: String): Boolean = this.startsWith(prefix)
// Code generated from tests/vm/valid/dataset_sort_take_limit.mochi

data class Product(var name: String, var price: Int)

val products = mutableListOf(Product(name = "Laptop", price = 1500), Product(name = "Smartphone", price = 900), Product(name = "Tablet", price = 600), Product(name = "Monitor", price = 300), Product(name = "Keyboard", price = 100), Product(name = "Mouse", price = 50), Product(name = "Headphones", price = 200))

val expensive = run {
    val __res = mutableListOf<Product>()
    for (p in products) {
        __res.add(p)
    }
    __res
}.sortedByDescending { it.price as Comparable<Any> }.drop(1).take(3)

fun main() {
    println("--- Top products (excluding most expensive) ---")
    for (item in expensive) {
        println(listOf(item.name, "costs $", item.price).joinToString(" "))
    }
}
