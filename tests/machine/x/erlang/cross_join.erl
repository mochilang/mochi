#!/usr/bin/env escript
%% Generated by Mochi compiler v0.10.27 on 2025-07-17T08:58:15Z
% cross_join.erl - generated from cross_join.mochi

main(_) ->
    Customers = [#{id => 1, name => "Alice"}, #{id => 2, name => "Bob"}, #{id => 3, name => "Charlie"}],
    Orders = [#{id => 100, customerId => 1, total => 250}, #{id => 101, customerId => 2, total => 125}, #{id => 102, customerId => 1, total => 300}],
    Result = [#{orderId => maps:get(id, O, undefined), orderCustomerId => maps:get(customerId, O, undefined), pairedCustomerName => maps:get(name, C, undefined), orderTotal => maps:get(total, O, undefined)} || O <- Orders, C <- Customers],
    io:format("~p~n", ["--- Cross Join: All order-customer pairs ---"]),
    lists:foreach(fun(Entry) -> io:format("~p ~p ~p ~p ~p ~p ~p ~p~n", ["Order", maps:get(orderId, Entry, undefined), "(customerId:", maps:get(orderCustomerId, Entry, undefined), ", total: $", maps:get(orderTotal, Entry, undefined), ") paired with", maps:get(pairedCustomerName, Entry, undefined)]) end, Result).
