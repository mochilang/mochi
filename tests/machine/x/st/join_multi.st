" Generated by Mochi compiler v0.10.25 on 2025-07-13T05:07:58Z
"
| customers orders items result r |
customers := {Dictionary from:{'id'->1. 'name'->'Alice'}. Dictionary from:{'id'->2. 'name'->'Bob'}}.
orders := {Dictionary from:{'id'->100. 'customerId'->1}. Dictionary from:{'id'->101. 'customerId'->2}}.
items := {Dictionary from:{'orderId'->100. 'sku'->'a'}. Dictionary from:{'orderId'->101. 'sku'->'b'}}.
result := [ | tmp |
  tmp := OrderedCollection new.
  orders do: [:o |
    customers do: [:c |
      items do: [:i |
        (((o.customerId = c.id) and: [(o.id = i.orderId)])) ifTrue: [
          tmp add: Dictionary from:{'name'->c at: 'name'. 'sku'->i at: 'sku'}.
        ].
      ].
    ].
  ].
  tmp
] value.
Transcript show: '--- Multi Join ---'; cr.
result do: [:r |.
Transcript show: (r at: 'name') printString; show: ' '; show: 'bought item'; show: ' '; show: (r at: 'sku') printString; cr.
].
.
