" Generated by Mochi compiler v0.10.26 on 2025-07-16T17:40:19Z
"
| customers items orders result |
customers := {Dictionary from: {'id' -> 1. 'name' -> 'Alice'}. Dictionary from: {'id' -> 2. 'name' -> 'Bob'}}.
orders := {Dictionary from: {'id' -> 100. 'customerId' -> 1}. Dictionary from: {'id' -> 101. 'customerId' -> 2}}.
items := {Dictionary from: {'orderId' -> 100. 'sku' -> 'a'}. Dictionary from: {'orderId' -> 101. 'sku' -> 'b'}}.
result := [ | tmp |
  tmp := OrderedCollection new.
  orders do: [:o |
    customers do: [:c |
      items do: [:i |
        (((o.customerId = c.id) and: [(o.id = i.orderId)])) ifTrue: [
          tmp add: Dictionary from: {'name' -> c.name. 'sku' -> i.sku}.
        ].
      ].
    ].
  ].
  tmp
] value.
Transcript show: '--- Multi Join ---'; cr.
result do: [:r |
  Transcript show: (r.name) printString; show: ' '; show: 'bought item'; show: ' '; show: (r.sku) printString; cr.
]
.
