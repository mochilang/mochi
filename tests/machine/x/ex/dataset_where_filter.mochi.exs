# Generated by Mochi Elixir compiler
defmodule Main do
  def main do
    # people :: list(map())
    people = [
      %{name: "Alice", age: 30},
      %{name: "Bob", age: 15},
      %{name: "Charlie", age: 65},
      %{name: "Diana", age: 45}
    ]

    # adults :: list(map())
    adults =
      for person <- people,
          person.age >= 18,
          do: %{name: person.name, age: person.age, is_senior: person.age >= 60}

    IO.puts("--- Adults ---")

    for person <- adults do
      IO.puts(
        Enum.join(
          Enum.map(
            [
              person.name,
              "is",
              person.age,
              (fn ->
                 if person.is_senior do
                   " (senior)"
                 else
                   ""
                 end
               end).()
            ],
            &to_string(&1)
          ),
          " "
        )
      )
    end
  end
end

Main.main()
