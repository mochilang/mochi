% Generated by Mochi compiler v0.10.28 on 2025-07-18T08:21:27Z
:- style_check(-singleton).
set_item(Container, Key, Val, Out) :-
    is_dict(Container), !, (string(Key) -> atom_string(A, Key) ; A = Key), put_dict(A, Container, Val, Out).
set_item(List, Index, Val, Out) :-
    nth0(Index, List, _, Rest),
    nth0(Index, Out, Val, Rest).

print_val(V) :- number(V), !, format('~g', [V]).
print_val(V) :- write(V).

:- initialization(main, main).
main :-
    dict_create(_V0, map, [inner-1]),
    dict_create(_V1, map, [outer-_V0]),
    nb_setval(data, _V1),
    nb_getval(data, _V2),
    (string("outer") -> atom_string(_V4, "outer") ; _V4 = "outer"), get_dict(_V4, _V2, _V3),
    set_item(_V3, "inner", 2, _V5),
    set_item(_V2, "outer", _V5, _V6),
    nb_setval(data, _V6),
    nb_getval(data, _V7),
    (string("outer") -> atom_string(_V9, "outer") ; _V9 = "outer"), get_dict(_V9, _V7, _V8),
    (string("inner") -> atom_string(_V11, "inner") ; _V11 = "inner"), get_dict(_V11, _V8, _V10),
    print_val(_V10), nl,
    true.
