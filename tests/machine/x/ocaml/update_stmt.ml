(* Generated by Mochi compiler v0.10.27 on 1970-01-01T00:00:00Z *)
type person = { mutable name : string; mutable age : int; mutable status : string }
let people : person list = [{ name = "Alice"; age = 17; status = "minor" };{ name = "Bob"; age = 25; status = "unknown" };{ name = "Charlie"; age = 18; status = "unknown" };{ name = "Diana"; age = 16; status = "minor" }]

let () =
  let people =
    List.map (fun __it ->
      if (age >= 18) then { __it with status = "adult"; age = (age + 1) } else __it
    ) people
  assert ((people = [{ name = "Alice"; age = 17; status = "minor" };{ name = "Bob"; age = 26; status = "adult" };{ name = "Charlie"; age = 19; status = "adult" };{ name = "Diana"; age = 16; status = "minor" }]))
  print_endline ("ok");
