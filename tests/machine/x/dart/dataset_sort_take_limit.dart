// Generated by Mochi compiler v0.10.27 on 2025-07-17T11:53:04Z
import 'dart:io';
import 'dart:convert';

var products = [
  {'name': 'Laptop', 'price': 1500},
  {'name': 'Smartphone', 'price': 900},
  {'name': 'Tablet', 'price': 600},
  {'name': 'Monitor', 'price': 300},
  {'name': 'Keyboard', 'price': 100},
  {'name': 'Mouse', 'price': 50},
  {'name': 'Headphones', 'price': 200},
];

var expensive = (() {
  var _q0 = <dynamic>[];
  for (var p in products) {
    _q0.add([-(p['price'] as num), p]);
  }
  _q0.sort((a,b) => (jsonEncode(a[0]) as Comparable).compareTo(jsonEncode(b[0])));
  _q0 = [for (var x in _q0) x[1]];
  _q0 = _q0.sublist(1, (1)+(3));
  return _q0;
})();

void main() {
  print('--- Top products (excluding most expensive) ---');
  for (var item in expensive) {
    _print([item['name'], 'costs \$', item['price']]);
  }
}

void _print(List<dynamic> args) {
    for (var i = 0; i < args.length; i++) {
        if (i > 0) stdout.write(' ');
        var v = args[i];
        if (v is List) {
            stdout.write(v.join(' '));
        } else if (v is double && v == v.roundToDouble()) {
            stdout.write(v.toInt());
        } else {
            stdout.write(v);
        }
    }
    stdout.writeln();
}
