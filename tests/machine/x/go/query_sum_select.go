//go:build ignore

// Generated by Mochi compiler v0.10.25 on 2025-07-14T04:55:41Z

package main

import (
	"fmt"
	"mochi/runtime/data"

	"golang.org/x/exp/constraints"
)

func main() {
	nums := []int{1, 2, 3}
	result := _sumOrdered[int](func() []int {
		results := []int{}
		for _, n := range nums {
			if n > 1 {
				if n > 1 {
					results = append(results, n)
				}
			}
		}
		return results
	}())
	fmt.Println(result)
}

func _sum(v any) float64 {
	var items []any
	if g, ok := v.(*data.Group); ok {
		items = g.Items
	} else {
		switch s := v.(type) {
		case []any:
			items = s
		case []int:
			items = []any{}
			for _, v := range s {
				items = append(items, v)
			}
		case []float64:
			items = []any{}
			for _, v := range s {
				items = append(items, v)
			}
		case []string, []bool:
			panic("sum() expects numbers")
		default:
			panic("sum() expects list or group")
		}
	}
	var sum float64
	for _, it := range items {
		switch n := it.(type) {
		case int:
			sum += float64(n)
		case int64:
			sum += float64(n)
		case float64:
			sum += n
		default:
			panic("sum() expects numbers")
		}
	}
	return sum
}

func _sumOrdered[T constraints.Integer | constraints.Float](s []T) float64 {
	var sum float64
	for _, v := range s {
		sum += float64(v)
	}
	return sum
}
