// Generated by Mochi v0.10.48 on 2025-07-30 00:01:53 GMT+7
[defrecord, Items, [cat, val, flag]]
let items
let result = [for, [g, [sort_by, [fn, [g], [key, g]], [for, g]]], {cat: [key, g], share: (sum([for, [x, [items, g]], if]) / sum([for, [x, [items, g]], [val, x]]))}]
fun main() {
  print(result)
}
main()
