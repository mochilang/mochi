// Generated by Mochi v0.10.48 on 2025-07-30 00:02:11 GMT+7
[defrecord, Items, [a, b, val]]
let items
let grouped = [for, [g, [sort_by, [fn, [g], _(sum([for, [x, [items, g]], [val, x]]))], [for, g]]], {a: [a, [key, g]], b: [b, [key, g]], total: sum([for, [x, [items, g]], [val, x]])}]
fun main() {
  print(grouped)
}
main()
