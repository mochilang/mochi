// Generated by Mochi v0.10.48 on 2025-07-30 00:02:17 GMT+7
[defrecord, Data, [tag, val]]
let data
let groups = [for, [g, [for, g]], g]
let tmp = _
let result = [for, [r, [sort_by, [fn, [r], [tag, r]], tmp]], r]
fun main() {
  for g in groups {
    total = 0
    for x in [items, g] {
      total = (total + [val, x])
    }
    tmp = append(tmp, {tag: [key, g], total: total})
  }
  print(result)
}
main()
