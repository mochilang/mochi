(program
  (type Person
    (field name (type string))
    (field age (type int))
    (field email (type string))
  )
  (let people
    (load
      (string ../interpreter/valid/people.yaml)
      (type Person)
      (map
        (entry (selector format) (string yaml))
      )
    )
  )
  (let adults
    (query p
      (source (selector people))
      (where
        (binary >=
          (selector age (selector p))
          (int 18)
        )
      )
      (select
        (map
          (entry
            (selector name)
            (selector name (selector p))
          )
          (entry
            (selector email)
            (selector email (selector p))
          )
        )
      )
    )
  )
  (for a
    (in (selector adults))
    (block
      (call print
        (selector name (selector a))
        (selector email (selector a))
      )
    )
  )
)
