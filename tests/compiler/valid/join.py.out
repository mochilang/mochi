# Generated by Mochi Python compiler

import dataclasses
import typing

def main():
	@dataclasses.dataclass
	class Customer:
		id: int
		name: str
	@dataclasses.dataclass
	class Order:
		id: int
		customerId: int
		total: int
	@dataclasses.dataclass
	class PairInfo:
		orderId: int
		customerName: str
		total: int
	customers = [Customer(id=1, name="Alice"), Customer(id=2, name="Bob"), Customer(id=3, name="Charlie")]
	orders = [Order(id=100, customerId=1, total=250), Order(id=101, customerId=2, total=125), Order(id=102, customerId=1, total=300), Order(id=103, customerId=4, total=80)]
	result = [ PairInfo(orderId=o.id, customerName=c.name, total=o.total) for o in _iter(orders) for c in _iter(customers) if (o.customerId == c.id) ]
	print("--- Orders with customer info ---")
	for entry in _iter(result):
		print("Order", entry.orderId, "by", entry.customerName, "- $", entry.total)

def _iter(v):
    if isinstance(v, dict):
        return list(v.keys())
    return v
if __name__ == "__main__":
	main()
