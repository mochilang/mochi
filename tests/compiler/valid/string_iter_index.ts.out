// Generated by Mochi TypeScript compiler

async function main(): Promise<void> {
	let text = "hello"
	console.log(_index(text, 1))
	for (const ch of _iter(text)) {
		console.log(ch)
	}
}
await main()
await _waitAll()

function _index(v: any, k: any): any {
  if (Array.isArray(v) || typeof v === "string") {
    const l = (v as any).length;
    if (typeof k === "number" && k < 0) k = l + k;
  }
  return (v as any)[k];
}

function _iter(v: any): any[] {
  if (Array.isArray(v)) return v;
  if (typeof v === "string") return Array.from(v);
  if (v && typeof v === "object") return Object.keys(v);
  return [];
}

const _pending: Promise<any>[] = [];
async function _waitAll(): Promise<void> {
  await Promise.all(_pending);
}
