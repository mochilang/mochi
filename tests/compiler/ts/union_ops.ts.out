// Generated by Mochi TypeScript compiler

let a: number[];
let b: number[];

function main(): void {
  a = [
    1,
    2,
    3,
  ];
  b = [
    3,
    4,
  ];
  console.log(_union(a, b).length);
  console.log(_union_all(a, b).length);
  console.log(_except(a, b).length);
  console.log(_intersect(a, b).length);
}
function _except<T>(a: T[], b: T[]): T[] {
  const remove = new Set<T>(b);
  const res: T[] = [];
  for (const it of a) if (!remove.has(it)) res.push(it);
  return res;
}

function _intersect<T>(a: T[], b: T[]): T[] {
  const keep = new Set<T>(b);
  const res: T[] = [];
  const seen = new Set<T>();
  for (const it of a) {
    if (keep.has(it) && !seen.has(it)) {
      seen.add(it);
      res.push(it);
    }
  }
  return res;
}

function _union<T>(a: T[], b: T[]): T[] {
  const res: T[] = [];
  const seen = new Set<T>();
  for (const it of a) {
    if (!seen.has(it)) {
      seen.add(it);
      res.push(it);
    }
  }
  for (const it of b) {
    if (!seen.has(it)) {
      seen.add(it);
      res.push(it);
    }
  }
  return res;
}

function _union_all<T>(a: T[], b: T[]): T[] {
  return a.concat(b);
}

main();
