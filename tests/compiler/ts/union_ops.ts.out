// Generated by Mochi TypeScript compiler

function main(): void {
	// > let a = [1, 2, 3]
	let a: Array<number> = [
		1,
		2,
		3
	]
	;(globalThis as any).a = a
	// > let b = [3, 4]
	let b: Array<number> = [
		3,
		4
	]
	;(globalThis as any).b = b
	// > print(len(a union b))
	console.log(_union(a, b).length)
	// > print(len(a union all b))
	console.log(_union(a, b).length)
	// > print(len(a except b))
	console.log(_except(a, b).length)
	// > print(len(a intersect b))
	console.log(_intersect(a, b).length)
}
function _except(a: any[], b: any[]): any[] {
  const remove = new Set<any>(b);
  const res: any[] = [];
  for (const it of a) { if (!remove.has(it)) res.push(it); }
  return res;
}

function _intersect(a: any[], b: any[]): any[] {
  const keep = new Set<any>(b);
  const res: any[] = [];
  const seen = new Set<any>();
  for (const it of a) { if (keep.has(it) && !seen.has(it)) { seen.add(it); res.push(it); } }
  return res;
}

function _union(a: any[], b: any[]): any[] {
  const res: any[] = [];
  const seen = new Set<any>();
  for (const it of a) { if (!seen.has(it)) { seen.add(it); res.push(it); } }
  for (const it of b) { if (!seen.has(it)) { seen.add(it); res.push(it); } }
  return res;
}

main()
