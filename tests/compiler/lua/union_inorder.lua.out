function inorder(t)
	return (function()
	local _t0 = t
	if _t0.__name == "Leaf" then return {} end
	if _t0.__name == "Node" then return (function(l, v, r) return ((inorder(l) + {v}) + inorder(r)) end)(_t0.left, _t0.value, _t0.right) end
	return nil
end)()
end

print(inorder({__name="Node", left={__name="Leaf"}, value=1, right={__name="Node", left={__name="Leaf"}, value=2, right={__name="Leaf"}}}))
