program main;
{$mode objfpc}
uses SysUtils, fgl, fphttpclient, Classes;

type
        generic TArray<T> = array of T;

function _splitString(s, sep: string): specialize TArray<string>;
var sl: TStringList; i: Integer;
begin
        sl := TStringList.Create;
        try
                sl.Delimiter := sep[1];
                sl.StrictDelimiter := True;
                sl.DelimitedText := s;
                SetLength(Result, sl.Count);
                for i := 0 to sl.Count - 1 do
                        Result[i] := sl[i];
        finally
                sl.Free;
        end;
end;

function _joinStrings(parts: specialize TArray<string>; sep: string): string;
var i: Integer;
begin
        Result := '';
        for i := 0 to High(parts) do
        begin
                if i > 0 then Result := Result + sep;
                Result := Result + parts[i];
        end;
end;

var
        parts: specialize TArray<string>;

begin
        parts := _splitString('a,b,c', ',');
        writeln(_joinStrings(parts, '-'));
end.
