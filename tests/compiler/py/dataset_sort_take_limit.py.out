# Generated by Mochi Python compiler

import dataclasses
import typing

def main():
	@dataclasses.dataclass
	class Product:
		name: str
		price: int
	products = [Product(name="Laptop", price=1500), Product(name="Smartphone", price=900), Product(name="Tablet", price=600), Product(name="Monitor", price=300), Product(name="Keyboard", price=100), Product(name="Mouse", price=50), Product(name="Headphones", price=200)]
	expensive = [ p for p in ((sorted([ p for p in _iter(products) ], key=lambda p: (-p.price)))[1:])[:3] ]
	print("--- Top products (excluding most expensive) ---")
	for item in _iter(expensive):
		print(item.name, "costs $", item.price)

def _iter(v):
    if isinstance(v, dict):
        return list(v.keys())
    return v
if __name__ == "__main__":
	main()
