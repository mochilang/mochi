generated code does not match expected
--- expected
+++ generated
@@ -1,12 +1,24 @@
 type Counter {
   value: int
-
-  fun inc(): int {
-    value = value + 1
-    return value
+}
+fun _get(obj: any, name: any): any {
+  if obj ? None {
+    return None
+  }
+  if isinstance(obj, dict) {
+    if name ? obj {
+      return obj[name]
+    }
+  }
+  if hasattr(obj, name) {
+    return getattr(obj, name)
+  }
+  if isinstance(obj, (list, tuple)) {
+    for it in obj {
+      return _get(it, name)
+    }
   }
 }
-
 let c = Counter { value: 0 }
-print(c.inc())
-print(c.inc())
+print(_get(c, "inc")())
+print(_get(c, "inc")())
