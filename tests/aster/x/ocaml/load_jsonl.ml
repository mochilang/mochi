(* Generated by Mochi transpiler v0.10.36 on 2025-07-22 17:08 +0700 *)

exception Break
exception Continue

let () =
  let people = [[("age", Obj.repr 30); ("email", Obj.repr "alice@example.com"); ("name", Obj.repr "Alice")]; [("age", Obj.repr 15); ("email", Obj.repr "bob@example.com"); ("name", Obj.repr "Bob")]; [("age", Obj.repr 20); ("email", Obj.repr "charlie@example.com"); ("name", Obj.repr "Charlie")]] in
  let adults = (List.filter_map (fun p -> if ((Obj.obj (List.assoc "age" p) : int) >= 18) then Some ([("name", Obj.repr (Obj.obj (List.assoc "name" p) : string)); ("email", Obj.repr (Obj.obj (List.assoc "email" p) : string))]) else None) people) in
  (try List.iter (fun a ->
    try
  print_endline (String.concat " " [(Obj.obj (List.assoc "name" a) : string); (Obj.obj (List.assoc "email" a) : string)]);
    with Continue -> ()) adults with Break -> ())
