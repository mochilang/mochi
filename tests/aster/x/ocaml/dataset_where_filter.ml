(* Generated by Mochi transpiler v0.10.33 on 2025-07-21 18:38 +0700 *)

let () =
  let people = [[("name", "Alice"); ("age", 30)]; [("name", "Bob"); ("age", 15)]; [("name", "Charlie"); ("age", 65)]; [("name", "Diana"); ("age", 45)]] in
  let adults = (List.filter_map (fun person -> if ((List.assoc "age" person) >= 18) then Some ([("name", (List.assoc "name" person)); ("age", (List.assoc "age" person)); ("is_senior", ((List.assoc "age" person) >= 60))]) else None) people) in
  print_endline (String.concat " " (List.filter (fun s -> s <> "") ["--- Adults ---"]));
  (try List.iter (fun person ->
    try
  print_endline (String.concat " " (List.filter (fun s -> s <> "") [(List.assoc "name" person); "is"; string_of_int (List.assoc "age" person)); if (List.assoc "is_senior" person) then " (senior)" else ""]));
    with Continue -> ()) adults with Break -> ())
