// Generated by Mochi compiler v0.10.25 on 2025-07-15T04:47:09Z
open System
open System.Text.Json

type Anon1 = {
    product_name: string
    manufact_id: int
    manufact: int
    category: string
    color: string
    units: string
    size: string
}
let item: Anon1 list = [{ product_name = "Blue Shirt"; manufact_id = 100; manufact = 1; category = "Women"; color = "blue"; units = "pack"; size = "M" }; { product_name = "Red Dress"; manufact_id = 120; manufact = 1; category = "Women"; color = "red"; units = "pack"; size = "M" }; { product_name = "Pants"; manufact_id = 200; manufact = 2; category = "Men"; color = "black"; units = "pair"; size = "L" }]
let lower: int = 100
let result: string list = [ for i1 in item do if i1.manufact_id >= lower && i1.manufact_id <= lower + 40 && List.length [ for i2 in item do if i2.manufact = i1.manufact && i2.category = i1.category then yield i2 ] > 1 then yield i1.product_name ] |> List.sortBy (fun i1 -> i1.product_name)
printfn "%A" (JsonSerializer.Serialize(result))
assert (result = ["Blue Shirt"; "Red Dress"])
