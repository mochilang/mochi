func main (regs=67)
  // let item = [
  Const        r0, [{"category": "Women", "color": "blue", "manufact": 1, "manufact_id": 100, "product_name": "Blue Shirt", "size": "M", "units": "pack"}, {"category": "Women", "color": "red", "manufact": 1, "manufact_id": 120, "product_name": "Red Dress", "size": "M", "units": "pack"}, {"category": "Men", "color": "black", "manufact": 2, "manufact_id": 200, "product_name": "Pants", "size": "L", "units": "pair"}]
  // let lower = 100
  Const        r1, 100
  // from i1 in item
  Const        r2, []
  // where i1.manufact_id >= lower && i1.manufact_id <= lower + 40 &&
  Const        r3, "manufact_id"
  Const        r4, "manufact_id"
  // count(from i2 in item where i2.manufact == i1.manufact && i2.category == i1.category select i2) > 1
  Const        r5, "manufact"
  Const        r6, "manufact"
  Const        r7, "category"
  Const        r8, "category"
  // select i1.product_name
  Const        r9, "product_name"
  // order by i1.product_name
  Const        r10, "product_name"
  // from i1 in item
  IterPrep     r11, r0
  Len          r12, r11
  Const        r14, 0
  Move         r13, r14
L7:
  LessInt      r15, r13, r12
  JumpIfFalse  r15, L0
  Index        r16, r11, r13
  Move         r17, r16
  // where i1.manufact_id >= lower && i1.manufact_id <= lower + 40 &&
  Const        r18, "manufact_id"
  Index        r19, r17, r18
  Const        r20, 40
  Const        r21, 140
  LessEq       r22, r1, r19
  Const        r23, "manufact_id"
  Index        r24, r17, r23
  LessEq       r25, r24, r21
  // count(from i2 in item where i2.manufact == i1.manufact && i2.category == i1.category select i2) > 1
  Const        r26, []
  Const        r27, "manufact"
  Const        r28, "manufact"
  Const        r29, "category"
  Const        r30, "category"
  IterPrep     r31, r0
  Len          r32, r31
  Const        r34, 0
  Move         r33, r34
L4:
  LessInt      r35, r33, r32
  JumpIfFalse  r35, L1
  Index        r36, r31, r33
  Move         r37, r36
  Const        r38, "manufact"
  Index        r39, r37, r38
  Const        r40, "manufact"
  Index        r41, r17, r40
  Equal        r42, r39, r41
  Const        r43, "category"
  Index        r44, r37, r43
  Const        r45, "category"
  Index        r46, r17, r45
  Equal        r47, r44, r46
  Move         r48, r42
  JumpIfFalse  r48, L2
  Move         r48, r47
L2:
  JumpIfFalse  r48, L3
  Append       r49, r26, r37
  Move         r26, r49
L3:
  Const        r50, 1
  AddInt       r33, r33, r50
  Jump         L4
L1:
  Count        r51, r26
  Const        r52, 1
  LessInt      r53, r52, r51
  // where i1.manufact_id >= lower && i1.manufact_id <= lower + 40 &&
  Move         r54, r22
  JumpIfFalse  r54, L5
  Move         r54, r25
  JumpIfFalse  r54, L5
  Move         r54, r53
L5:
  JumpIfFalse  r54, L6
  // select i1.product_name
  Const        r55, "product_name"
  Index        r56, r17, r55
  // order by i1.product_name
  Const        r57, "product_name"
  Index        r58, r17, r57
  Move         r59, r58
  // from i1 in item
  Move         r60, r56
  MakeList     r61, 2, r59
  Append       r62, r2, r61
  Move         r2, r62
L6:
  Const        r63, 1
  AddInt       r13, r13, r63
  Jump         L7
L0:
  // order by i1.product_name
  Sort         r64, r2
  // from i1 in item
  Move         r2, r64
  // json(result)
  JSON         r2
  // expect result == ["Blue Shirt", "Red Dress"]
  Const        r65, ["Blue Shirt", "Red Dress"]
  Equal        r66, r2, r65
  Expect       r66
  Return       r0
