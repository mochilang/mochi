func main (regs=33)
  // let web_sales = [
  Const        r0, [{"amount": 34}]
  // let store_sales = [
  Const        r1, [{"amount": 35}]
  // let result = sum(from w in web_sales select w.amount) + sum(from s in store_sales select s.amount)
  Const        r2, []
  Const        r3, "amount"
  IterPrep     r4, r0
  Len          r5, r4
  Const        r6, 0
L1:
  LessInt      r8, r6, r5
  JumpIfFalse  r8, L0
  Index        r10, r4, r6
  Const        r11, "amount"
  Index        r12, r10, r11
  Append       r2, r2, r12
  Const        r14, 1
  AddInt       r6, r6, r14
  Jump         L1
L0:
  Sum          r15, r2
  Const        r16, []
  Const        r17, "amount"
  IterPrep     r18, r1
  Len          r19, r18
  Const        r20, 0
L3:
  LessInt      r22, r20, r19
  JumpIfFalse  r22, L2
  Index        r24, r18, r20
  Const        r25, "amount"
  Index        r26, r24, r25
  Append       r16, r16, r26
  Const        r28, 1
  AddInt       r20, r20, r28
  Jump         L3
L2:
  Sum          r29, r16
  Add          r30, r15, r29
  // json(result)
  JSON         r30
  // expect result == 69
  Const        r31, 69
  Equal        r32, r30, r31
  Expect       r32
  Return       r0
