func main (regs=18)
  // let t = [{id: 1, val: 18}]
  Const        r0, [{"id": 1, "val": 18}]
  // let vals = to_list(from r in t select r.val)
  Const        r1, []
  Const        r2, "val"
  IterPrep     r3, r0
  Len          r4, r3
  Const        r5, 0
L1:
  LessInt      r7, r5, r4
  JumpIfFalse  r7, L0
  Index        r9, r3, r5
  Const        r10, "val"
  Index        r11, r9, r10
  Append       r1, r1, r11
  Const        r13, 1
  AddInt       r5, r5, r13
  Jump         L1
L0:
  ToList       r14, r1
  // let result = first(vals)
  First        r15, r14
  // json(result)
  JSON         r15
  // expect result == 18
  Const        r16, 18
  Equal        r17, r15, r16
  Expect       r17
  Return       r0
