func main (regs=242)
  // let web_sales = []
  Const        r0, []
  // (from ws in web_sales
  Const        r1, []
  // sold_date_sk: ws.ws_sold_date_sk,
  Const        r2, "sold_date_sk"
  Const        r3, "ws_sold_date_sk"
  // sales_price: ws.ws_ext_sales_price,
  Const        r4, "sales_price"
  Const        r5, "ws_ext_sales_price"
  // day: ws.ws_sold_date_name
  Const        r6, "day"
  Const        r7, "ws_sold_date_name"
  // (from ws in web_sales
  IterPrep     r8, r0
  Len          r9, r8
  Const        r11, 0
  Move         r10, r11
L1:
  LessInt      r12, r10, r9
  JumpIfFalse  r12, L0
  Index        r14, r8, r10
  // sold_date_sk: ws.ws_sold_date_sk,
  Const        r15, "sold_date_sk"
  Index        r16, r14, r3
  // sales_price: ws.ws_ext_sales_price,
  Const        r17, "sales_price"
  Index        r18, r14, r5
  // day: ws.ws_sold_date_name
  Const        r19, "day"
  Index        r20, r14, r7
  // sold_date_sk: ws.ws_sold_date_sk,
  Move         r21, r15
  Move         r22, r16
  // sales_price: ws.ws_ext_sales_price,
  Move         r23, r17
  Move         r24, r18
  // day: ws.ws_sold_date_name
  Move         r25, r19
  Move         r26, r20
  // select {
  MakeMap      r27, 3, r21
  // (from ws in web_sales
  Append       r1, r1, r27
  Const        r29, 1
  AddInt       r10, r10, r29
  Jump         L1
L0:
  // from cs in catalog_sales
  Const        r30, []
  // sold_date_sk: cs.cs_sold_date_sk,
  Const        r31, "cs_sold_date_sk"
  // sales_price: cs.cs_ext_sales_price,
  Const        r32, "cs_ext_sales_price"
  // day: cs.cs_sold_date_name
  Const        r33, "cs_sold_date_name"
  // from cs in catalog_sales
  IterPrep     r34, r0
  Len          r35, r34
  Move         r36, r11
L3:
  LessInt      r37, r36, r35
  JumpIfFalse  r37, L2
  Index        r39, r34, r36
  // sold_date_sk: cs.cs_sold_date_sk,
  Const        r40, "sold_date_sk"
  Index        r41, r39, r31
  // sales_price: cs.cs_ext_sales_price,
  Const        r42, "sales_price"
  Index        r43, r39, r32
  // day: cs.cs_sold_date_name
  Const        r44, "day"
  Index        r45, r39, r33
  // sold_date_sk: cs.cs_sold_date_sk,
  Move         r46, r40
  Move         r47, r41
  // sales_price: cs.cs_ext_sales_price,
  Move         r48, r42
  Move         r49, r43
  // day: cs.cs_sold_date_name
  Move         r50, r44
  Move         r51, r45
  // select {
  MakeMap      r52, 3, r46
  // from cs in catalog_sales
  Append       r30, r30, r52
  AddInt       r36, r36, r29
  Jump         L3
L2:
  // }) union all (
  UnionAll     r54, r1, r30
  // from w in wscs
  Const        r55, []
  // group by {week_seq: d.d_week_seq} into g
  Const        r56, "week_seq"
  Const        r57, "d_week_seq"
  // d_week_seq: g.key.week_seq,
  Const        r58, "key"
  // sun_sales: sum(from x in g where x.day == "Sunday" select x.sales_price),
  Const        r59, "sun_sales"
  // mon_sales: sum(from x in g where x.day == "Monday" select x.sales_price),
  Const        r60, "mon_sales"
  // tue_sales: sum(from x in g where x.day == "Tuesday" select x.sales_price),
  Const        r61, "tue_sales"
  // wed_sales: sum(from x in g where x.day == "Wednesday" select x.sales_price),
  Const        r62, "wed_sales"
  // thu_sales: sum(from x in g where x.day == "Thursday" select x.sales_price),
  Const        r63, "thu_sales"
  // fri_sales: sum(from x in g where x.day == "Friday" select x.sales_price),
  Const        r64, "fri_sales"
  // sat_sales: sum(from x in g where x.day == "Saturday" select x.sales_price)
  Const        r65, "sat_sales"
  // from w in wscs
  MakeMap      r66, 0, r0
  Const        r67, []
  IterPrep     r69, r54
  Len          r70, r69
  Const        r71, 0
L9:
  LessInt      r72, r71, r70
  JumpIfFalse  r72, L4
  Index        r74, r69, r71
  // join d in date_dim on w.sold_date_sk == d.d_date_sk
  IterPrep     r75, r0
  Len          r76, r75
  Const        r77, 0
L8:
  LessInt      r78, r77, r76
  JumpIfFalse  r78, L5
  Index        r80, r75, r77
  Index        r81, r74, r2
  Const        r82, "d_date_sk"
  Index        r83, r80, r82
  Equal        r84, r81, r83
  JumpIfFalse  r84, L6
  // from w in wscs
  Const        r85, "w"
  Move         r86, r74
  Const        r87, "d"
  Move         r88, r80
  MakeMap      r89, 2, r85
  // group by {week_seq: d.d_week_seq} into g
  Const        r90, "week_seq"
  Index        r91, r80, r57
  Move         r92, r90
  Move         r93, r91
  MakeMap      r94, 1, r92
  Str          r95, r94
  In           r96, r95, r66
  JumpIfTrue   r96, L7
  // from w in wscs
  Const        r97, []
  Const        r98, "__group__"
  Const        r99, true
  Const        r100, "key"
  // group by {week_seq: d.d_week_seq} into g
  Move         r101, r94
  // from w in wscs
  Const        r102, "items"
  Move         r103, r97
  Const        r104, "count"
  Const        r105, 0
  Move         r106, r98
  Move         r107, r99
  Move         r108, r100
  Move         r109, r101
  Move         r110, r102
  Move         r111, r103
  Move         r112, r104
  Move         r113, r105
  MakeMap      r114, 4, r106
  SetIndex     r66, r95, r114
  Append       r67, r67, r114
L7:
  Const        r116, "items"
  Index        r117, r66, r95
  Index        r118, r117, r116
  Append       r119, r118, r89
  SetIndex     r117, r116, r119
  Const        r120, "count"
  Index        r121, r117, r120
  AddInt       r122, r121, r29
  SetIndex     r117, r120, r122
L6:
  // join d in date_dim on w.sold_date_sk == d.d_date_sk
  AddInt       r77, r77, r29
  Jump         L8
L5:
  // from w in wscs
  AddInt       r71, r71, r29
  Jump         L9
L4:
  Move         r123, r11
  Len          r124, r67
L32:
  LessInt      r125, r123, r124
  JumpIfFalse  r125, L10
  Index        r127, r67, r123
  // d_week_seq: g.key.week_seq,
  Const        r128, "d_week_seq"
  Index        r129, r127, r58
  Index        r130, r129, r56
  // sun_sales: sum(from x in g where x.day == "Sunday" select x.sales_price),
  Const        r131, "sun_sales"
  Const        r132, []
  IterPrep     r133, r127
  Len          r134, r133
  Move         r135, r11
L13:
  LessInt      r136, r135, r134
  JumpIfFalse  r136, L11
  Index        r138, r133, r135
  Index        r139, r138, r6
  Const        r140, "Sunday"
  Equal        r141, r139, r140
  JumpIfFalse  r141, L12
  Index        r142, r138, r4
  Append       r132, r132, r142
L12:
  AddInt       r135, r135, r29
  Jump         L13
L11:
  Sum          r144, r132
  // mon_sales: sum(from x in g where x.day == "Monday" select x.sales_price),
  Const        r145, "mon_sales"
  Const        r146, []
  IterPrep     r147, r127
  Len          r148, r147
  Move         r149, r11
L16:
  LessInt      r150, r149, r148
  JumpIfFalse  r150, L14
  Index        r138, r147, r149
  Index        r152, r138, r6
  Const        r153, "Monday"
  Equal        r154, r152, r153
  JumpIfFalse  r154, L15
  Index        r155, r138, r4
  Append       r146, r146, r155
L15:
  AddInt       r149, r149, r29
  Jump         L16
L14:
  Sum          r157, r146
  // tue_sales: sum(from x in g where x.day == "Tuesday" select x.sales_price),
  Const        r158, "tue_sales"
  Const        r159, []
  IterPrep     r160, r127
  Len          r161, r160
  Move         r162, r11
L19:
  LessInt      r163, r162, r161
  JumpIfFalse  r163, L17
  Index        r138, r160, r162
  Index        r165, r138, r6
  Const        r166, "Tuesday"
  Equal        r167, r165, r166
  JumpIfFalse  r167, L18
  Index        r168, r138, r4
  Append       r159, r159, r168
L18:
  AddInt       r162, r162, r29
  Jump         L19
L17:
  Sum          r170, r159
  // wed_sales: sum(from x in g where x.day == "Wednesday" select x.sales_price),
  Const        r171, "wed_sales"
  Const        r172, []
  IterPrep     r173, r127
  Len          r174, r173
  Move         r175, r11
L22:
  LessInt      r176, r175, r174
  JumpIfFalse  r176, L20
  Index        r138, r173, r175
  Index        r178, r138, r6
  Const        r179, "Wednesday"
  Equal        r180, r178, r179
  JumpIfFalse  r180, L21
  Index        r181, r138, r4
  Append       r172, r172, r181
L21:
  AddInt       r175, r175, r29
  Jump         L22
L20:
  Sum          r183, r172
  // thu_sales: sum(from x in g where x.day == "Thursday" select x.sales_price),
  Const        r184, "thu_sales"
  Const        r185, []
  IterPrep     r186, r127
  Len          r187, r186
  Move         r188, r11
L25:
  LessInt      r189, r188, r187
  JumpIfFalse  r189, L23
  Index        r138, r186, r188
  Index        r191, r138, r6
  Const        r192, "Thursday"
  Equal        r193, r191, r192
  JumpIfFalse  r193, L24
  Index        r194, r138, r4
  Append       r185, r185, r194
L24:
  AddInt       r188, r188, r29
  Jump         L25
L23:
  Sum          r196, r185
  // fri_sales: sum(from x in g where x.day == "Friday" select x.sales_price),
  Const        r197, "fri_sales"
  Const        r198, []
  IterPrep     r199, r127
  Len          r200, r199
  Move         r201, r11
L28:
  LessInt      r202, r201, r200
  JumpIfFalse  r202, L26
  Index        r138, r199, r201
  Index        r204, r138, r6
  Const        r205, "Friday"
  Equal        r206, r204, r205
  JumpIfFalse  r206, L27
  Index        r207, r138, r4
  Append       r198, r198, r207
L27:
  AddInt       r201, r201, r29
  Jump         L28
L26:
  Sum          r209, r198
  // sat_sales: sum(from x in g where x.day == "Saturday" select x.sales_price)
  Const        r210, "sat_sales"
  Const        r211, []
  IterPrep     r212, r127
  Len          r213, r212
  Move         r214, r11
L31:
  LessInt      r215, r214, r213
  JumpIfFalse  r215, L29
  Index        r138, r212, r214
  Index        r217, r138, r6
  Const        r218, "Saturday"
  Equal        r219, r217, r218
  JumpIfFalse  r219, L30
  Index        r220, r138, r4
  Append       r211, r211, r220
L30:
  AddInt       r214, r214, r29
  Jump         L31
L29:
  Sum          r222, r211
  // d_week_seq: g.key.week_seq,
  Move         r223, r128
  Move         r224, r130
  // sun_sales: sum(from x in g where x.day == "Sunday" select x.sales_price),
  Move         r225, r131
  Move         r226, r144
  // mon_sales: sum(from x in g where x.day == "Monday" select x.sales_price),
  Move         r227, r145
  Move         r228, r157
  // tue_sales: sum(from x in g where x.day == "Tuesday" select x.sales_price),
  Move         r229, r158
  Move         r230, r170
  // wed_sales: sum(from x in g where x.day == "Wednesday" select x.sales_price),
  Move         r231, r171
  Move         r232, r183
  // thu_sales: sum(from x in g where x.day == "Thursday" select x.sales_price),
  Move         r233, r184
  Move         r234, r196
  // fri_sales: sum(from x in g where x.day == "Friday" select x.sales_price),
  Move         r235, r197
  Move         r236, r209
  // sat_sales: sum(from x in g where x.day == "Saturday" select x.sales_price)
  Move         r237, r210
  Move         r238, r222
  // select {
  MakeMap      r239, 8, r223
  // from w in wscs
  Append       r55, r55, r239
  AddInt       r123, r123, r29
  Jump         L32
L10:
  // json(result)
  JSON         r0
  // expect len(result) == 0
  Const        r241, true
  Expect       r241
  Return       r0
