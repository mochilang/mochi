" Generated by Mochi compiler v0.10.25 on 2025-07-13T14:24:44Z
"
| company_type info_type title movie_companies movie_info candidate_titles result |
company_type := {Dictionary from:{'ct_id'->1. 'kind'->'production companies'}. Dictionary from:{'ct_id'->2. 'kind'->'other'}}.
info_type := {Dictionary from:{'it_id'->10. 'info'->'languages'}}.
title := {Dictionary from:{'t_id'->100. title->'B Movie'. 'production_year'->2010}. Dictionary from:{'t_id'->200. title->'A Film'. 'production_year'->2012}. Dictionary from:{'t_id'->300. title->'Old Movie'. 'production_year'->2000}}.
movie_companies := {Dictionary from:{'movie_id'->100. 'company_type_id'->1. 'note'->'ACME (France) (theatrical)'}. Dictionary from:{'movie_id'->200. 'company_type_id'->1. 'note'->'ACME (France) (theatrical)'}. Dictionary from:{'movie_id'->300. 'company_type_id'->1. 'note'->'ACME (France) (theatrical)'}}.
movie_info := {Dictionary from:{'movie_id'->100. 'info'->'German'. 'info_type_id'->10}. Dictionary from:{'movie_id'->200. 'info'->'Swedish'. 'info_type_id'->10}. Dictionary from:{'movie_id'->300. 'info'->'German'. 'info_type_id'->10}}.
candidate_titles := [ | tmp |
  tmp := OrderedCollection new.
  company_type do: [:ct |
    movie_companies do: [:mc |
      movie_info do: [:mi |
        info_type do: [:it |
          title do: [:t |
            (((((((((((((((ct at: 'kind') = ('production companies'))) and: [(('(theatrical)' in (mc at: 'note')))])) and: [(('(France)' in (mc at: 'note')))])) and: [(((t at: 'production_year') > 2005))])) and: [(((mi at: 'info') in ({'Sweden'. 'Norway'. 'Germany'. 'Denmark'. 'Swedish'. 'Denish'. 'Norwegian'. 'German'})))]) and: [(mc.company_type_id = ct.ct_id)]) and: [(mi.movie_id = mc.movie_id)]) and: [(it.it_id = mi.info_type_id)]) and: [(t.t_id = mc.movie_id)])) ifTrue: [
              tmp add: t at: 'title'.
            ].
          ].
        ].
      ].
    ].
  ].
  tmp
] value.
result := {Dictionary from:{'typical_european_movie'->(candidate_titles min)}}.
json value: result.
((result = ({Dictionary from:{'typical_european_movie'->'A Film'}}))) ifTrue: [Transcript show:'ok'; cr] ifFalse: [Transcript show:'fail'; cr].
