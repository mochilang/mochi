// Generated by Mochi compiler v0.10.25 on 2025-07-13T11:22:56Z
import 'dart:convert';

var company_type = [{'id': 1, 'kind': 'production companies'}, {'id': 2, 'kind': 'distributors'}];

var info_type = [{'id': 10, 'info': 'top 250 rank'}, {'id': 20, 'info': 'bottom 10 rank'}];

var title = [{'id': 100, 'title': 'Good Movie', 'production_year': 1995}, {'id': 200, 'title': 'Bad Movie', 'production_year': 2000}];

var movie_companies = [{'movie_id': 100, 'company_type_id': 1, 'note': 'ACME (co-production)'}, {'movie_id': 200, 'company_type_id': 1, 'note': 'MGM (as Metro-Goldwyn-Mayer Pictures)'}];

var movie_info_idx = [{'movie_id': 100, 'info_type_id': 10}, {'movie_id': 200, 'info_type_id': 20}];

var filtered = (() {
  var _q0 = <dynamic>[];
  for (var ct in company_type) {
    for (var mc in movie_companies) {
      if (!(ct['id'] == mc['company_type_id'])) continue;
      for (var t in title) {
        if (!(t['id'] == mc['movie_id'])) continue;
        for (var mi in movie_info_idx) {
          if (!(mi['movie_id'] == t['id'])) continue;
          for (var it in info_type) {
            if (!(it['id'] == mi['info_type_id'])) continue;
            if (!((ct['kind'] == 'production companies' && it['info'] == 'top 250 rank' && (!(mc['note'] as dynamic).contains('(as Metro-Goldwyn-Mayer Pictures)')) && ((mc['note'] as dynamic).contains('(co-production)') || (mc['note'] as dynamic).contains('(presents)'))) ?? false)) continue;
            _q0.add({'note': mc['note'], 'title': t['title'], 'year': t['production_year']});
          }
        }
      }
    }
  }
  return _q0;
})();

var result = {'production_note': (() { var _t2 = (() {
  var _q1 = <dynamic>[];
  for (var r in filtered) {
    _q1.add(r['note']);
  }
  return _q1;
})(); return _t2.reduce((a, b) => a < b ? a : b); })(), 'movie_title': (() { var _t4 = (() {
  var _q3 = <dynamic>[];
  for (var r in filtered) {
    _q3.add(r['title']);
  }
  return _q3;
})(); return _t4.reduce((a, b) => a < b ? a : b); })(), 'movie_year': (() { var _t6 = (() {
  var _q5 = <dynamic>[];
  for (var r in filtered) {
    _q5.add(r['year']);
  }
  return _q5;
})(); return _t6.reduce((a, b) => a < b ? a : b); })()};

void main() {
  print(jsonEncode([result]));
}

