# Generated by Mochi compiler v0.10.27 on 1970-01-01T00:00:00Z
from __future__ import annotations
import dataclasses
import json


@dataclasses.dataclass
class Lineitem:
    l_extendedprice: float
    l_discount: float
    l_shipdate: str
    l_quantity: int

    def __getitem__(self, key):
        return getattr(self, key)

    def __contains__(self, key):
        return hasattr(self, key)


def test_Q6_calculates_revenue_from_qualified_lineitems():
    assert result == 1000.0 * 0.06 + 500.0 * 0.07


lineitem = [
    Lineitem(
        l_extendedprice=1000.0, l_discount=0.06, l_shipdate="1994-02-15", l_quantity=10
    ),
    Lineitem(
        l_extendedprice=500.0, l_discount=0.07, l_shipdate="1994-03-10", l_quantity=23
    ),
    Lineitem(
        l_extendedprice=400.0, l_discount=0.04, l_shipdate="1994-04-10", l_quantity=15
    ),
    Lineitem(
        l_extendedprice=200.0, l_discount=0.06, l_shipdate="1995-01-01", l_quantity=5
    ),
]
result = sum(
    [
        (
            l.get("l_extendedprice")
            if isinstance(l, dict)
            else getattr(l, "l_extendedprice")
        )
        * (l.get("l_discount") if isinstance(l, dict) else getattr(l, "l_discount"))
        for l in lineitem
        if (
            (
                (l.l_shipdate >= "1994-01-01" and l.l_shipdate < "1995-01-01")
                and l.l_discount >= 0.05
            )
            and l.l_discount <= 0.07
        )
        and l.l_quantity < 24
    ]
)
print(json.dumps(result, separators=(",", ":"), default=lambda o: vars(o)))
test_Q6_calculates_revenue_from_qualified_lineitems()
