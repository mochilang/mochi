line 15:8: unknown type name 'map_string'
  15| static map_string _fetch(const char *url, void *opts) {
            ^
  16|   (void)opts;
line 19:12: call to undeclared function '_read_all'; ISO C99 and later do not support implicit function declarations [-Wimplicit-function-declaration]
  19|     data = _read_all(url + 7);
                ^
  20|   } else if (strncmp(url, "file:", 5) == 0) {
line 19:10: incompatible integer to pointer conversion assigning to 'char *' from 'int' [-Wint-conversion]
  19|     data = _read_all(url + 7);
              ^
  20|   } else if (strncmp(url, "file:", 5) == 0) {
line 21:12: call to undeclared function '_read_all'; ISO C99 and later do not support implicit function declarations [-Wimplicit-function-declaration]
  21|     data = _read_all(url + 5);
                ^
  22|   } else {
line 21:10: incompatible integer to pointer conversion assigning to 'char *' from 'int' [-Wint-conversion]
  21|     data = _read_all(url + 5);
              ^
  22|   } else {
line 46:3: use of undeclared identifier 'list_map_string'
  46|   list_map_string rows = _parse_json(data);
       ^
  47|   free(data);
line 48:7: use of undeclared identifier 'rows'
  48|   if (rows.len > 0)
           ^
  49|     return rows.data[0];
line 49:12: use of undeclared identifier 'rows'
  49|     return rows.data[0];
                ^
  50|   return map_string_create(0);
line 50:10: call to undeclared function 'map_string_create'; ISO C99 and later do not support implicit function declarations [-Wimplicit-function-declaration]
  50|   return map_string_create(0);
              ^
  51| }
line 54:22: member reference base type 'int' is not a structure or union
  54|   printf("%s\n", data.data["message"]);
                          ^
  55|   return 0;
line 54:27: array subscript is not an integer
  54|   printf("%s\n", data.data["message"]);
                               ^
  55|   return 0;

source snippet:
  1: #include <stdio.h>
  2: #include <stdlib.h>
  3: #include <string.h>
  4: 
  5: typedef struct {
  6:   int len;
  7:   int *data;
  8: } list_int;
  9: static list_int list_int_create(int len) {
 10:   list_int l;
exit status 1
