# Generated by Mochi C# compiler
type Sensor {
  id: string
  temperature: float
}
type Program {
}
fun Program.Main() {
  var _SensorStream = new _Stream<Sensor>("Sensor")
  void _handler_0(Sensor ev) {
  var s = ev
  print(string.Join(" ", new [] { Convert.ToString(s.id), Convert.ToString(s.temperature) }))
  }
  _SensorStream.Register(_handler_0)
  _SensorStream.Append(new Sensor { id = "sensor-1", temperature = 22.500000 })
}
type _Stream {
  name: string
  handlers: list<any>
}
fun _Stream.Append(data) {
  for h in new List<Action<T>>(handlers)) { h(data); } {
}
