Customer = []
Customer["__index"] = Customer
fun Customer["new"](o) {
  o = o || []
  setmetatable(o, Customer)
  return o
}
Order = []
Order["__index"] = Order
fun Order["new"](o) {
  o = o || []
  setmetatable(o, Order)
  return o
}
PairInfo = []
PairInfo["__index"] = PairInfo
fun PairInfo["new"](o) {
  o = o || []
  setmetatable(o, PairInfo)
  return o
}
customers = [{ "id": 1, "name": "Alice" }, { "id": 2, "name": "Bob" }, { "id": 3, "name": "Charlie" }]
orders = [{ "id": 100, "customerId": 1, "total": 250 }, { "id": 101, "customerId": 2, "total": 125 }, { "id": 102, "customerId": 1, "total": 300 }]
result = fun() {
    let _res = []
    for _, o in ipairs(orders) {
      for _, c in ipairs(customers) {
        _res[len(_res) + 1] = { "orderId": o["id"], "orderCustomerId": o["customerId"], "pairedCustomerName": c["name"], "orderTotal": o["total"] }
      }
    }
    return _res
}()
print("--- Cross Join: All order-customer pairs ---")
for _, entry in ipairs(result) {
  print("Order", entry["orderId"], "(customerId:", entry["orderCustomerId"], ", total: $", entry["orderTotal"], ") paired with", entry["pairedCustomerName"])
}
