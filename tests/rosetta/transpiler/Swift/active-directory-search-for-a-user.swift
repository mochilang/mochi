// Generated by Mochi transpiler v0.10.39 on 2025-07-24 13:19:53 GMT+7
import Foundation

func search_user(_ directory: [String: [String]], _ username: String) -> [String] {
    var directory = directory
    var username = username
    return (directory[String(username)]! as! [String])
}
func main() {
    let client = ["Base": "dc=example,dc=com", "Host": "ldap.example.com", "Port": 389, "GroupFilter": "(memberUid=%s)"] as [String: Any]
    let directory = ["username": (["admins", "users"] as! [String]), "john": (["users"] as! [String])] as [String: Any]
    let groups = (search_user((directory as! [String: [String]]), "username") as! [String])
    if (Int((((groups as! [String])).count)) > 0) {
        var out = "Groups: ["
        var i = 0
        while (Int(i) < Int((((groups as! [String])).count))) {
            out = ((((String(out) + "\"") + String(groups[Int(i)])) + "\"") as! String)
            if (Int(i) < (Int((((groups as! [String])).count)) - 1)) {
                out = ((String(out) + ", ") as! String)
            }
            i = ((Int(i) + 1) as! Int)
        }
        out = ((String(out) + "]") as! String)
        print(String(out))
    } else {
        print("User not found")
    }
}
main()
