// Generated by Mochi transpiler v0.10.39 on 2025-07-25 09:14:19 GMT+7
import Foundation

func fields(_ s: String) -> [String] {
    var res: [String] = ([] as! [String])
    var cur = ""
    var i = 0
    while (i < Int(((s).count))) {
        let c = String(Array(s)[i..<(i + 1)])
        if (c == " ") {
            if (Int(((cur).count)) > 0) {
                res = ((res + [cur]) as! [String])
                cur = ""
            }
        } else {
            cur = ((cur + c) as! String)
        }
        i = ((i + 1) as! Int)
    }
    if (Int(((cur).count)) > 0) {
        res = ((res + [cur]) as! [String])
    }
    return (res as! [String])
}
func canSpell(_ word: String, _ blks: [String]) -> Bool {
    if (Int(((word).count)) == 0) {
        return true
    }
    let c = String(describing: (String(Array(word)[0..<1]).lowercased()))
    var i = 0
    while (i < Int(((blks).count))) {
        let b = String(describing: blks[i])
        if ((c == String(describing: (String(Array(b)[0..<1]).lowercased()))) || (c == String(describing: (String(Array(b)[1..<2]).lowercased())))) {
            var rest: [String] = ([] as! [String])
            var j = 0
            while (j < Int(((blks).count))) {
                if (j != i) {
                    rest = ((rest + [String(describing: blks[j])]) as! [String])
                }
                j = ((j + 1) as! Int)
            }
            if Bool(canSpell((String(Array(word)[1..<Array(word).count]) as! String), (rest as! [String]))) {
                return true
            }
        }
        i = ((i + 1) as! Int)
    }
    return false
}
func newSpeller(_ blocks: String) -> (String) -> Bool {
    let bl = (fields((blocks as! String)) as! [String])
    return { (w: String) -> Bool in Bool(canSpell((w as! String), (bl as! [String]))) }
}
func main() {
    let sp = newSpeller("BO XK DQ CP NA GT RE TG QD FS JW HU VI AN OB ER FS LY PC ZM")
    for word in (["A", "BARK", "BOOK", "TREAT", "COMMON", "SQUAD", "CONFUSE"] as! [String]) {
        print(((String(describing: word) + " ") + String(describing: Bool(sp((word as! String))))))
    }
}
_ = main()
