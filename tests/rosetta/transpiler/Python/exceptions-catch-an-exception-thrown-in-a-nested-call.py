# Code generated by Mochi transpiler.
# Version 0.10.50, generated on 2025-07-31 00:22 +0700
import sys
sys.set_int_max_str_digits(0)
import os
if os.path.dirname(__file__) in sys.path:
    sys.path.remove(os.path.dirname(__file__))

bazCall = 0
def baz():
    global bazCall
    bazCall = bazCall + 1
    print("baz: start")
    if bazCall == 1:
        print("baz: raising U0")
        return "U0"
    if bazCall == 2:
        print("baz: raising U1")
        return "U1"
    print("baz: end")
    return ""
def bar():
    print("bar: start")
    err = baz()
    if len(err) > 0:
        return err
    print("bar: end")
    return ""
def foo():
    print("foo: start")
    err = bar()
    if err == "U0":
        print("foo: caught U0")
    else:
        if len(err) > 0:
            return err
    err = bar()
    if err == "U0":
        print("foo: caught U0")
    else:
        if len(err) > 0:
            return err
    print("foo: end")
    return ""
def main():
    print("main: start")
    err = foo()
    if len(err) > 0:
        print("main: unhandled " + err)
    else:
        print("main: success")
main()
