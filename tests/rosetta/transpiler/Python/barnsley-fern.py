# Code generated by Mochi transpiler.
# Version 0.10.42, generated on 2025-07-28 01:21 +0700
import json
import os
import resource
import time

import sys
sys.set_int_max_str_digits(0)


_now_seed = 0
_now_seeded = False
s = os.getenv("MOCHI_NOW_SEED")
if s and s != "":
    try:
        _now_seed = int(s)
        _now_seeded = True
    except Exception:
        pass

def _now():
    global _now_seed
    if _now_seeded:
        _now_seed = (_now_seed * 1664525 + 1013904223) % 2147483647
        return _now_seed
    return int(time.time_ns())

_bench_mem_start = resource.getrusage(resource.RUSAGE_SELF).ru_maxrss
_bench_start = _now()
xMin = -2.182
xMax = 2.6558
yMin = 0.0
yMax = 9.9983
width = 60
nIter = 10000
dx = xMax - xMin
dy = yMax - yMin
height = int((width * dy / dx))
grid = []
row = 0
while row < height:
    line = []
    col = 0
    while col < width:
        line = line + [" "]
        col = col + 1
    grid = grid + [line]
    row = row + 1
seed = 1
def randInt(s, n):
    next = (s * 1664525 + 1013904223) % 2147483647
    return [next, next % n]
x = 0.0
y = 0.0
ix = int(((float(width)) * (x - xMin) / dx))
iy = int(((float(height)) * (yMax - y) / dy))
if ix >= 0 and ix < width and iy >= 0 and iy < height:
    grid[iy][ix] = "*"
i = 0
while i < nIter:
    res = randInt(seed, 100)
    seed = res[0]
    r = res[1]
    if r < 85:
        nx = 0.85 * x + 0.04 * y
        ny = -0.04 * x + 0.85 * y + 1.6
        x = nx
        y = ny
    else:
        if r < 92:
            nx = 0.2 * x - 0.26 * y
            ny = 0.23 * x + 0.22 * y + 1.6
            x = nx
            y = ny
        else:
            if r < 99:
                nx = -0.15 * x + 0.28 * y
                ny = 0.26 * x + 0.24 * y + 0.44
                x = nx
                y = ny
            else:
                x = 0.0
                y = 0.16 * y
    ix = int(((float(width)) * (x - xMin) / dx))
    iy = int(((float(height)) * (yMax - y) / dy))
    if ix >= 0 and ix < width and iy >= 0 and iy < height:
        grid[iy][ix] = "*"
    i = i + 1
row = 0
while row < height:
    line = ""
    col = 0
    while col < width:
        line = line + grid[row][col]
        col = col + 1
    print(line)
    row = row + 1
_bench_end = _now()
_bench_mem_end = resource.getrusage(resource.RUSAGE_SELF).ru_maxrss
print(json.dumps({"duration_us": (_bench_end - _bench_start)//1000, "memory_bytes": _bench_mem_end*1024, "name": "main"}, indent=2))
