# Code generated by Mochi transpiler.
# Version 0.10.42, generated on 2025-07-28 08:06 +0700
import json
import os
import resource
import time

import sys
sys.set_int_max_str_digits(0)


_now_seed = 0
_now_seeded = False
s = os.getenv("MOCHI_NOW_SEED")
if s and s != "":
    try:
        _now_seed = int(s)
        _now_seeded = True
    except Exception:
        pass

def _now():
    global _now_seed
    if _now_seeded:
        _now_seed = (_now_seed * 1664525 + 1013904223) % 2147483647
        return _now_seed
    return int(time.time_ns())

def primesUpTo(n):
    sieve = []
    i = 0
    while i <= n:
        sieve = sieve + [True]
        i = i + 1
    p = 2
    while p * p <= n:
        if sieve[p]:
            m = p * p
            while m <= n:
                sieve[m] = False
                m = m + p
        p = p + 1
    res = []
    x = 2
    while x <= n:
        if sieve[x]:
            res = res + [x]
        x = x + 1
    return res
LIMIT = 999999
primes = primesUpTo(LIMIT)
def longestSeq(dir):
    pd = 0
    longSeqs = [[2]]
    currSeq = [2]
    i = 1
    while i < len(primes):
        d = primes[i] - primes[i - 1]
        if (dir == "ascending" and d <= pd) or (dir == "descending" and d >= pd):
            if len(currSeq) > len(longSeqs[0]):
                longSeqs = [currSeq]
            else:
                if len(currSeq) == len(longSeqs[0]):
                    longSeqs = longSeqs + [currSeq]
            currSeq = [primes[i - 1], primes[i]]
        else:
            currSeq = currSeq + [primes[i]]
        pd = d
        i = i + 1
    if len(currSeq) > len(longSeqs[0]):
        longSeqs = [currSeq]
    else:
        if len(currSeq) == len(longSeqs[0]):
            longSeqs = longSeqs + [currSeq]
    print("Longest run(s) of primes with " + dir + " differences is " + str(len(longSeqs[0])) + " :")
    for ls in longSeqs:
        diffs = []
        j = 1
        while j < len(ls):
            diffs = diffs + [ls[j] - ls[j - 1]]
            j = j + 1
        k = 0
        while k < len(ls) - 1:
            print(str(ls[k]) + " (" + str(diffs[k]) + ") ", ("True" if False else "False"))
            k = k + 1
        print(str(ls[len(ls) - 1]))
    print("")
def main():
    _bench_mem_start = resource.getrusage(resource.RUSAGE_SELF).ru_maxrss
    _bench_start = _now()
    print("For primes < 1 million:\n")
    for dir in ["ascending", "descending"]:
        longestSeq(dir)
    _bench_end = _now()
    _bench_mem_end = resource.getrusage(resource.RUSAGE_SELF).ru_maxrss
    print(json.dumps({"duration_us": (_bench_end - _bench_start)//1000, "memory_bytes": _bench_mem_end*1024, "name": "main"}, indent=2))
main()
