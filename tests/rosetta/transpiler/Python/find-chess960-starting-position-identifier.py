# Code generated by Mochi transpiler.
# Version 0.10.42, generated on 2025-07-27 16:50 +0700
import sys
sys.set_int_max_str_digits(0)

glyphs = "♜♞♝♛♚♖♘♗♕♔"
g2lMap = {"♜": "R", "♞": "N", "♝": "B", "♛": "Q", "♚": "K", "♖": "R", "♘": "N", "♗": "B", "♕": "Q", "♔": "K"}
names = {"R": "rook", "N": "knight", "B": "bishop", "Q": "queen", "K": "king"}
ntable = {"01": 0, "02": 1, "03": 2, "04": 3, "12": 4, "13": 5, "14": 6, "23": 7, "24": 8, "34": 9}
def indexOf(s, sub):
    i = 0
    while i <= len(s) - len(sub):
        if s[i:i + len(sub)] == sub:
            return i
        i = i + 1
    return -1
def strReplace(s, old, new):
    res = ""
    i = 0
    while i < len(s):
        if len(old) > 0 and i + len(old) <= len(s) and s[i:i + len(old)] == old:
            res = res + new
            i = i + len(old)
        else:
            res = res + "".join(s[i:i + 1])
            i = i + 1
    return res
def g2l(pieces):
    lets = ""
    i = 0
    while i < len(pieces):
        ch = pieces[i:i + 1]
        lets = lets + g2lMap.get(ch)
        i = i + 1
    return lets
def spid(pieces):
    pieces = g2l(pieces)
    if len(pieces) != 8:
        return -1
    for one in ["K", "Q"]:
        count = 0
        i = 0
        while i < len(pieces):
            if pieces[i:i + 1] == one:
                count = count + 1
            i = i + 1
        if count != 1:
            return -1
    for two in ["R", "N", "B"]:
        count = 0
        i = 0
        while i < len(pieces):
            if pieces[i:i + 1] == two:
                count = count + 1
            i = i + 1
        if count != 2:
            return -1
    r1 = pieces.find("R")
    r2 = pieces[r1 + 1:len(pieces)].find("R") + r1 + 1
    k = pieces.find("K")
    if k < r1 or k > r2:
        return -1
    b1 = pieces.find("B")
    b2 = pieces[b1 + 1:len(pieces)].find("B") + b1 + 1
    if (b2 - b1) % 2 == 0:
        return -1
    piecesN = strReplace(pieces, "Q", "")
    piecesN = strReplace(piecesN, "B", "")
    n1 = piecesN.find("N")
    n2 = piecesN[n1 + 1:len(piecesN)].find("N") + n1 + 1
    np = str(n1) + str(n2)
    N = ntable.get(np)
    piecesQ = strReplace(pieces, "B", "")
    Q = piecesQ.find("Q")
    D = "0246".find(str(b1))
    L = "1357".find(str(b2))
    if D == (0 - 1):
        D = "0246".find(str(b2))
        L = "1357".find(str(b1))
    return 96 * N + 16 * Q + 4 * D + L
def main():
    for pieces in ["♕♘♖♗♗♘♔♖", "♖♘♗♕♔♗♘♖", "♖♕♘♗♗♔♖♘", "♖♘♕♗♗♔♖♘"]:
        print(pieces + " or " + g2l(pieces) + " has SP-ID of " + str(spid(pieces)))
main()
