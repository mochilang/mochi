# Code generated by Mochi transpiler.
# Version 0.10.42, generated on 2025-07-28 01:16 +0700
import json
import os
import resource
import time

import sys
sys.set_int_max_str_digits(0)


_now_seed = 0
_now_seeded = False
s = os.getenv("MOCHI_NOW_SEED")
if s and s != "":
    try:
        _now_seed = int(s)
        _now_seeded = True
    except Exception:
        pass

def _now():
    global _now_seed
    if _now_seeded:
        _now_seed = (_now_seed * 1664525 + 1013904223) % 2147483647
        return _now_seed
    return int(time.time_ns())

def trimLeftZeros(s):
    i = 0
    while i < len(s) and s[i:i + 1] == "0":
        i = i + 1
    return s[i:len(s)]
def btString(s):
    s = trimLeftZeros(s)
    b = []
    i = len(s) - 1
    while i >= 0:
        ch = s[i:i + 1]
        if ch == "+":
            b = b + [1]
        else:
            if ch == "0":
                b = b + [0]
            else:
                if ch == "-":
                    b = b + [0 - 1]
                else:
                    return {"bt": [], "ok": False}
        i = i - 1
    return {"bt": b, "ok": True}
def btToString(b):
    if len(b) == 0:
        return "0"
    r = ""
    i = len(b) - 1
    while i >= 0:
        d = b[i]
        if d == 0 - 1:
            r = r + "-"
        else:
            if d == 0:
                r = r + "0"
            else:
                r = r + "+"
        i = i - 1
    return r
def btInt(i):
    if i == 0:
        return []
    n = i
    b = []
    while n != 0:
        m = n % 3
        n = int((n // 3))
        if m == 2:
            m = 0 - 1
            n = n + 1
        else:
            if m == 0 - 2:
                m = 1
                n = n - 1
        b = b + [m]
    return b
def btToInt(b):
    r = 0
    pt = 1
    i = 0
    while i < len(b):
        r = r + b[i] * pt
        pt = pt * 3
        i = i + 1
    return r
def btNeg(b):
    r = []
    i = 0
    while i < len(b):
        r = r + [-b[i]]
        i = i + 1
    return r
def btAdd(a, b):
    return btInt(btToInt(a) + btToInt(b))
def btMul(a, b):
    return btInt(btToInt(a) * btToInt(b))
def padLeft(s, w):
    r = s
    while len(r) < w:
        r = " " + r
    return r
def show(label, b):
    l = padLeft(label, 7)
    bs = padLeft(btToString(b), 12)
    is_ = padLeft(str(btToInt(b)), 7)
    print(l + " " + bs + " " + is_)
def main():
    _bench_mem_start = resource.getrusage(resource.RUSAGE_SELF).ru_maxrss
    _bench_start = _now()
    ares = btString("+-0++0+")
    a = ares.get("bt")
    b = btInt(-436)
    cres = btString("+-++-")
    c = cres.get("bt")
    show("a:", a)
    show("b:", b)
    show("c:", c)
    show("a(b-c):", btMul(a, btAdd(b, btNeg(c))))
    _bench_end = _now()
    _bench_mem_end = resource.getrusage(resource.RUSAGE_SELF).ru_maxrss
    print(json.dumps({"duration_us": (_bench_end - _bench_start)//1000, "memory_bytes": _bench_mem_end*1024, "name": "main"}, indent=2))
main()
