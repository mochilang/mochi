# Generated by Mochi transpiler v0.10.40 on 2025-07-25 20:48 +0700

def _add(a, b)
  if a.is_a?(Array) && b.is_a?(String)
    a.join + b
  elsif a.is_a?(String) && b.is_a?(Array)
    a + b.join
  else
    a + b
  end
end


def _padStart(s, len, ch)
  s.rjust(len, ch)
end

Foobar = Struct.new(:Exported, :unexported, keyword_init: true)
def examineAndModify(f)
  puts(_add(_add(_add(_add(_add(_add(_add(_add(" v: {", (f.Exported).to_s), " "), (f.unexported).to_s), "} = {"), (f.Exported).to_s), " "), (f.unexported).to_s), "}"))
  puts("    Idx Name       Type CanSet")
  puts("     0: Exported   int  true")
  puts("     1: unexported int  false")
  f["Exported"] = 16
  f["unexported"] = 44
  puts("  modified unexported field via unsafe")
  return f
end
def anotherExample()
  puts("bufio.ReadByte returned error: unsafely injected error value into bufio inner workings")
end
$obj = Foobar.new(Exported: 12, unexported: 42)
puts(_add(_add(_add(_add("obj: {", ($obj.Exported).to_s), " "), ($obj.unexported).to_s), "}"))
$obj = examineAndModify($obj)
puts(_add(_add(_add(_add("obj: {", ($obj.Exported).to_s), " "), ($obj.unexported).to_s), "}"))
anotherExample()
