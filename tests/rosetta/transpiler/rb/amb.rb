# Generated by Mochi transpiler v0.10.37 on 2025-07-23 13:02 +0700
def amb(wordsets, res, idx)
  if idx == wordsets.length
    return true
  end
  prev = ""
  if idx > 0
    prev = res[idx - 1]
  end
  i = 0
  while i < wordsets[idx].length
    w = wordsets[idx][i]
    if idx == 0 || prev[prev.length - 1...prev.length] == w[0...1]
      res[idx] = w
      if amb(wordsets, res, idx + 1)
        return true
      end
    end
    i = i + 1
  end
  return false
end
def main()
  wordset = [["the", "that", "a"], ["frog", "elephant", "thing"], ["walked", "treaded", "grows"], ["slowly", "quickly"]]
  res = []
  i = 0
  while i < wordset.length
    res = res + [""]
    i = i + 1
  end
  if amb(wordset, res, 0)
    out = "[" + res[0]
    j = 1
    while j < res.length
      out = out + " " + res[j]
      j = j + 1
    end
    out = out + "]"
    puts(out)
  else
    puts("No amb found")
  end
end
main()
