# Generated by Mochi transpiler v0.10.37 on 2025-07-23 14:05 +0700

def _add(a, b)
  if a.is_a?(Array) && b.is_a?(String)
    a.join + b
  elsif a.is_a?(String) && b.is_a?(Array)
    a + b.join
  else
    a + b
  end
end

$seed = 1
def prng(max)
  $seed = (_add($seed * 1103515245, 12345)) % 2147483648
  return $seed % max
end
def gen(n)
  arr = []
  i = 0
  while i < n
    arr = arr + ["["]
    arr = arr + ["]"]
    i = _add(i, 1)
  end
  j = arr.length - 1
  while j > 0
    k = prng(_add(j, 1))
    tmp = arr[j]
    arr[j] = arr[k]
    arr[k] = tmp
    j = j - 1
  end
  out = ""
  arr.each do |ch|
    out = _add(out, ch)
  end
  return out
end
def testBalanced(s)
  open = 0
  i = 0
  while i < s.length
    c = s[i..._add(i, 1)]
    if c == "["
      open = _add(open, 1)
    else
      if c == "]"
        if open == 0
          puts(_add(s, ": not ok"))
          return
        end
        open = open - 1
      else
        puts(_add(s, ": not ok"))
        return
      end
    end
    i = _add(i, 1)
  end
  if open == 0
    puts(_add(s, ": ok"))
  else
    puts(_add(s, ": not ok"))
  end
end
def main()
  i = 0
  while i < 10
    testBalanced(gen(i))
    i = _add(i, 1)
  end
  testBalanced("()")
end
main()
