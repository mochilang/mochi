# Generated by Mochi transpiler v0.10.37 on 2025-07-23 14:05 +0700

def _add(a, b)
  if a.is_a?(Array) && b.is_a?(String)
    a.join + b
  elsif a.is_a?(String) && b.is_a?(Array)
    a + b.join
  else
    a + b
  end
end

$xMin = -2.182
$xMax = 2.6558
$yMin = 0.0
$yMax = 9.9983
$width = 60
$nIter = 10000
$dx = $xMax - $xMin
$dy = $yMax - $yMin
$height = ($width * $dy / $dx)
$grid = []
$row = 0
while $row < $height
  $line = []
  $col = 0
  while $col < $width
    $line = $line + [" "]
    $col = _add($col, 1)
  end
  $grid = $grid + [$line]
  $row = _add($row, 1)
end
$seed = 1
def randInt(s, n)
  next_ = (_add(s * 1664525, 1013904223)) % 2147483647
  return [next_, next_ % n]
end
$x = 0.0
$y = 0.0
$ix = (($width) * ($x - $xMin) / $dx)
$iy = (($height) * ($yMax - $y) / $dy)
if $ix >= 0 && $ix < $width && $iy >= 0 && $iy < $height
  $grid[$iy][$ix] = "*"
end
$i = 0
while $i < $nIter
  $res = randInt($seed, 100)
  $seed = $res[0]
  $r = $res[1]
  if $r < 85
    $nx = _add(0.85 * $x, 0.04 * $y)
    $ny = _add(_add(-0.04 * $x, 0.85 * $y), 1.6)
    $x = $nx
    $y = $ny
  else
    if $r < 92
      $nx = 0.2 * $x - 0.26 * $y
      $ny = _add(_add(0.23 * $x, 0.22 * $y), 1.6)
      $x = $nx
      $y = $ny
    else
      if $r < 99
        $nx = _add(-0.15 * $x, 0.28 * $y)
        $ny = _add(_add(0.26 * $x, 0.24 * $y), 0.44)
        $x = $nx
        $y = $ny
      else
        $x = 0.0
        $y = 0.16 * $y
      end
    end
  end
  $ix = (($width) * ($x - $xMin) / $dx)
  $iy = (($height) * ($yMax - $y) / $dy)
  if $ix >= 0 && $ix < $width && $iy >= 0 && $iy < $height
    $grid[$iy][$ix] = "*"
  end
  $i = _add($i, 1)
end
$row = 0
while $row < $height
  $line = ""
  $col = 0
  while $col < $width
    $line = _add($line, $grid[$row][$col])
    $col = _add($col, 1)
  end
  puts($line)
  $row = _add($row, 1)
end
