# Generated by Mochi transpiler v0.10.37 on 2025-07-23 13:23 +0700

def _add(a, b)
  if a.is_a?(Array) && b.is_a?(String)
    a.join + b
  elsif a.is_a?(String) && b.is_a?(Array)
    a + b.join
  else
    a + b
  end
end

$msg = "Hello World! "
$shift = 0
$inc = 1
$clicks = 0
$frames = 0
while $clicks < 5
  $line = ""
  $i = 0
  while $i < $msg.length
    $idx = (_add($shift, $i)) % $msg.length
    $line = _add($line, $msg[$idx..._add($idx, 1)])
    $i = _add($i, 1)
  end
  puts($line)
  $shift = (_add($shift, $inc)) % $msg.length
  $frames = _add($frames, 1)
  if $frames % $msg.length == 0
    $inc = $msg.length - $inc
    $clicks = _add($clicks, 1)
  end
end
