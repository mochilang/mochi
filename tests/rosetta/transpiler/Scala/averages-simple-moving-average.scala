// Generated by Mochi v0.10.39 on 2025-07-25 01:20:52 GMT+7
import scala.collection.mutable.{ArrayBuffer, Map}
object Main {
  def indexOf(s: String, ch: String): Int = {
    var i: Int = 0
    while (i < (s).size) {
      if (s.substring(i, i + 1) == ch) {
        return i
      }
      i = (i + 1).asInstanceOf[Int]
    }
    return 0 - 1
  }
  
  def fmt3(x: Double): String = {
    var y: Double = ((x * 1000.0 + 0.5).asInstanceOf[Int]).toString.toDouble / 1000.0
    var s = String.valueOf(y)
    var dot: Int = indexOf(s, ".")
    if (dot == 0 - 1) {
      s = s + ".000"
    } else {
      var decs = (s).size - dot - 1
      if (decs > 3) {
        s = s.substring(0, dot + 4)
      } else {
        while (decs < 3) {
          s = s + "0"
          decs = (decs + 1).asInstanceOf[Int]
        }
      }
    }
    return s
  }
  
  def pad(s: String, width: Int): String = {
    var out: String = s
    while ((out).size < width) {
      out = " " + out
    }
    return out
  }
  
  def smaSeries(xs: ArrayBuffer[Double], period: Int): ArrayBuffer[Double] = {
    var res: ArrayBuffer[Double] = ArrayBuffer()
    var sum: Double = 0.0
    var i: Int = 0
    while (i < (xs).size) {
      sum = (sum + xs(i)).asInstanceOf[Double]
      if (i >= period) {
        sum = (sum - xs(i - period)).asInstanceOf[Double]
      }
      var denom = i + 1
      if (denom > period) {
        denom = period
      }
      res = res :+ sum / denom.toString.toDouble
      i = (i + 1).asInstanceOf[Int]
    }
    return res
  }
  
  def main() = {
    var xs: ArrayBuffer[Double] = ArrayBuffer(1.0, 2.0, 3.0, 4.0, 5.0, 5.0, 4.0, 3.0, 2.0, 1.0)
    var sma3: ArrayBuffer[Double] = smaSeries(xs, 3)
    var sma5: ArrayBuffer[Double] = smaSeries(xs, 5)
    println("x       sma3   sma5")
    var i: Int = 0
    while (i < (xs).size) {
      val line: String = pad(fmt3(xs(i)), 5) + "  " + pad(fmt3(sma3(i)), 5) + "  " + pad(fmt3(sma5(i)), 5)
      println(line)
      i = (i + 1).asInstanceOf[Int]
    }
  }
  
  def main(args: Array[String]): Unit = {
    main()
  }
}
