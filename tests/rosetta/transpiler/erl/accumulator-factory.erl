#!/usr/bin/env escript
-module(main).
-compile([nowarn_shadow_vars, nowarn_unused_vars]).
-export([main/1, accumulator/1, main/0]).

% Generated by Mochi transpiler v0.10.39 (aa9afa7164) on 2025-07-24 16:13 +0700

accumulator(Sum) ->
    try
        Store = [Sum],
        Add = fun(Nv) ->
    try
        Store_2 = lists:sublist(Store, 0) ++ [(lists:nth(0 + 1, Store) + Nv)] ++ lists:nthtail(0 + 1, Store),
        lists:nth(0 + 1, Store_2)
    catch {return, Ret} -> Ret end
end,
        Add
    catch {return, Ret} -> Ret end.

main() ->
    try
        X = accumulator(1),
        X(5),
        accumulator(3),
        io:format("~ts~n", [lists:flatten(io_lib:format("~p", [X(2.3)]))]),
        nil
    catch {return, Ret} -> Ret end.

main(_) ->
    main().
