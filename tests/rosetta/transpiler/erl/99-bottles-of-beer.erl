#!/usr/bin/env escript
-module(main).
-export([main/1, bottles/1, main/0]).

% Generated by Mochi transpiler v0.10.37 (6b8856ebe) on 2025-07-22 14:04 UTC

bottles(N) ->
    try
        case (N == 0) of
        true -> throw({return, "No more bottles"});
        _ -> ok
    end,
        case (N == 1) of
        true -> throw({return, "1 bottle"});
        _ -> ok
    end,
        (integer_to_list(N) ++ " bottles")
    catch {return, V} -> V end.

main() ->
    try
        I = 99,
        Fun = fun(F, I) ->
    case (I > 0) of
        true ->
            io:format("~ts~n", [(bottles(I) ++ " of beer on the wall")]),
            io:format("~ts~n", [(bottles(I) ++ " of beer")]),
            io:format("~ts~n", ["Take one down, pass it around"]),
            io:format("~ts~n", [(bottles((I - 1)) ++ " of beer on the wall")]),
            I2 = (I - 1),
            F(F, I2);
        _ -> ok
    end
end,
Fun(Fun, I),
        nil
    catch {return, V} -> V end.

main(_) ->
    main().
