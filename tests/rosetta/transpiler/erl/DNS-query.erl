#!/usr/bin/env escript
-module(main).
-compile([nowarn_shadow_vars, nowarn_unused_vars]).
-export([main/1]).

% Generated by Mochi transpiler v0.10.37 (4bb2089e41) on 2025-07-23 13:45 +0700


mochi_lookup_host(Host) ->
    case inet:gethostbyname(Host) of
        {ok, {hostent, _, _, _, _, Addrs}} ->
            IPs = [inet:ntoa(A) || A <- Addrs],
            [IPs, nil];
        {error, Reason} ->
            [nil, Reason]
    end.

main(_) ->
    erlang:put('res', mochi_lookup_host("www.kame.net")),
    erlang:put('addrs', lists:nth(0 + 1, erlang:get('res'))),
    erlang:put('err', lists:nth(1 + 1, erlang:get('res'))),
    case (erlang:get('err') == nil) of
        true -> io:format("~ts~n", [lists:flatten(io_lib:format("~p", [erlang:get('addrs')]))]);
        _ -> io:format("~p~n", [erlang:get('err')])
    end.
