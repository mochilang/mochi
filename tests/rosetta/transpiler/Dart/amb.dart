// Generated by Mochi transpiler
bool amb(List<List<String>> wordsets, List<String> res, int idx) {
  if (idx == wordsets.length) {
    return true;
  }
  String prev = "";
  if (idx > 0) {
    prev = res[idx - 1];
  }
  int i = 0;
  while (i < wordsets[idx].length) {
    final String w = wordsets[idx]![i];
    if (idx == 0 || prev.substring(prev.length - 1, prev.length) == w.substring(0, 1)) {
    res[idx] = w;
    if (amb(wordsets, res, idx + 1)) {
    return true;
  };
  }
    i = i + 1;
  }
  return false;
}

void main() {
  final List<List<String>> wordset = [["the", "that", "a"], ["frog", "elephant", "thing"], ["walked", "treaded", "grows"], ["slowly", "quickly"]];
  List<String> res = [];
  int i = 0;
  while (i < wordset.length) {
    res = [...res, ""];
    i = i + 1;
  }
  if (amb(wordset, res, 0)) {
    String out = "[" + res[0];
    int j = 1;
    while (j < res.length) {
    out = out + " " + res[j];
    j = j + 1;
  };
    out = out + "]";
    print(out);
  } else {
    print("No amb found");
  }
}

void _start() {
  main();
}
