-- Generated by Mochi v0.10.52 on 2025-08-02 01:52 GMT+7
function input()
  return io.read('*l')
end
local _nil = {}
function zero(f)
  return function(x)
  return x
end
end;

function succ(c)
  return function(f)
  return function(x)
  return f(c(f)(x))
end
end
end;

function add(c, d)
  return function(f)
  return function(x)
  return c(f)(d(f)(x))
end
end
end;

function mul(c, d)
  return function(f)
  return function(x)
  return c(d(f))(x)
end
end
end;

function pow(c, d)
  local di = toInt(d)
  local prod = c
  local i = 1
  while (i < di) do
    prod = mul(prod, c)
    i = (i + 1)
  end
  return prod
end;

function incr(i)
  return (math.floor(i) + 1)
end;

function toInt(c)
  return math.floor(c(incr)(0))
end;

function intToChurch(i)
  if (i == 0) then
    return zero
  end
  return succ(intToChurch((i - 1)))
end;

z = zero;

three = succ(succ(succ(z)));

four = succ(three);

print(("three        -> " .. tostring(toInt(three))));

print(("four         -> " .. tostring(toInt(four))));

print(("three + four -> " .. tostring(toInt(add(three, four)))));

print(("three * four -> " .. tostring(toInt(mul(three, four)))));

print(("three ^ four -> " .. tostring(toInt(pow(three, four)))));

print(("four ^ three -> " .. tostring(toInt(pow(four, three)))));

print(("5 -> five    -> " .. tostring(toInt(intToChurch(5)))));
