-- Generated by Mochi v0.10.40 on 2025-07-25 21:10 GMT+7
function input()
  return io.read('*l')
end
local _nil = {}
function padLeft(n, width)
  local s = tostring(n)
  while ((function(v)
  if type(v) == 'table' and v.items ~= nil then
    return #v.items
  elseif type(v) == 'table' and (v[1] == nil) then
      local c = 0
      for _ in pairs(v) do c = c + 1 end
      return c
    elseif type(v) == 'string' or type(v) == 'table' then
        return #v
      else
        return 0
      end
    end)(s) < width) do
      s = (" " .. s)
    end
    return s
  end;
  
  function modPow(base, exp, mod)
    local result = (1 % mod)
    local b = (base % mod)
    local e = exp
    while (e > 0) do
      if ((e % 2) == 1) then
        result = ((result * b) % mod)
      end
      b = ((b * b) % mod)
      e = (e // 2)
    end
    return result
  end;
  
  function main()
    local k = 2
    while (k <= 10) do
      print((("The first 50 Curzon numbers using a base of " .. tostring(k)) .. " :"))
      local count = 0
      local n = 1
      local curzon50 = {}
      while true do
        local d = ((k * n) + 1)
        if (((modPow(k, n, d) + 1) % d) == 0) then
          if (count < 50) then
            curzon50 = (function(lst, item)
            local res = {table.unpack(lst)}
            table.insert(res, item)
            return res
          end)(curzon50, n)
        end
        count = (count + 1)
        if (count == 50) then
          local idx = 0
          while (idx < (function(v)
          if type(v) == 'table' and v.items ~= nil then
            return #v.items
          elseif type(v) == 'table' and (v[1] == nil) then
              local c = 0
              for _ in pairs(v) do c = c + 1 end
              return c
            elseif type(v) == 'string' or type(v) == 'table' then
                return #v
              else
                return 0
              end
            end)(curzon50)) do
              local line = ""
              local j = 0
              while (j < 10) do
                line = ((line .. padLeft(curzon50[idx + 1], 4)) .. " ")
                idx = (idx + 1)
                j = (j + 1)
              end
              print(string.sub(line, 0 + 1, ((function(v)
              if type(v) == 'table' and v.items ~= nil then
                return #v.items
              elseif type(v) == 'table' and (v[1] == nil) then
                  local c = 0
                  for _ in pairs(v) do c = c + 1 end
                  return c
                elseif type(v) == 'string' or type(v) == 'table' then
                    return #v
                  else
                    return 0
                  end
                end)(line) - 1)))
              end
            end
            if (count == 1000) then
              print(("\nOne thousandth: " .. tostring(n)))
              break
            end
          end
          n = (n + 1)
        end
        print("")
        k = (k + 2)
      end
    end;
    
    main();
