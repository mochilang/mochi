// Generated by Mochi 0.10.32 on 2025-08-01 22:20 +0700
#include <stdio.h>
#include <string.h>
#include <unistd.h>
#include <stdlib.h>
#include <malloc.h>


static char* str_concat(const char *a, const char *b) {
    size_t len1 = strlen(a);
    size_t len2 = strlen(b);
    char *res = malloc(len1 + len2 + 1);
    memcpy(res, a, len1);
    memcpy(res + len1, b, len2);
    res[len1 + len2] = 0;
    return res;
}

#include <time.h>
#include <stdlib.h>
static int seeded_now = 0;
static long long now_seed = 0;
static long long _now(void) {
    if (!seeded_now) {
        const char *s = getenv("MOCHI_NOW_SEED");
        if (s && *s) {
            now_seed = atoll(s);
            seeded_now = 1;
        }
    }
    if (seeded_now) {
        now_seed = (now_seed * 1664525 + 1013904223) % 2147483647;
        return now_seed;
    }
    struct timespec ts;
    clock_gettime(CLOCK_REALTIME, &ts);
    return (long long)(ts.tv_sec * 1000000000LL + ts.tv_nsec);
}

static long long _mem(void) {
    struct mallinfo mi = mallinfo();
    return (long long)mi.uordblks;
}

static char* _md5hex(const char *s) {
    char tmpl[] = "/tmp/mochi_md5_XXXXXX";
    int fd = mkstemp(tmpl);
    if (fd < 0) return NULL;
    FILE *f = fdopen(fd, "wb");
    fputs(s, f);
    fclose(f);
    char cmd[256];
    snprintf(cmd, sizeof(cmd), "md5sum %s", tmpl);
    FILE *p = popen(cmd, "r");
    char hex[33] = {0};
    if (p) { fscanf(p, "%32s", hex); pclose(p); }
    unlink(tmpl);
    return strdup(hex);
}

int main(void);

int main(void) {
    {
        long long __start = _now();
        long long __mem_start = _mem();
        {
            const char* pair_arr[8][2] = {{"d41d8cd98f00b204e9800998ecf8427e", ""}, {"0cc175b9c0f1b6a831c399e269772661", "a"}, {"900150983cd24fb0d6963f7d28e17f72", "abc"}, {"f96b697d7cb7938d525a2f31aaf161d0", "message digest"}, {"c3fcd3d76192e4007dfb496cca67e13b", "abcdefghijklmnopqrstuvwxyz"}, {"d174ab98d277d9f5a5611c2c9f419d9f", "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"}, {"57edf4a22be3c955ac49da2e2107b67a", "12345678901234567890123456789012345678901234567890123456789012345678901234567890"}, {"e38ca1d920c4b8b8d3946b2c72f01680", "The quick brown fox jumped over the lazy dog's back"}};
            size_t pair_len = 8;
            for (size_t __i = 0; __i < pair_len; __i++) {
                const char* pair[2] = {0};
                memcpy(pair, pair_arr[__i], sizeof(pair_arr[__i]));
                const char* sum = _md5hex(pair[(int)(1LL)]);
                if (strcmp(sum, pair[(int)(0LL)]) != 0) {
                    puts("MD5 fail");
                    printf("%s %d\n", "  for string,", pair[(int)(1LL)]);
                    printf("%s %d\n", "  expected:  ", pair[(int)(0LL)]);
                    printf("%s %s\n", "  got:       ", sum);
                }
            }
        }
        long long __end = _now();
        long long __mem_end = _mem();
        long long __dur_us = (__end - __start) / 1000;
        long long __mem_bytes = __mem_end - __mem_start;
        printf("{\n  \"duration_us\": %-lld,\n  \"memory_bytes\": %-lld,\n  \"name\": \"main\"\n}\n", __dur_us, __mem_bytes);
    }
    return 0;
}
