// Generated by Mochi compiler v0.10.28 on 2025-07-18T09:35:11Z
List<String> removeName(List<String> names, String name) {
  List<String> out = [];
  for (var n in names) {
    if (n != name) {
      out = List.from(out)..add(n);
    }
  }
  return out;
}

void _main() {
  List<String> clients = [];
  void broadcast(String msg) {
    print(msg);
  }
  
  void add(String name) {
    clients = List.from(clients)..add(name);
    broadcast('+++ ' + name + ' connected +++\n');
  }
  
  void send(String name, String msg) {
    broadcast(name + '> ' + msg + '\n');
  }
  
  void remove(String name) {
    clients = removeName(clients, name);
    broadcast('--- ' + name + ' disconnected ---\n');
  }
  
  add('Alice');
  add('Bob');
  send('Alice', 'Hello Bob!');
  send('Bob', 'Hi Alice!');
  remove('Bob');
  remove('Alice');
  broadcast('Server stopping!\n');
}

void main() {
  _main();
}
