// Generated by Mochi compiler v0.10.28 on 2025-07-18T09:35:17Z
List<int> egcd(int a, int b) {
  if (a == 0) {
    return [b, 0, 1];
  }
  var res = egcd(b % a, a);
  var g = res[0];
  var x1 = res[1];
  var y1 = res[2];
  return [
    g,
    (y1 as num) - ((b ~/ a) * (x1 as num) as num),
    x1,
  ];
}

int modInv(int a, int m) {
  var r = egcd(a, m);
  if (r[0] != 1) {
    return 0;
  }
  var x = r[1];
  if ((x as num) < 0) {
    return (x as num) + m;
  }
  return x;
}

int crt(List<int> a, List<int> n) {
  var prod = 1;
  num i = 0;
  while ((i as num) < n.length) {
    prod = (prod as num) * n[i];
    i = (i as num) + 1;
  }
  num x = 0;
  i = 0;
  while ((i as num) < n.length) {
    var ni = n[i];
    var ai = a[i];
    var p = (prod as num) / (ni as num);
    var inv = modInv((p as num) % (ni as num), ni);
    x = (x as num) + (((ai as num) * (inv as num) as num) * (p as num) as num);
    i = (i as num) + 1;
  }
  return (x as num) % (prod as num);
}

var n = [3, 5, 7];

var a = [2, 3, 2];

var res = crt(a, n);

void main() {
  print(res.toString() + ' <nil>');
}
