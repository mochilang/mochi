// Generated by Mochi compiler v0.10.28 on 2025-07-18T09:34:15Z
double sel(List<double> list, int k) {
  num i = 0;
  while ((i as num) <= k) {
    var minIndex = i;
    var j = (i as num) + 1;
    while ((j as num) < list.length) {
      if (list[j] < list[minIndex]) {
        minIndex = j;
      }
      j = (j as num) + 1;
    }
    var tmp = list[i];
    list[i] = list[minIndex];
    list[minIndex] = tmp;
    i = (i as num) + 1;
  }
  return list[k];
}

double median(List<double> a) {
  var arr = a;
  var half = int.parse((arr.length ~/ 2));
  var med = sel(arr, half);
  if (arr.length % 2 == 0) {
    return (((med as num) + (arr[(half as num) - 1] as num)) as num) / 2;
  }
  return med;
}

void main() {
  print(median([
    3,
    1,
    4,
    1,
  ]).toString());
  print(median([
    3,
    1,
    4,
    1,
    5,
  ]).toString());
}
