// Generated by Mochi compiler v0.10.28 on 2025-07-18T09:34:18Z
int indexOf(String s, String ch) {
  num i = 0;
  while ((i as num) < s.length) {
    if (s.toString().substring(i, (i as num) + 1) == ch) {
      return i;
    }
    i = (i as num) + 1;
  }
  return -1;
}

String fmt3(double x) {
  var y = double.parse(int.parse(((x * 1000) + 0.5))) / 1000;
  var s = y.toString();
  var dot = indexOf(s, '.');
  if (dot == 0 - 1) {
    s = s + '.000';
  }
  else {
    var decs = (s.length - (dot as num) as num) - 1;
    if ((decs as num) > 3) {
      s = s.toString().substring(0, (dot as num) + 4);
    }
    else {
      while ((decs as num) < 3) {
        s = s + '0';
        decs = (decs as num) + 1;
      }
    }
  }
  return s;
}

String pad(String s, int width) {
  var out = s;
  while (out.length < width) {
    out = ' ' + out;
  }
  return out;
}

List<double> smaSeries(List<double> xs, int period) {
  List<double> res = [];
  num sum = 0;
  num i = 0;
  while ((i as num) < xs.length) {
    sum = (sum as num) + xs[i];
    if ((i as num) >= period) {
      sum = (sum as num) - xs[(i as num) - period];
    }
    var denom = (i as num) + 1;
    if ((denom as num) > period) {
      denom = period;
    }
    res = List.from(res)..add((sum as num) / (double.parse(denom)));
    i = (i as num) + 1;
  }
  return res;
}

void _main() {
  var xs = [
    1,
    2,
    3,
    4,
    5,
    5,
    4,
    3,
    2,
    1,
  ];
  var sma3 = smaSeries(xs, 3);
  var sma5 = smaSeries(xs, 5);
  print('x       sma3   sma5');
  num i = 0;
  while ((i as num) < xs.length) {
    var line = pad(fmt3(xs[i]), 5) + '  ' + pad(fmt3(sma3[i]), 5) + '  ' + pad(fmt3(sma5[i]), 5);
    print(line);
    i = (i as num) + 1;
  }
}

void main() {
  _main();
}
