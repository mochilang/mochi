# Generated by Mochi compiler v0.10.30 on 2025-07-19T00:24:45Z
def fields(s)
	res = []
	cur = ""
	i = 0
	while (i < (s).length)
		c = s[i...(i + 1)]
		if (c == " ")
			if ((cur).length > 0)
				res = (res + [cur])
				cur = ""
			end
		else
			cur = (cur + c)
		end
		i = (i + 1)
	end
	if ((cur).length > 0)
		res = (res + [cur])
	end
	return res
end

def canSpell(word, blks)
	if ((word).length == 0)
		return true
	end
	c = (word[0...1]).to_s.downcase
	i = 0
	while (i < (blks).length)
		b = blks[i]
		if ((c == (b[0...1]).to_s.downcase) || (c == (b[1...2]).to_s.downcase))
			rest = []
			j = 0
			while (j < (blks).length)
				if (j != i)
					rest = (rest + [blks[j]])
				end
				j = (j + 1)
			end
			if canSpell(word[1..-1], rest)
				return true
			end
		end
		i = (i + 1)
	end
	return false
end

def newSpeller(blocks)
	bl = fields(blocks)
	return ->(w){ canSpell(w, bl) }
end

def main()
	sp = newSpeller("BO XK DQ CP NA GT RE TG QD FS JW HU VI AN OB ER FS LY PC ZM")
	["A", "BARK", "BOOK", "TREAT", "COMMON", "SQUAD", "CONFUSE"].each do |word|
		puts(((word + " ") + (sp.call(word)).to_s))
	end
end

main()
