#!/usr/bin/env escript
% Generated by Mochi compiler v0.10.26 on 2025-07-16T09:59:12Z
% accumulator-factory.erl - generated from accumulator-factory.mochi

accumulator(Sum) ->
    Store0 = [Sum],
    Add = fun(Nv) -> Store1 = lists:sublist(Store0, 0) ++ [(lists:nth((0)+1, Store0) + Nv)] ++ lists:nthtail((0)+1, Store0), lists:nth((0)+1, Store1) end,
    Add.

main() ->
    X = accumulator(1),
    X(5),
    accumulator(3),
    io:format("~p~n", [lists:flatten(io_lib:format("~p", [X(2.3)]))]).

main(_) ->
    main().
