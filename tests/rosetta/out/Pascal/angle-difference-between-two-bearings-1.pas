// Generated by Mochi compiler v0.10.26 on 2025-07-16T10:01:10Z
program AngleDifferenceBetweenTwoBearings1;
{$mode objfpc}
{$modeswitch nestedprocvars}
uses SysUtils, fgl, fphttpclient, Classes, Variants, fpjson, jsonparser, fpjsonrtti;

type
  generic TArray<T> = array of T;

function angleDiff(b1: double; b2: double): double;
var
  d: Variant;
begin
  d := b2 - b1;
  if (d < 0 - 180) then ;
  if (d > 180) then ;
  result := d;
  exit;
end;

generic function _indexList<T>(arr: specialize TArray<T>; i: integer): T;
begin
  if i < 0 then i := Length(arr) + i;
  if (i < 0) or (i >= Length(arr)) then
    raise Exception.Create('index out of range');
  Result := arr[i];
end;

var
  tc: double;
  testCases: specialize TArray<specialize TArray<double>>;

begin
  testCases := specialize TArray<specialize TArray<double>>([specialize TArray<double>([20, 45]), specialize TArray<double>([0 - 45, 45]), specialize TArray<double>([0 - 85, 90]), specialize TArray<double>([0 - 95, 90]), specialize TArray<double>([0 - 45, 125]), specialize TArray<double>([0 - 45, 145]), specialize TArray<double>([29.4803, 0 - 88.6381]), specialize TArray<double>([0 - 78.3251, 0 - 159.036])]);
  for tc in testCases do
  begin
    writeln(angleDiff(specialize _indexList<double>(tc, 0), specialize _indexList<double>(tc, 1)));
  end;
end.
