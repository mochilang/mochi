// Generated by Mochi compiler v0.10.26 on 2025-07-16T11:36:07Z
program Animation;
{$mode objfpc}
{$modeswitch nestedprocvars}
uses SysUtils, fgl, fphttpclient, Classes, Variants, fpjson, jsonparser, fpjsonrtti;

type
  generic TArray<T> = array of T;

function _sliceString(s: string; i, j: integer): string;
var start_, end_, n: integer;
begin
  start_ := i;
  end_ := j;
  n := Length(s);
  if start_ < 0 then start_ := n + start_;
  if end_ < 0 then end_ := n + end_;
  if start_ < 0 then start_ := 0;
  if end_ > n then end_ := n;
  if end_ < start_ then end_ := start_;
  Result := Copy(s, start_ + 1, end_ - start_);
end;

var
  clicks: integer;
  frames: integer;
  i: integer;
  idx: Variant;
  inc: integer;
  line: string;
  msg: string;
  shift: integer;

begin
  msg := 'Hello World! ';
  shift := 0;
  inc := 1;
  clicks := 0;
  frames := 0;
  while (clicks < 5) do
  begin
    line := '';
    i := 0;
    while (i < Length(msg)) do
    begin
      idx := shift + i mod Length(msg);
      line := line + _sliceString(msg, idx, idx + 1);
      i := i + 1;
    end;
    writeln(line);
    shift := shift + inc mod Length(msg);
    frames := frames + 1;
    if (frames mod Length(msg) = 0) then
    begin
      inc := Length(msg) - inc;
      clicks := clicks + 1;
    end;
  end;
end.
