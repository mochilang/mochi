// Generated by Mochi compiler v0.10.26 on 2025-07-16T11:36:23Z
program CheckpointSynchronization4;
{$mode objfpc}
{$modeswitch nestedprocvars}
uses SysUtils, fgl, fphttpclient, Classes, Variants, fpjson, jsonparser, fpjsonrtti;

type
  generic TArray<T> = array of T;

var
  d: integer;
  detailsPerMech: integer;
  id: Variant;
  mech: integer;
  nMech: integer;

begin
  nMech := 5;
  detailsPerMech := 4;
  for mech := 1 to nMech + 1 - 1 do
  begin
    id := mech;
    writeln('worker ' + IntToStr(id) + ' contracted to assemble ' + IntToStr(detailsPerMech) + ' details');
    writeln('worker ' + IntToStr(id) + ' enters shop');
    d := 0;
    while (d < detailsPerMech) do
    begin
      writeln('worker ' + IntToStr(id) + ' assembling');
      writeln('worker ' + IntToStr(id) + ' completed detail');
      d := d + 1;
    end;
    writeln('worker ' + IntToStr(id) + ' leaves shop');
    writeln('mechanism ' + IntToStr(mech) + ' completed');
  end;
end.
