# Generated by Mochi compiler v0.10.26 on 2025-07-16T12:44:49Z
defmodule Main do
  @spec fib(integer()) :: integer()
  def fib(n) do
    try do
      if n < 2 do
        throw({:return, n})
      end

      throw({:return, fib(n - 1) + fib(n - 2)})
    catch
      {:return, v} -> v
    end
  end

  @spec main() :: nil
  def main() do
    try do
      i = -1
      _ = i

      t1 = fn t1, i ->
        try do
          if i <= 10 do
            if i < 0 do
              IO.puts(("fib(" <> to_string(i)) <> ") returned error: negative n is forbidden")
            else
              IO.puts((("fib(" <> to_string(i)) <> ") = ") <> to_string(fib(i)))
            end

            i = i + 1
            t1.(t1, i)
          else
            {:ok, i}
          end
        catch
          :break ->
            {:ok, i}
        end
      end

      {_, i} = t1.(t1, i)
      _ = i
    catch
      {:return, v} -> v
    end
  end

  def main do
    main()
  end
end

Main.main()
