; Generated by Mochi compiler v0.10.30 on 2025-07-18T17:31:01Z
(define (bottles n)
  (call/cc (lambda (return)
    (when (equal? n 0)
      (return "No more bottles")
    )
    (when (equal? n 1)
      (return "1 bottle")
    )
    (return (string-append (let ((s (open-output-string))) (write n s) (get-output-string s)) " bottles"))
  ))
)

(define (main )
  (call/cc (lambda (return)
    (define i '())
    (set! i 99)
    (let loop ()
      (if (> i 0)
        (begin
          (begin (display (string-append (bottles i) " of beer on the wall")) (newline))
          (begin (display (string-append (bottles i) " of beer")) (newline))
          (begin (display "Take one down, pass it around") (newline))
          (begin (display (string-append (bottles (- i 1)) " of beer on the wall")) (newline))
          (set! i (- i 1))
          (loop)
        )
      '()
    )
  )
))
)

(main )
