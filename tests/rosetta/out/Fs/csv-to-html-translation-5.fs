// Generated by Mochi compiler v0.10.26 on 2006-01-02T15:04:05Z
open System

let split (s) (sep) =
    let mutable out: obj = [||]
    let mutable start: int = 0
    let mutable i: int = 0
    let n: obj = List.length sep
    while i <= List.length s - n do
        if s.Substring(i, i + n - i) = sep then
            out <- out @ [s.Substring(start, i - start)]
            i <- i + n
            start <- i
        else
            i <- i + 1
    out <- out @ [s.Substring(start, List.length s - start)]
    out
let htmlEscape (s) =
    let mutable out: string = ""
    let mutable i: int = 0
    while i < List.length s do
        let ch: obj = s.Substring(i, i + 1 - i)
        if ch = "&" then
            out <- out + "&amp;"
        i <- i + 1
    out
let c: string = "Character,Speech\n" + "The multitude,The messiah! Show us the messiah!\n" + "Brians mother,<angry>Now you listen here! He's not the messiah; he's a very naughty boy! Now go away!</angry>\n" + "The multitude,Who are you?\n" + "Brians mother,I'm his mother; that's who!\n" + "The multitude,Behold his mother! Behold his mother!"
let mutable rows: obj = [||]
for line in split c "\n" do
    rows <- rows @ [split line ","]
printfn "%s" "<table>"
for row in rows do
    let mutable cells: string = ""
    for cell in row do
        cells <- cells + "<td>" + htmlEscape cell + "</td>"
    printfn "%s" "    <tr>" + cells + "</tr>"
printfn "%s" "</table>"
