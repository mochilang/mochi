// Generated by Mochi compiler v0.10.26 on 2006-01-02T15:04:05Z
open System

let lower (ch) =
    let up: string = "ABCDEFGHIJKLMNOPQRSTUVWXYZ"
    let low: string = "abcdefghijklmnopqrstuvwxyz"
    let mutable i: int = 0
    while i < List.length up do
        if ch = up.Substring(i, i + 1 - i) then
            low.Substring(i, i + 1 - i)
        i <- i + 1
    ch
let mutable partList: string list = [|"A"; "B"; "C"; "D"|]
let mutable nAssemblies: int = 3
for p in partList do
    printfn "%s" (p + " worker running")
for cycle in 1 .. (nAssemblies + 1) do
    printfn "%s" ("begin assembly cycle " + string cycle)
    let mutable a: string = ""
    for p in partList do
        printfn "%s" (p + " worker begins part")
        printfn "%s" (p + " worker completed " + lower p)
        a <- a + lower p
    printfn "%s" (a + " assembled.  cycle " + string cycle + " complete")
for p in partList do
    printfn "%s" (p + " worker stopped")
