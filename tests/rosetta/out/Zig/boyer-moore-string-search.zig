// Generated by Mochi compiler v0.10.26 on 1970-01-01T00:00:00Z
const std = @import("std");

fn handleError(err: anyerror) noreturn {
    std.debug.panic("{any}", .{err});
}

fn _concat_string(a: []const u8, b: []const u8) []const u8 {
    return std.mem.concat(u8, &[_][]const u8{ a, b }) catch |err| handleError(err);
}

fn indexOfStr(h: []const u8, n: []const u8) i32 {
    const hlen = (h).len; // i32
    const nlen = (n).len; // i32
    if (nlen == 0) {
        return 0;
    }
    var i = 0; // i32
    while (i <= (hlen - nlen)) {
        if (std.mem.eql(u8, substring(h, i, (i + nlen)), n)) {
            return i;
        }
        i = (i + 1);
    }
    return -1;
}

fn stringSearchSingle(h: []const u8, n: []const u8) i32 {
    return indexOfStr(h, n);
}

fn stringSearch(h: []const u8, n: []const u8) []const i32 {
    var result = std.ArrayList(i32).init(std.heap.page_allocator);
    var start = 0; // i32
    const hlen = (h).len; // i32
    const nlen = (n).len; // i32
    while (start < hlen) {
        const idx = indexOfStr(substring(h, start, hlen), n); // i32
        if (idx >= 0) {
            result = blk0: { var _tmp0 = std.ArrayList(i32).init(std.heap.page_allocator); defer _tmp0.deinit(); _tmp0.appendSlice(result) catch |err| handleError(err); _tmp0.append((start + idx)) catch |err| handleError(err); break :blk0 _tmp0.items; };
            start = ((start + idx) + nlen);
        } else {
            break;
        }
    }
    return result.items;
}

fn display(nums: []const i32) []const u8 {
    var s = "["; // []const u8
    var i = 0; // i32
    while (i < (nums).len) {
        if (i > 0) {
            s = _concat_string(s, ", ");
        }
        s = _concat_string(s, std.fmt.allocPrint(std.heap.page_allocator, "{d}", .{nums[i]}) catch |err| handleError(err));
        i = (i + 1);
    }
    s = _concat_string(s, "]");
    return s;
}

fn main() void {
    const texts = &[_][]const u8{
    "GCTAGCTCTACGAGTCTA",
    "GGCTATAATGCGTA",
    "there would have been a time for such a word",
    "needle need noodle needle",
    "DKnuthusesandprogramsanimaginarycomputertheMIXanditsassociatedmachinecodeandassemblylanguages",
    "Nearby farms grew an acre of alfalfa on the dairy's behalf, with bales of that alfalfa exchanged for milk.",
}; // []const []const u8
    const patterns = &[_][]const u8{
    "TCTA",
    "TAATAAA",
    "word",
    "needle",
    "and",
    "alfalfa",
}; // []const []const u8
    var i = 0; // i32
    while (i < (texts).len) {
        std.debug.print("{s}\n", .{_concat_string(_concat_string(_concat_string("text", std.fmt.allocPrint(std.heap.page_allocator, "{d}", .{(i + 1)}) catch |err| handleError(err)), " = "), texts[i])});
        i = (i + 1);
    }
    std.debug.print("\n", .{});
    var j = 0; // i32
    while (j < (texts).len) {
        const idxs = stringSearch(texts[j], patterns[j]); // []const i32
        std.debug.print("{s}\n", .{_concat_string(_concat_string(_concat_string(_concat_string(_concat_string("Found \"", patterns[j]), "\" in 'text"), std.fmt.allocPrint(std.heap.page_allocator, "{d}", .{(j + 1)}) catch |err| handleError(err)), "' at indexes "), display(idxs))});
        j = (j + 1);
    }
}

pub fn main() void {
    main();
}
