// Generated by Mochi compiler v0.10.30 on 2025-07-18T17:09:31Z
// Generated by Mochi compiler v0.10.30 on 2025-07-18T17:09:31Z
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

static char *concat_string(char *a, char *b) {
  size_t len1 = strlen(a);
  size_t len2 = strlen(b);
  char *buf = (char *)malloc(len1 + len2 + 1);
  memcpy(buf, a, len1);
  memcpy(buf + len1, b, len2);
  buf[len1 + len2] = '\0';
  return buf;
}
static char *_str(int v) {
  char *buf = (char *)malloc(32);
  sprintf(buf, "%d", v);
  return buf;
}
int isPrime(int n) {
  if (n < 2) {
    return 0;
  }
  if (n % 2 == 0) {
    return n == 2;
  }
  if (n % 3 == 0) {
    return n == 3;
  }
  __auto_type d = 5;
  while (d * d <= n) {
    if (n % d == 0) {
      return 0;
    }
    d = d + 2;
    if (n % d == 0) {
      return 0;
    }
    d = d + 4;
  }
  return 1;
}

int countPrimeFactors(int n) {
  if (n == 1) {
    return 0;
  }
  if (isPrime(n)) {
    return 1;
  }
  __auto_type count = 0;
  __auto_type f = 2;
  while (1) {
    if (n % f == 0) {
      count = count + 1;
      n = ((double)n) / ((double)f);
      if (n == 1) {
        return count;
      }
      if (isPrime(n)) {
        f = n;
      }
    } else if (f >= 3) {
      f = f + 2;
    } else {
      f = 3;
    }
  }
  return count;
}

char *pad4(int n) {
  char *tmp1 = _str(n);
  __auto_type s = tmp1;
  while (strlen(s) < 4) {
    char *tmp2 = concat_string(" ", s);
    s = tmp2;
  }
  return s;
}

int mochi_main() {
  __auto_type max = 120;
  char *tmp3 = _str(max);
  char *tmp4 =
      concat_string("The attractive numbers up to and including ", tmp3);
  char *tmp5 = concat_string(tmp4, " are:");
  printf("%s\n", tmp5);
  __auto_type count = 0;
  __auto_type line = "";
  __auto_type lineCount = 0;
  __auto_type i = 1;
  while ((i <= max)) {
    __auto_type c = countPrimeFactors(i);
    if (isPrime(c)) {
      char *tmp6 = concat_string(line, pad4(i));
      line = tmp6;
      count = count + 1;
      lineCount = lineCount + 1;
      if (lineCount == 20) {
        printf("%s\n", line);
        line = "";
        lineCount = 0;
      }
    }
    i = i + 1;
  }
  if (lineCount > 0) {
    printf("%s\n", line);
  }
}

int _mochi_main() {
  mochi_main();
  return 0;
}
int main() { return _mochi_main(); }
