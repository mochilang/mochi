// Generated by Mochi compiler v0.10.30 on 2025-07-18T17:11:55Z
// Generated by Mochi compiler v0.10.30 on 2025-07-18T17:11:55Z
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

typedef struct {
  int len;
  char **data;
} list_string;
static list_string list_string_create(int len) {
  list_string l;
  l.len = len;
  l.data = calloc(len, sizeof(char *));
  if (!l.data && len > 0) {
    fprintf(stderr, "alloc failed\n");
    exit(1);
  }
  return l;
}
static list_string concat_list_string(list_string a, list_string b) {
  list_string r = list_string_create(a.len + b.len);
  for (int i = 0; i < a.len; i++)
    r.data[i] = a.data[i];
  for (int i = 0; i < b.len; i++)
    r.data[a.len + i] = b.data[i];
  return r;
}
list_string writeTwo() {
  list_string tmp1 = list_string_create(2);
  tmp1.data[0] = "jsmith:x:1001:1000:Joe Smith,Room "
                 "1007,(234)555-8917,(234)555-0077,jsmith@rosettacode.org:/"
                 "home/jsmith:/bin/bash";
  tmp1.data[1] = "jdoe:x:1002:1000:Jane Doe,Room "
                 "1004,(234)555-8914,(234)555-0044,jdoe@rosettacode.org:/home/"
                 "jsmith:/bin/bash";
  return tmp1;
}

list_string appendOneMore(list_string lines) {
  list_string tmp2 = list_string_create(1);
  tmp2.data[0] = "xyz:x:1003:1000:X Yz,Room "
                 "1003,(234)555-8913,(234)555-0033,xyz@rosettacode.org:/home/"
                 "xyz:/bin/bash";
  list_string tmp3 = concat_list_string(lines, tmp2);
  return tmp3;
}

int mochi_main() {
  __auto_type lines = writeTwo();
  lines = appendOneMore(lines);
  if (lines.len >= 3 &&
      lines.data[2] == "xyz:x:1003:1000:X Yz,Room "
                       "1003,(234)555-8913,(234)555-0033,xyz@rosettacode.org:/"
                       "home/xyz:/bin/bash") {
    printf("append okay\n");
  } else {
    printf("it didn't work\n");
  }
}

int _mochi_main() {
  mochi_main();
  return 0;
}
int main() { return _mochi_main(); }
