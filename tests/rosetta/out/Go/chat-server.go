//go:build ignore

// Generated by Mochi compiler v0.10.26 on 2006-01-02T15:04:05Z

package main

import (
	"fmt"
)

type v map[string]any

// line 4
func removeName(names []string, name string) []string {
	var out []string = []string{}
	for _, n := range names {
		if n != name {
			out = append(out, n)
		}
	}
	return out
}

// line 14
func main() {
	var clients []string = []string{}
	// line 17
	var broadcast = func(msg string) {
		fmt.Println(msg)
	}
	// line 22
	var add = func(name string) {
		clients = append(clients, name)
		broadcast("+++ \"" + name + "\" connected +++\n")
	}
	// line 27
	var send = func(name string, msg string) {
		broadcast(name + "> " + msg + "\n")
	}
	// line 31
	var remove = func(name string) {
		clients = removeName(clients, name)
		broadcast("--- \"" + name + "\" disconnected ---\n")
	}
	add("Alice")
	add("Bob")
	send("Alice", "Hello Bob!")
	send("Bob", "Hi Alice!")
	remove("Bob")
	remove("Alice")
	broadcast("Server stopping!\n")
}

func main() {
	main()
}
