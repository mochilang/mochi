% Generated by Mochi compiler v0.10.26 on 2025-07-16T12:30:33Z
:- style_check(-singleton).
get_item(Container, Key, Val) :-
    is_dict(Container), !, (string(Key) -> atom_string(A, Key) ; A = Key), get_dict(A, Container, Val).
get_item(Container, Index, Val) :-
    string(Container), !, string_chars(Container, Chars), nth0(Index, Chars, Val).
get_item(List, Index, Val) :- nth0(Index, List, Val).

set_item(Container, Key, Val, Out) :-
    is_dict(Container), !, (string(Key) -> atom_string(A, Key) ; A = Key), put_dict(A, Container, Val, Out).
set_item(List, Index, Val, Out) :-
    nth0(Index, List, _, Rest),
    nth0(Index, Out, Val, Rest).

:- initialization(main, main).
main :-
    nb_setval(doors, []),
    catch(
        (
            _V0 is 100 - 1,
            between(0, _V0, I),
                catch(
                    (
                        nb_getval(doors, _V1),
                        append(_V1, [false], _V2),
                        nb_setval(doors, _V2),
                        true
                    ), continue, true),
                    fail
                ; true
            ), break, true),
            catch(
                (
                    _V3 is 101 - 1,
                    between(1, _V3, Pass),
                        catch(
                            (
                                _V4 is (Pass - 1),
                                nb_setval(idx, _V4),
                                catch(
                                    (
                                        repeat,
                                        nb_getval(idx, _V5),
                                        ((_V5 < 100) ->
                                            catch(
                                                (
                                                    nb_getval(idx, _V6),
                                                    nb_getval(doors, _V7),
                                                    nb_getval(idx, _V8),
                                                    get_item(_V7, _V8, _V9),
                                                    (_V9 -> _V10 = false ; _V10 = true),
                                                    set_item(doors, _V6, _V10, _V11),
                                                    nb_setval(doors, _V11),
                                                    nb_getval(idx, _V12),
                                                    string_concat(_V12, Pass, _V13),
                                                    nb_setval(idx, _V13),
                                                    true
                                                ), continue, true),
                                                fail
                                            ; true)
                                        ), break, true),
                                    true
                                ), continue, true),
                                fail
                            ; true
                        ), break, true),
                        catch(
                            (
                                _V14 is 10 - 1,
                                between(0, _V14, Row),
                                    catch(
                                        (
                                            nb_setval(line, ""),
                                            catch(
                                                (
                                                    _V15 is 10 - 1,
                                                    between(0, _V15, Col),
                                                        catch(
                                                            (
                                                                Idx is ((Row * 10) + Col),
                                                                nb_getval(doors, _V16),
                                                                nb_getval(idx, _V17),
                                                                get_item(_V16, _V17, _V18),
                                                                (_V18 \= nil ->
                                                                    nb_getval(line, _V19),
                                                                    string_concat(_V19, "1", _V20),
                                                                    nb_setval(line, _V20),
                                                                    true
                                                                ;
                                                                    nb_getval(line, _V21),
                                                                    string_concat(_V21, "0", _V22),
                                                                    nb_setval(line, _V22),
                                                                    true
                                                                ),
                                                                ((Col < 9) ->
                                                                    nb_getval(line, _V23),
                                                                    string_concat(_V23, " ", _V24),
                                                                    nb_setval(line, _V24),
                                                                    true
                                                                ; true
                                                                ),
                                                                true
                                                            ), continue, true),
                                                            fail
                                                        ; true
                                                    ), break, true),
                                                    nb_getval(line, _V25),
                                                    writeln(_V25),
                                                    true
                                                ), continue, true),
                                                fail
                                            ; true
                                        ), break, true),
                                        true.
