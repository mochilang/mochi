// Generated by Mochi compiler v0.10.28 on 2006-01-02T15:04:05Z
fun <T> append(list: MutableList<T>, item: T): MutableList<T> {
    val res = list.toMutableList()
    res.add(item)
    return res
}
// Code generated from csv-to-html-translation-2.mochi

val c = "Character,Speech\n" + "The multitude,The messiah! Show us the messiah!\n" + "Brians mother,<angry>Now you listen here! He's not the messiah; he's a very naughty boy! Now go away!</angry>\n" + "The multitude,Who are you?\n" + "Brians mother,I'm his mother; that's who!\n" + "The multitude,Behold his mother! Behold his mother!"

var rows: MutableList<MutableList<String>> = mutableListOf<MutableList<String>>()

fun main() {
    for (line in split(c, "\n")) {
        rows = append(rows, split(line, ","))
    }
    val headings = true
    println("<table>")
    if (headings) {
        if (rows.size > 0) {
            var th = ""
            for (h in rows[0]) {
                th = th + "<th>" + h + "</th>"
            }
            println("   <thead>")
            println("      <tr>" + th + "</tr>")
            println("   </thead>")
            println("   <tbody>")
            var i = 1
            while (i < rows.size) {
                var cells = ""
                for (cell in rows[i]) {
                    cells = cells + "<td>" + cell + "</td>"
                }
                println("      <tr>" + cells + "</tr>")
                i = i + 1
            }
            println("   </tbody>")
        }
    }
    else {
        for (row in rows) {
            var cells = ""
            for (cell in row) {
                cells = cells + "<td>" + cell + "</td>"
            }
            println("    <tr>" + cells + "</tr>")
        }
    }
    println("</table>")
}
