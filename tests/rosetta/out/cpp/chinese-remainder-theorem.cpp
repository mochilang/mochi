// Generated by Mochi compiler v0.10.26 on 2025-07-16T09:21:14Z
#include <iostream>
#include <string>
#include <vector>

auto egcd(int a, int b) {
  if ((a == 0)) {
    return std::vector<decltype(b)>{b, 0, 1};
  }
  auto res = egcd((b % a), a);
  auto g = res[0];
  auto x1 = res[1];
  auto y1 = res[2];
  return std::vector<decltype(g)>{g, (y1 - (((b / a)) * x1)), x1};
}

int modInv(int a, int m) {
  auto r = egcd(a, m);
  if ((r[0] != 1)) {
    return 0;
  }
  auto x = r[1];
  if ((x < 0)) {
    return (x + m);
  }
  return x;
}

int crt(auto a, auto n) {
  auto prod = 1;
  auto i = 0;
  while ((i < n.size())) {
    prod = (prod * n[i]);
    i = (i + 1);
  }
  auto x = 0;
  i = 0;
  while ((i < n.size())) {
    auto ni = n[i];
    auto ai = a[i];
    auto p = (prod / ni);
    auto inv = modInv((p % ni), ni);
    x = (x + ((ai * inv) * p));
    i = (i + 1);
  }
  return (x % prod);
}

int main() {
  std::vector<int> n = {3, 5, 7};
  std::vector<int> a = {2, 3, 2};
  auto res = crt(a, n);
  std::cout << (std::to_string(res) + std::string(" <nil>")) << std::endl;
  return 0;
}
