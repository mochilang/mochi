// Generated by Mochi compiler v0.10.26 on 2025-07-16T09:12:10Z
// Source: /workspace/mochi/tests/rosetta/x/Mochi/active-directory-search-for-a-user.mochi

function search_user(
  directory: { [key: string]: string[] },
  username: string,
): string[] {
  return directory[username];
}

function main(): void {
  let client = {
    "Base": "dc=example,dc=com",
    "Host": "ldap.example.com",
    "Port": 389,
    "GroupFilter": "(memberUid=%s)",
  };
  let directory = {
    "username": [
      "admins",
      "users",
    ],
    "john": ["users"],
  };
  let groups = search_user(directory, "username");
  if ((groups.length > 0)) {
    var out = "Groups: [";
    var i = 0;
    while ((i < groups.length)) {
      out = `${out}"${groups[i]}"`;
      if ((i < (groups.length - 1))) {
        out = `${out}, `;
      }
      i = i + 1;
    }
    out = `${out}]`;
    console.log(out);
  } else {
    console.log("User not found");
  }
}

function main(): void {
  main();
}
main();
