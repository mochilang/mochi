// Generated by Mochi compiler v0.10.26 on 2025-07-16T09:12:10Z
// Source: /workspace/mochi/tests/rosetta/x/Mochi/active-directory-connect.mochi

type LDAPClient = {
  Base: string;
  Host: string;
  Port: number;
  UseSSL: boolean;
  BindDN: string;
  BindPassword: string;
  UserFilter: string;
  GroupFilter: string;
  Attributes: string[];
};

function connect(client: LDAPClient): boolean {
  return ((client.Host != "") && (client.Port > 0));
}

function main(): void {
  let client = {
    Base: "dc=example,dc=com",
    Host: "ldap.example.com",
    Port: 389,
    UseSSL: false,
    BindDN: "uid=readonlyuser,ou=People,dc=example,dc=com",
    BindPassword: "readonlypassword",
    UserFilter: "(uid=%s)",
    GroupFilter: "(memberUid=%s)",
    Attributes: [
      "givenName",
      "sn",
      "mail",
      "uid",
    ],
  };
  return (connect(client)
    ? console.log(`Connected to ${client.Host}`)
    : console.log("Failed to connect"));
}

function main(): void {
  main();
}
main();
