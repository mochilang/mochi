// Generated by Mochi compiler v0.10.26 on 2025-07-16T09:12:11Z
// Source: /workspace/mochi/tests/rosetta/x/Mochi/aks-test-for-primes.mochi

function poly(p: number): string {
  var s: string = "";
  var coef: number = 1;
  var i = p;
  if ((coef != 1)) {
    s = `${s}${String(coef)}`;
  }
  while ((i > 0)) {
    s = `${s}x`;
    if ((i != 1)) {
      s = `${s}^${String(i)}`;
    }
    coef = Math.trunc((coef * i) / ((p - i) + 1));
    var d = coef;
    if ((((p - (i - 1)) % 2) == 1)) {
      d = -d;
    }
    if ((d < 0)) {
      s = `${s} - ${String(-d)}`;
    } else {
      s = `${s} + ${String(d)}`;
    }
    i = i - 1;
  }
  if ((s == "")) {
    s = "1";
  }
  return s;
}

function aks(n: number): boolean {
  if ((n < 2)) {
    return false;
  }
  var c: number = n;
  var i = 1;
  while ((i < n)) {
    if (((c % n) != 0)) {
      return false;
    }
    c = Math.trunc((c * (n - i)) / (i + 1));
    i = i + 1;
  }
  return true;
}

function main(): void {
  var p = 0;
  while ((p <= 7)) {
    console.log(`${String(p)}:  ${poly(p)}`);
    p = p + 1;
  }
  var first = true;
  p = 2;
  var line: string = "";
  while ((p < 50)) {
    if (aks(p)) {
      if (first) {
        line = `${line}${String(p)}`;
        first = false;
      } else {
        line = `${line} ${String(p)}`;
      }
    }
    p = p + 1;
  }
  return console.log(line);
}

function main(): void {
  main();
}
main();
