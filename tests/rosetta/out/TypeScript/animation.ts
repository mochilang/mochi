// Generated by Mochi compiler v0.10.26 on 2025-07-16T09:12:32Z
// Source: /workspace/mochi/tests/rosetta/x/Mochi/animation.mochi

var clicks: number;
var frames: number;
var inc: number;
let msg: string;
var shift: number;

function main(): void {
  msg = "Hello World! ";
  shift = 0;
  inc = 1;
  clicks = 0;
  frames = 0;
  while ((clicks < 5)) {
    var line = "";
    var i = 0;
    while ((i < msg.length)) {
      let idx = (shift + i) % msg.length;
      line = `${line}${_sliceString(msg, idx, idx + 1)}`;
      i = i + 1;
    }
    console.log(line);
    shift = (shift + inc) % msg.length;
    frames = frames + 1;
    if (((frames % msg.length) == 0)) {
      inc = msg.length - inc;
      clicks = clicks + 1;
    }
  }
}
function _sliceString(s: string, i: number, j: number): string {
  let start = i;
  let end = j;
  const runes = Array.from(s);
  const n = runes.length;
  if (start < 0) start += n;
  if (end < 0) end += n;
  if (start < 0) start = 0;
  if (end > n) end = n;
  if (end < start) end = start;
  return runes.slice(start, end).join("");
}

main();
