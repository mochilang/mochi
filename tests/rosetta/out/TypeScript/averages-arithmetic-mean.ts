// Generated by Mochi compiler v0.10.26 on 2025-07-16T09:12:35Z
// Source: /workspace/mochi/tests/rosetta/x/Mochi/averages-arithmetic-mean.mochi

function mean(v: number[]): Record<string, any> {
  if ((v.length == 0)) {
    return { "ok": false };
  }
  var sum = 0;
  var i = 0;
  while ((i < v.length)) {
    sum = sum + v[i];
    i = i + 1;
  }
  return {
    "ok": true,
    "mean": (sum / (v.length)),
  };
}

function main(): void {
  let sets = [
    [],
    [
      3,
      1,
      4,
      1,
      5,
      9,
    ],
    [
      1e+20,
      3,
      1,
      4,
      1,
      5,
      9,
      -1e+20,
    ],
    [
      10,
      9,
      8,
      7,
      6,
      5,
      4,
      3,
      2,
      1,
      0,
      0,
      0,
      0,
      0.11,
    ],
    [
      10,
      20,
      30,
      40,
      50,
      -100,
      4.7,
      -1100,
    ],
  ];
  for (const v of sets) {
    console.log(`Vector: ${String(v)}`);
    let r = mean(v);
    if (r["ok"]) {
      console.log(
        `Mean of ${
          String(
            Array.isArray(v) || typeof v === "string"
              ? (v as any).length
              : (v && typeof v === "object" ? Object.keys(v).length : 0),
          )
        } numbers is ${String(r["mean"])}`,
      );
    } else {
      console.log("Mean undefined");
    }
    console.log("");
  }
}

function main(): void {
  main();
}
main();
