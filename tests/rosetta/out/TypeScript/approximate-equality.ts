// Generated by Mochi compiler v0.10.26 on 2025-07-16T09:12:33Z
// Source: /workspace/mochi/tests/rosetta/x/Mochi/approximate-equality.mochi

function abs(x: number): number {
  if ((x < 0)) {
    return (-x);
  }
  return x;
}

function maxf(a: number, b: number): number {
  if ((a > b)) {
    return a;
  }
  return b;
}

function isClose(a: number, b: number): boolean {
  let relTol = 1e-09;
  let t = abs(a - b);
  let u = relTol * maxf(abs(a), abs(b));
  return (t <= u);
}

function sqrtApprox(x: number): number {
  var guess = x;
  var i = 0;
  while ((i < 10)) {
    guess = (guess + (x / guess)) / 2;
    i = i + 1;
  }
  return guess;
}

function main(): void {
  let root2 = sqrtApprox(2);
  let pairs = [
    [
      1.0000000000000002e+14,
      1.0000000000000002e+14,
    ],
    [
      100.01,
      100.011,
    ],
    [
      1.0000000000000002e+13 / 10000,
      1.0000000000000001e+09,
    ],
    [
      0.001,
      0.0010000001,
    ],
    [
      1.01e-22,
      0,
    ],
    [
      root2 * root2,
      2,
    ],
    [
      (-root2) * root2,
      -2,
    ],
    [
      1e+17,
      1e+17,
    ],
    [
      3.141592653589793,
      3.141592653589793,
    ],
  ];
  for (const pair of pairs) {
    let a = pair[0];
    let b = pair[1];
    let s = isClose(a, b) ? "≈" : "≉";
    console.log(`${String(a)} ${s} ${String(b)}`);
  }
}

function main(): void {
  main();
}
main();
