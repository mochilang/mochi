// Generated by Mochi compiler v0.10.26 on 2025-07-16T09:12:31Z
// Source: /workspace/mochi/tests/rosetta/x/Mochi/amicable-pairs.mochi

function pfacSum(i: number): number {
  var sum = 0;
  var p = 1;
  while ((p <= Math.trunc(i / 2))) {
    if (((i % p) == 0)) {
      sum = sum + p;
    }
    p = p + 1;
  }
  return sum;
}

function pad(n: number, width: number): string {
  var s = String(n);
  while ((s.length < width)) {
    s = ` ${s}`;
  }
  return s;
}

function main(): void {
  var sums: number[] = [];
  var i = 0;
  while ((i < 20000)) {
    sums = [...sums, 0];
    i = i + 1;
  }
  i = 1;
  while ((i < 20000)) {
    sums[i] = pfacSum(i);
    i = i + 1;
  }
  console.log("The amicable pairs below 20,000 are:");
  var n = 2;
  while ((n < 19999)) {
    let m = sums[n];
    if ((((m > n) && (m < 20000)) && (n == sums[m]))) {
      console.log(`  ${pad(n, 5)} and ${pad(m, 5)}`);
    }
    n = n + 1;
  }
}

function main(): void {
  main();
}
main();
