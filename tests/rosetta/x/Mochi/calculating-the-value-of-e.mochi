let epsilon = 1.0e-15
fun absf(x: float): float { if x < 0.0 { return -x } return x }
fun formatFloat(f: float, prec: int): string {
  let s = str(f)
  let idx = indexOf(s, ".")
  if idx < 0 { return s }
  let need = idx + 1 + prec
  if len(s) > need { return substring(s, 0, need) }
  return s
}
var fact = 1
var e: float = 2.0
var n = 2
while true {
  let e0 = e
  fact = fact * n
  n = n + 1
  e = e + 1.0 / (fact as float)
  if absf(e - e0) < epsilon { break }
}
print("e = " + formatFloat(e, 15))
