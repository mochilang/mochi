{
  "types": [
    {
      "name": "Nation",
      "kind": "struct",
      "access": "",
      "startline": 6,
      "endline": 10,
      "fields": [
        {
          "name": "n_nationkey",
          "type": "int",
          "access": "public",
          "line": 7,
          "value": "",
          "static": false,
          "doc": ""
        },
        {
          "name": "n_name",
          "type": "string",
          "access": "public",
          "line": 8,
          "value": "",
          "static": false,
          "doc": ""
        }
      ],
      "methods": [
        {
          "name": "ToString",
          "params": [],
          "ret": "string",
          "access": "public",
          "static": false,
          "ast": {
            "kind": "block"
          },
          "startline": 9,
          "endline": 9,
          "doc": ""
        }
      ],
      "doc": ""
    },
    {
      "name": "Customer",
      "kind": "struct",
      "access": "",
      "startline": 11,
      "endline": 20,
      "fields": [
        {
          "name": "c_custkey",
          "type": "int",
          "access": "public",
          "line": 12,
          "value": "",
          "static": false,
          "doc": ""
        },
        {
          "name": "c_name",
          "type": "string",
          "access": "public",
          "line": 13,
          "value": "",
          "static": false,
          "doc": ""
        },
        {
          "name": "c_acctbal",
          "type": "double",
          "access": "public",
          "line": 14,
          "value": "",
          "static": false,
          "doc": ""
        },
        {
          "name": "c_nationkey",
          "type": "int",
          "access": "public",
          "line": 15,
          "value": "",
          "static": false,
          "doc": ""
        },
        {
          "name": "c_address",
          "type": "string",
          "access": "public",
          "line": 16,
          "value": "",
          "static": false,
          "doc": ""
        },
        {
          "name": "c_phone",
          "type": "string",
          "access": "public",
          "line": 17,
          "value": "",
          "static": false,
          "doc": ""
        },
        {
          "name": "c_comment",
          "type": "string",
          "access": "public",
          "line": 18,
          "value": "",
          "static": false,
          "doc": ""
        }
      ],
      "methods": [
        {
          "name": "ToString",
          "params": [],
          "ret": "string",
          "access": "public",
          "static": false,
          "ast": {
            "kind": "block"
          },
          "startline": 19,
          "endline": 19,
          "doc": ""
        }
      ],
      "doc": ""
    },
    {
      "name": "Order",
      "kind": "struct",
      "access": "",
      "startline": 21,
      "endline": 26,
      "fields": [
        {
          "name": "o_orderkey",
          "type": "int",
          "access": "public",
          "line": 22,
          "value": "",
          "static": false,
          "doc": ""
        },
        {
          "name": "o_custkey",
          "type": "int",
          "access": "public",
          "line": 23,
          "value": "",
          "static": false,
          "doc": ""
        },
        {
          "name": "o_orderdate",
          "type": "string",
          "access": "public",
          "line": 24,
          "value": "",
          "static": false,
          "doc": ""
        }
      ],
      "methods": [
        {
          "name": "ToString",
          "params": [],
          "ret": "string",
          "access": "public",
          "static": false,
          "ast": {
            "kind": "block"
          },
          "startline": 25,
          "endline": 25,
          "doc": ""
        }
      ],
      "doc": ""
    },
    {
      "name": "Lineitem",
      "kind": "struct",
      "access": "",
      "startline": 27,
      "endline": 33,
      "fields": [
        {
          "name": "l_orderkey",
          "type": "int",
          "access": "public",
          "line": 28,
          "value": "",
          "static": false,
          "doc": ""
        },
        {
          "name": "l_returnflag",
          "type": "string",
          "access": "public",
          "line": 29,
          "value": "",
          "static": false,
          "doc": ""
        },
        {
          "name": "l_extendedprice",
          "type": "double",
          "access": "public",
          "line": 30,
          "value": "",
          "static": false,
          "doc": ""
        },
        {
          "name": "l_discount",
          "type": "double",
          "access": "public",
          "line": 31,
          "value": "",
          "static": false,
          "doc": ""
        }
      ],
      "methods": [
        {
          "name": "ToString",
          "params": [],
          "ret": "string",
          "access": "public",
          "static": false,
          "ast": {
            "kind": "block"
          },
          "startline": 32,
          "endline": 32,
          "doc": ""
        }
      ],
      "doc": ""
    },
    {
      "name": "GKey",
      "kind": "struct",
      "access": "",
      "startline": 34,
      "endline": 43,
      "fields": [
        {
          "name": "c_custkey",
          "type": "int",
          "access": "public",
          "line": 35,
          "value": "",
          "static": false,
          "doc": ""
        },
        {
          "name": "c_name",
          "type": "string",
          "access": "public",
          "line": 36,
          "value": "",
          "static": false,
          "doc": ""
        },
        {
          "name": "c_acctbal",
          "type": "double",
          "access": "public",
          "line": 37,
          "value": "",
          "static": false,
          "doc": ""
        },
        {
          "name": "c_address",
          "type": "string",
          "access": "public",
          "line": 38,
          "value": "",
          "static": false,
          "doc": ""
        },
        {
          "name": "c_phone",
          "type": "string",
          "access": "public",
          "line": 39,
          "value": "",
          "static": false,
          "doc": ""
        },
        {
          "name": "c_comment",
          "type": "string",
          "access": "public",
          "line": 40,
          "value": "",
          "static": false,
          "doc": ""
        },
        {
          "name": "n_name",
          "type": "string",
          "access": "public",
          "line": 41,
          "value": "",
          "static": false,
          "doc": ""
        }
      ],
      "methods": [
        {
          "name": "ToString",
          "params": [],
          "ret": "string",
          "access": "public",
          "static": false,
          "ast": {
            "kind": "block"
          },
          "startline": 42,
          "endline": 42,
          "doc": ""
        }
      ],
      "doc": ""
    },
    {
      "name": "GRow",
      "kind": "struct",
      "access": "",
      "startline": 44,
      "endline": 50,
      "fields": [
        {
          "name": "c",
          "type": "Customer",
          "access": "public",
          "line": 45,
          "value": "",
          "static": false,
          "doc": ""
        },
        {
          "name": "o",
          "type": "Order",
          "access": "public",
          "line": 46,
          "value": "",
          "static": false,
          "doc": ""
        },
        {
          "name": "l",
          "type": "Lineitem",
          "access": "public",
          "line": 47,
          "value": "",
          "static": false,
          "doc": ""
        },
        {
          "name": "n",
          "type": "Nation",
          "access": "public",
          "line": 48,
          "value": "",
          "static": false,
          "doc": ""
        }
      ],
      "methods": [
        {
          "name": "ToString",
          "params": [],
          "ret": "string",
          "access": "public",
          "static": false,
          "ast": {
            "kind": "block"
          },
          "startline": 49,
          "endline": 49,
          "doc": ""
        }
      ],
      "doc": ""
    },
    {
      "name": "GGroup",
      "kind": "struct",
      "access": "",
      "startline": 51,
      "endline": 55,
      "fields": [
        {
          "name": "key",
          "type": "GKey",
          "access": "public",
          "line": 52,
          "value": "",
          "static": false,
          "doc": ""
        },
        {
          "name": "items",
          "type": "GRow[]",
          "access": "public",
          "line": 53,
          "value": "",
          "static": false,
          "doc": ""
        }
      ],
      "methods": [
        {
          "name": "ToString",
          "params": [],
          "ret": "string",
          "access": "public",
          "static": false,
          "ast": {
            "kind": "block"
          },
          "startline": 54,
          "endline": 54,
          "doc": ""
        }
      ],
      "doc": ""
    },
    {
      "name": "GResult",
      "kind": "struct",
      "access": "",
      "startline": 56,
      "endline": 66,
      "fields": [
        {
          "name": "c_custkey",
          "type": "int",
          "access": "public",
          "line": 57,
          "value": "",
          "static": false,
          "doc": ""
        },
        {
          "name": "c_name",
          "type": "string",
          "access": "public",
          "line": 58,
          "value": "",
          "static": false,
          "doc": ""
        },
        {
          "name": "revenue",
          "type": "double",
          "access": "public",
          "line": 59,
          "value": "",
          "static": false,
          "doc": ""
        },
        {
          "name": "c_acctbal",
          "type": "double",
          "access": "public",
          "line": 60,
          "value": "",
          "static": false,
          "doc": ""
        },
        {
          "name": "n_name",
          "type": "string",
          "access": "public",
          "line": 61,
          "value": "",
          "static": false,
          "doc": ""
        },
        {
          "name": "c_address",
          "type": "string",
          "access": "public",
          "line": 62,
          "value": "",
          "static": false,
          "doc": ""
        },
        {
          "name": "c_phone",
          "type": "string",
          "access": "public",
          "line": 63,
          "value": "",
          "static": false,
          "doc": ""
        },
        {
          "name": "c_comment",
          "type": "string",
          "access": "public",
          "line": 64,
          "value": "",
          "static": false,
          "doc": ""
        }
      ],
      "methods": [
        {
          "name": "ToString",
          "params": [],
          "ret": "string",
          "access": "public",
          "static": false,
          "ast": {
            "kind": "block"
          },
          "startline": 65,
          "endline": 65,
          "doc": ""
        }
      ],
      "doc": ""
    },
    {
      "name": "Program",
      "kind": "class",
      "access": "",
      "startline": 67,
      "endline": 78,
      "fields": [
        {
          "name": "nation",
          "type": "Nation[]",
          "access": "",
          "line": 68,
          "value": "new Nation[]{new Nation{n_nationkey = 1, n_name = \"BRAZIL\"}}",
          "ast": {
            "kind": "array",
            "children": [
              {
                "kind": "new",
                "value": "Nation",
                "children": [
                  {
                    "kind": "init",
                    "children": [
                      {
                        "kind": "field",
                        "value": "n_nationkey",
                        "children": [
                          {
                            "kind": "literal",
                            "value": "1"
                          }
                        ]
                      },
                      {
                        "kind": "field",
                        "value": "n_name",
                        "children": [
                          {
                            "kind": "literal",
                            "value": "BRAZIL"
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            ]
          },
          "static": true,
          "doc": ""
        },
        {
          "name": "customer",
          "type": "Customer[]",
          "access": "",
          "line": 69,
          "value": "new Customer[]{new Customer{c_custkey = 1, c_name = \"Alice\", c_acctbal = 100, c_nationkey = 1, c_address = \"123 St\", c_phone = \"123-456\", c_comment = \"Loyal\"}}",
          "ast": {
            "kind": "array",
            "children": [
              {
                "kind": "new",
                "value": "Customer",
                "children": [
                  {
                    "kind": "init",
                    "children": [
                      {
                        "kind": "field",
                        "value": "c_custkey",
                        "children": [
                          {
                            "kind": "literal",
                            "value": "1"
                          }
                        ]
                      },
                      {
                        "kind": "field",
                        "value": "c_name",
                        "children": [
                          {
                            "kind": "literal",
                            "value": "Alice"
                          }
                        ]
                      },
                      {
                        "kind": "field",
                        "value": "c_acctbal",
                        "children": [
                          {
                            "kind": "literal",
                            "value": "100"
                          }
                        ]
                      },
                      {
                        "kind": "field",
                        "value": "c_nationkey",
                        "children": [
                          {
                            "kind": "literal",
                            "value": "1"
                          }
                        ]
                      },
                      {
                        "kind": "field",
                        "value": "c_address",
                        "children": [
                          {
                            "kind": "literal",
                            "value": "123 St"
                          }
                        ]
                      },
                      {
                        "kind": "field",
                        "value": "c_phone",
                        "children": [
                          {
                            "kind": "literal",
                            "value": "123-456"
                          }
                        ]
                      },
                      {
                        "kind": "field",
                        "value": "c_comment",
                        "children": [
                          {
                            "kind": "literal",
                            "value": "Loyal"
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            ]
          },
          "static": true,
          "doc": ""
        },
        {
          "name": "orders",
          "type": "Order[]",
          "access": "",
          "line": 70,
          "value": "new Order[]{new Order{o_orderkey = 1000, o_custkey = 1, o_orderdate = \"1993-10-15\"}, new Order{o_orderkey = 2000, o_custkey = 1, o_orderdate = \"1994-01-02\"}}",
          "ast": {
            "kind": "array",
            "children": [
              {
                "kind": "new",
                "value": "Order",
                "children": [
                  {
                    "kind": "init",
                    "children": [
                      {
                        "kind": "field",
                        "value": "o_orderkey",
                        "children": [
                          {
                            "kind": "literal",
                            "value": "1000"
                          }
                        ]
                      },
                      {
                        "kind": "field",
                        "value": "o_custkey",
                        "children": [
                          {
                            "kind": "literal",
                            "value": "1"
                          }
                        ]
                      },
                      {
                        "kind": "field",
                        "value": "o_orderdate",
                        "children": [
                          {
                            "kind": "literal",
                            "value": "1993-10-15"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "kind": "new",
                "value": "Order",
                "children": [
                  {
                    "kind": "init",
                    "children": [
                      {
                        "kind": "field",
                        "value": "o_orderkey",
                        "children": [
                          {
                            "kind": "literal",
                            "value": "2000"
                          }
                        ]
                      },
                      {
                        "kind": "field",
                        "value": "o_custkey",
                        "children": [
                          {
                            "kind": "literal",
                            "value": "1"
                          }
                        ]
                      },
                      {
                        "kind": "field",
                        "value": "o_orderdate",
                        "children": [
                          {
                            "kind": "literal",
                            "value": "1994-01-02"
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            ]
          },
          "static": true,
          "doc": ""
        },
        {
          "name": "lineitem",
          "type": "Lineitem[]",
          "access": "",
          "line": 71,
          "value": "new Lineitem[]{new Lineitem{l_orderkey = 1000, l_returnflag = \"R\", l_extendedprice = 1000, l_discount = 0.1}, new Lineitem{l_orderkey = 2000, l_returnflag = \"N\", l_extendedprice = 500, l_discount = 0}}",
          "ast": {
            "kind": "array",
            "children": [
              {
                "kind": "new",
                "value": "Lineitem",
                "children": [
                  {
                    "kind": "init",
                    "children": [
                      {
                        "kind": "field",
                        "value": "l_orderkey",
                        "children": [
                          {
                            "kind": "literal",
                            "value": "1000"
                          }
                        ]
                      },
                      {
                        "kind": "field",
                        "value": "l_returnflag",
                        "children": [
                          {
                            "kind": "literal",
                            "value": "R"
                          }
                        ]
                      },
                      {
                        "kind": "field",
                        "value": "l_extendedprice",
                        "children": [
                          {
                            "kind": "literal",
                            "value": "1000"
                          }
                        ]
                      },
                      {
                        "kind": "field",
                        "value": "l_discount",
                        "children": [
                          {
                            "kind": "literal",
                            "value": "0.1"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "kind": "new",
                "value": "Lineitem",
                "children": [
                  {
                    "kind": "init",
                    "children": [
                      {
                        "kind": "field",
                        "value": "l_orderkey",
                        "children": [
                          {
                            "kind": "literal",
                            "value": "2000"
                          }
                        ]
                      },
                      {
                        "kind": "field",
                        "value": "l_returnflag",
                        "children": [
                          {
                            "kind": "literal",
                            "value": "N"
                          }
                        ]
                      },
                      {
                        "kind": "field",
                        "value": "l_extendedprice",
                        "children": [
                          {
                            "kind": "literal",
                            "value": "500"
                          }
                        ]
                      },
                      {
                        "kind": "field",
                        "value": "l_discount",
                        "children": [
                          {
                            "kind": "literal",
                            "value": "0"
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            ]
          },
          "static": true,
          "doc": ""
        },
        {
          "name": "start_date",
          "type": "string",
          "access": "",
          "line": 72,
          "value": "\"1993-10-01\"",
          "ast": {
            "kind": "literal",
            "value": "1993-10-01"
          },
          "static": true,
          "doc": ""
        },
        {
          "name": "end_date",
          "type": "string",
          "access": "",
          "line": 73,
          "value": "\"1994-01-01\"",
          "ast": {
            "kind": "literal",
            "value": "1994-01-01"
          },
          "static": true,
          "doc": ""
        },
        {
          "name": "result",
          "type": "GResult[]",
          "access": "",
          "line": 74,
          "value": "(from c in customer join o in orders on c.c_custkey equals o.o_custkey join l in lineitem on o.o_orderkey equals l.l_orderkey join n in nation on c.c_nationkey equals n.n_nationkey where (((string.Compare(o.o_orderdate, start_date) \u003e= 0) \u0026\u0026 (string.Compare(o.o_orderdate, end_date) \u003c 0)) \u0026\u0026 (l.l_returnflag == \"R\")) group new GRow{c = c, o = o, l = l, n = n} by new GKey{c_custkey = c.c_custkey, c_name = c.c_name, c_acctbal = c.c_acctbal, c_address = c.c_address, c_phone = c.c_phone, c_comment = c.c_comment, n_name = n.n_name} into gTmp let g = new GGroup{ key = gTmp.Key, items = gTmp.ToArray() } orderby ((from x in g.items select (x.l.l_extendedprice * (1 - x.l.l_discount))).ToArray().Sum()) descending select new GResult{c_custkey = g.key.c_custkey, c_name = g.key.c_name, revenue = ((from x in g.items select (x.l.l_extendedprice * (1 - x.l.l_discount))).ToArray().Sum()), c_acctbal = g.key.c_acctbal, n_name = g.key.n_name, c_address = g.key.c_address, c_phone = g.key.c_phone, c_comment = g.key.c_comment}).ToArray()",
          "ast": {
            "kind": "call",
            "value": "ToArray",
            "children": [
              {
                "kind": "unknown"
              }
            ]
          },
          "static": true,
          "doc": ""
        }
      ],
      "methods": [
        {
          "name": "Main",
          "params": [],
          "ret": "void",
          "access": "",
          "static": true,
          "ast": {
            "kind": "block",
            "children": [
              {
                "kind": "call",
                "value": "print",
                "children": [
                  {
                    "kind": "binary",
                    "value": "+",
                    "children": [
                      {
                        "kind": "literal",
                        "value": "["
                      },
                      {
                        "kind": "binary",
                        "value": "+",
                        "children": [
                          {
                            "kind": "call",
                            "value": "Join",
                            "children": [
                              {
                                "kind": "ident",
                                "value": "string"
                              },
                              {
                                "kind": "literal",
                                "value": ","
                              },
                              {
                                "kind": "ident",
                                "value": "result"
                              }
                            ]
                          },
                          {
                            "kind": "literal",
                            "value": "]"
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            ]
          },
          "startline": 75,
          "endline": 77,
          "doc": ""
        }
      ],
      "doc": ""
    }
  ]
}
