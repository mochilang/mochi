{
  "Types": [
    {
      "Name": "Nation",
      "Kind": "struct",
      "Access": "",
      "StartLine": 6,
      "EndLine": 10,
      "Fields": [
        {
          "Name": "n_nationkey",
          "Type": "int",
          "Access": "public",
          "Line": 7,
          "Value": "",
          "Static": false,
          "Doc": ""
        },
        {
          "Name": "n_name",
          "Type": "string",
          "Access": "public",
          "Line": 8,
          "Value": "",
          "Static": false,
          "Doc": ""
        }
      ],
      "Methods": [
        {
          "Name": "ToString",
          "Params": [],
          "Ret": "string",
          "Access": "public",
          "Static": false,
          "Body": [],
          "Ast": {
            "Kind": "block"
          },
          "StartLine": 9,
          "EndLine": 9,
          "Doc": ""
        }
      ],
      "Doc": ""
    },
    {
      "Name": "Customer",
      "Kind": "struct",
      "Access": "",
      "StartLine": 11,
      "EndLine": 20,
      "Fields": [
        {
          "Name": "c_custkey",
          "Type": "int",
          "Access": "public",
          "Line": 12,
          "Value": "",
          "Static": false,
          "Doc": ""
        },
        {
          "Name": "c_name",
          "Type": "string",
          "Access": "public",
          "Line": 13,
          "Value": "",
          "Static": false,
          "Doc": ""
        },
        {
          "Name": "c_acctbal",
          "Type": "double",
          "Access": "public",
          "Line": 14,
          "Value": "",
          "Static": false,
          "Doc": ""
        },
        {
          "Name": "c_nationkey",
          "Type": "int",
          "Access": "public",
          "Line": 15,
          "Value": "",
          "Static": false,
          "Doc": ""
        },
        {
          "Name": "c_address",
          "Type": "string",
          "Access": "public",
          "Line": 16,
          "Value": "",
          "Static": false,
          "Doc": ""
        },
        {
          "Name": "c_phone",
          "Type": "string",
          "Access": "public",
          "Line": 17,
          "Value": "",
          "Static": false,
          "Doc": ""
        },
        {
          "Name": "c_comment",
          "Type": "string",
          "Access": "public",
          "Line": 18,
          "Value": "",
          "Static": false,
          "Doc": ""
        }
      ],
      "Methods": [
        {
          "Name": "ToString",
          "Params": [],
          "Ret": "string",
          "Access": "public",
          "Static": false,
          "Body": [],
          "Ast": {
            "Kind": "block"
          },
          "StartLine": 19,
          "EndLine": 19,
          "Doc": ""
        }
      ],
      "Doc": ""
    },
    {
      "Name": "Order",
      "Kind": "struct",
      "Access": "",
      "StartLine": 21,
      "EndLine": 26,
      "Fields": [
        {
          "Name": "o_orderkey",
          "Type": "int",
          "Access": "public",
          "Line": 22,
          "Value": "",
          "Static": false,
          "Doc": ""
        },
        {
          "Name": "o_custkey",
          "Type": "int",
          "Access": "public",
          "Line": 23,
          "Value": "",
          "Static": false,
          "Doc": ""
        },
        {
          "Name": "o_orderdate",
          "Type": "string",
          "Access": "public",
          "Line": 24,
          "Value": "",
          "Static": false,
          "Doc": ""
        }
      ],
      "Methods": [
        {
          "Name": "ToString",
          "Params": [],
          "Ret": "string",
          "Access": "public",
          "Static": false,
          "Body": [],
          "Ast": {
            "Kind": "block"
          },
          "StartLine": 25,
          "EndLine": 25,
          "Doc": ""
        }
      ],
      "Doc": ""
    },
    {
      "Name": "Lineitem",
      "Kind": "struct",
      "Access": "",
      "StartLine": 27,
      "EndLine": 33,
      "Fields": [
        {
          "Name": "l_orderkey",
          "Type": "int",
          "Access": "public",
          "Line": 28,
          "Value": "",
          "Static": false,
          "Doc": ""
        },
        {
          "Name": "l_returnflag",
          "Type": "string",
          "Access": "public",
          "Line": 29,
          "Value": "",
          "Static": false,
          "Doc": ""
        },
        {
          "Name": "l_extendedprice",
          "Type": "double",
          "Access": "public",
          "Line": 30,
          "Value": "",
          "Static": false,
          "Doc": ""
        },
        {
          "Name": "l_discount",
          "Type": "double",
          "Access": "public",
          "Line": 31,
          "Value": "",
          "Static": false,
          "Doc": ""
        }
      ],
      "Methods": [
        {
          "Name": "ToString",
          "Params": [],
          "Ret": "string",
          "Access": "public",
          "Static": false,
          "Body": [],
          "Ast": {
            "Kind": "block"
          },
          "StartLine": 32,
          "EndLine": 32,
          "Doc": ""
        }
      ],
      "Doc": ""
    },
    {
      "Name": "GKey",
      "Kind": "struct",
      "Access": "",
      "StartLine": 34,
      "EndLine": 43,
      "Fields": [
        {
          "Name": "c_custkey",
          "Type": "int",
          "Access": "public",
          "Line": 35,
          "Value": "",
          "Static": false,
          "Doc": ""
        },
        {
          "Name": "c_name",
          "Type": "string",
          "Access": "public",
          "Line": 36,
          "Value": "",
          "Static": false,
          "Doc": ""
        },
        {
          "Name": "c_acctbal",
          "Type": "double",
          "Access": "public",
          "Line": 37,
          "Value": "",
          "Static": false,
          "Doc": ""
        },
        {
          "Name": "c_address",
          "Type": "string",
          "Access": "public",
          "Line": 38,
          "Value": "",
          "Static": false,
          "Doc": ""
        },
        {
          "Name": "c_phone",
          "Type": "string",
          "Access": "public",
          "Line": 39,
          "Value": "",
          "Static": false,
          "Doc": ""
        },
        {
          "Name": "c_comment",
          "Type": "string",
          "Access": "public",
          "Line": 40,
          "Value": "",
          "Static": false,
          "Doc": ""
        },
        {
          "Name": "n_name",
          "Type": "string",
          "Access": "public",
          "Line": 41,
          "Value": "",
          "Static": false,
          "Doc": ""
        }
      ],
      "Methods": [
        {
          "Name": "ToString",
          "Params": [],
          "Ret": "string",
          "Access": "public",
          "Static": false,
          "Body": [],
          "Ast": {
            "Kind": "block"
          },
          "StartLine": 42,
          "EndLine": 42,
          "Doc": ""
        }
      ],
      "Doc": ""
    },
    {
      "Name": "GRow",
      "Kind": "struct",
      "Access": "",
      "StartLine": 44,
      "EndLine": 50,
      "Fields": [
        {
          "Name": "c",
          "Type": "Customer",
          "Access": "public",
          "Line": 45,
          "Value": "",
          "Static": false,
          "Doc": ""
        },
        {
          "Name": "o",
          "Type": "Order",
          "Access": "public",
          "Line": 46,
          "Value": "",
          "Static": false,
          "Doc": ""
        },
        {
          "Name": "l",
          "Type": "Lineitem",
          "Access": "public",
          "Line": 47,
          "Value": "",
          "Static": false,
          "Doc": ""
        },
        {
          "Name": "n",
          "Type": "Nation",
          "Access": "public",
          "Line": 48,
          "Value": "",
          "Static": false,
          "Doc": ""
        }
      ],
      "Methods": [
        {
          "Name": "ToString",
          "Params": [],
          "Ret": "string",
          "Access": "public",
          "Static": false,
          "Body": [],
          "Ast": {
            "Kind": "block"
          },
          "StartLine": 49,
          "EndLine": 49,
          "Doc": ""
        }
      ],
      "Doc": ""
    },
    {
      "Name": "GGroup",
      "Kind": "struct",
      "Access": "",
      "StartLine": 51,
      "EndLine": 55,
      "Fields": [
        {
          "Name": "key",
          "Type": "GKey",
          "Access": "public",
          "Line": 52,
          "Value": "",
          "Static": false,
          "Doc": ""
        },
        {
          "Name": "items",
          "Type": "GRow[]",
          "Access": "public",
          "Line": 53,
          "Value": "",
          "Static": false,
          "Doc": ""
        }
      ],
      "Methods": [
        {
          "Name": "ToString",
          "Params": [],
          "Ret": "string",
          "Access": "public",
          "Static": false,
          "Body": [],
          "Ast": {
            "Kind": "block"
          },
          "StartLine": 54,
          "EndLine": 54,
          "Doc": ""
        }
      ],
      "Doc": ""
    },
    {
      "Name": "GResult",
      "Kind": "struct",
      "Access": "",
      "StartLine": 56,
      "EndLine": 66,
      "Fields": [
        {
          "Name": "c_custkey",
          "Type": "int",
          "Access": "public",
          "Line": 57,
          "Value": "",
          "Static": false,
          "Doc": ""
        },
        {
          "Name": "c_name",
          "Type": "string",
          "Access": "public",
          "Line": 58,
          "Value": "",
          "Static": false,
          "Doc": ""
        },
        {
          "Name": "revenue",
          "Type": "double",
          "Access": "public",
          "Line": 59,
          "Value": "",
          "Static": false,
          "Doc": ""
        },
        {
          "Name": "c_acctbal",
          "Type": "double",
          "Access": "public",
          "Line": 60,
          "Value": "",
          "Static": false,
          "Doc": ""
        },
        {
          "Name": "n_name",
          "Type": "string",
          "Access": "public",
          "Line": 61,
          "Value": "",
          "Static": false,
          "Doc": ""
        },
        {
          "Name": "c_address",
          "Type": "string",
          "Access": "public",
          "Line": 62,
          "Value": "",
          "Static": false,
          "Doc": ""
        },
        {
          "Name": "c_phone",
          "Type": "string",
          "Access": "public",
          "Line": 63,
          "Value": "",
          "Static": false,
          "Doc": ""
        },
        {
          "Name": "c_comment",
          "Type": "string",
          "Access": "public",
          "Line": 64,
          "Value": "",
          "Static": false,
          "Doc": ""
        }
      ],
      "Methods": [
        {
          "Name": "ToString",
          "Params": [],
          "Ret": "string",
          "Access": "public",
          "Static": false,
          "Body": [],
          "Ast": {
            "Kind": "block"
          },
          "StartLine": 65,
          "EndLine": 65,
          "Doc": ""
        }
      ],
      "Doc": ""
    },
    {
      "Name": "Program",
      "Kind": "class",
      "Access": "",
      "StartLine": 67,
      "EndLine": 78,
      "Fields": [
        {
          "Name": "nation",
          "Type": "Nation[]",
          "Access": "",
          "Line": 68,
          "Value": "new Nation[]{new Nation{n_nationkey = 1, n_name = \"BRAZIL\"}}",
          "Ast": {
            "Kind": "array",
            "Children": [
              {
                "Kind": "new",
                "Value": "Nation",
                "Children": [
                  {
                    "Kind": "init",
                    "Children": [
                      {
                        "Kind": "field",
                        "Value": "n_nationkey",
                        "Children": [
                          {
                            "Kind": "literal",
                            "Value": "1"
                          }
                        ]
                      },
                      {
                        "Kind": "field",
                        "Value": "n_name",
                        "Children": [
                          {
                            "Kind": "literal",
                            "Value": "BRAZIL"
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            ]
          },
          "Static": true,
          "Doc": ""
        },
        {
          "Name": "customer",
          "Type": "Customer[]",
          "Access": "",
          "Line": 69,
          "Value": "new Customer[]{new Customer{c_custkey = 1, c_name = \"Alice\", c_acctbal = 100, c_nationkey = 1, c_address = \"123 St\", c_phone = \"123-456\", c_comment = \"Loyal\"}}",
          "Ast": {
            "Kind": "array",
            "Children": [
              {
                "Kind": "new",
                "Value": "Customer",
                "Children": [
                  {
                    "Kind": "init",
                    "Children": [
                      {
                        "Kind": "field",
                        "Value": "c_custkey",
                        "Children": [
                          {
                            "Kind": "literal",
                            "Value": "1"
                          }
                        ]
                      },
                      {
                        "Kind": "field",
                        "Value": "c_name",
                        "Children": [
                          {
                            "Kind": "literal",
                            "Value": "Alice"
                          }
                        ]
                      },
                      {
                        "Kind": "field",
                        "Value": "c_acctbal",
                        "Children": [
                          {
                            "Kind": "literal",
                            "Value": "100"
                          }
                        ]
                      },
                      {
                        "Kind": "field",
                        "Value": "c_nationkey",
                        "Children": [
                          {
                            "Kind": "literal",
                            "Value": "1"
                          }
                        ]
                      },
                      {
                        "Kind": "field",
                        "Value": "c_address",
                        "Children": [
                          {
                            "Kind": "literal",
                            "Value": "123 St"
                          }
                        ]
                      },
                      {
                        "Kind": "field",
                        "Value": "c_phone",
                        "Children": [
                          {
                            "Kind": "literal",
                            "Value": "123-456"
                          }
                        ]
                      },
                      {
                        "Kind": "field",
                        "Value": "c_comment",
                        "Children": [
                          {
                            "Kind": "literal",
                            "Value": "Loyal"
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            ]
          },
          "Static": true,
          "Doc": ""
        },
        {
          "Name": "orders",
          "Type": "Order[]",
          "Access": "",
          "Line": 70,
          "Value": "new Order[]{new Order{o_orderkey = 1000, o_custkey = 1, o_orderdate = \"1993-10-15\"}, new Order{o_orderkey = 2000, o_custkey = 1, o_orderdate = \"1994-01-02\"}}",
          "Ast": {
            "Kind": "array",
            "Children": [
              {
                "Kind": "new",
                "Value": "Order",
                "Children": [
                  {
                    "Kind": "init",
                    "Children": [
                      {
                        "Kind": "field",
                        "Value": "o_orderkey",
                        "Children": [
                          {
                            "Kind": "literal",
                            "Value": "1000"
                          }
                        ]
                      },
                      {
                        "Kind": "field",
                        "Value": "o_custkey",
                        "Children": [
                          {
                            "Kind": "literal",
                            "Value": "1"
                          }
                        ]
                      },
                      {
                        "Kind": "field",
                        "Value": "o_orderdate",
                        "Children": [
                          {
                            "Kind": "literal",
                            "Value": "1993-10-15"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "Kind": "new",
                "Value": "Order",
                "Children": [
                  {
                    "Kind": "init",
                    "Children": [
                      {
                        "Kind": "field",
                        "Value": "o_orderkey",
                        "Children": [
                          {
                            "Kind": "literal",
                            "Value": "2000"
                          }
                        ]
                      },
                      {
                        "Kind": "field",
                        "Value": "o_custkey",
                        "Children": [
                          {
                            "Kind": "literal",
                            "Value": "1"
                          }
                        ]
                      },
                      {
                        "Kind": "field",
                        "Value": "o_orderdate",
                        "Children": [
                          {
                            "Kind": "literal",
                            "Value": "1994-01-02"
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            ]
          },
          "Static": true,
          "Doc": ""
        },
        {
          "Name": "lineitem",
          "Type": "Lineitem[]",
          "Access": "",
          "Line": 71,
          "Value": "new Lineitem[]{new Lineitem{l_orderkey = 1000, l_returnflag = \"R\", l_extendedprice = 1000, l_discount = 0.1}, new Lineitem{l_orderkey = 2000, l_returnflag = \"N\", l_extendedprice = 500, l_discount = 0}}",
          "Ast": {
            "Kind": "array",
            "Children": [
              {
                "Kind": "new",
                "Value": "Lineitem",
                "Children": [
                  {
                    "Kind": "init",
                    "Children": [
                      {
                        "Kind": "field",
                        "Value": "l_orderkey",
                        "Children": [
                          {
                            "Kind": "literal",
                            "Value": "1000"
                          }
                        ]
                      },
                      {
                        "Kind": "field",
                        "Value": "l_returnflag",
                        "Children": [
                          {
                            "Kind": "literal",
                            "Value": "R"
                          }
                        ]
                      },
                      {
                        "Kind": "field",
                        "Value": "l_extendedprice",
                        "Children": [
                          {
                            "Kind": "literal",
                            "Value": "1000"
                          }
                        ]
                      },
                      {
                        "Kind": "field",
                        "Value": "l_discount",
                        "Children": [
                          {
                            "Kind": "literal",
                            "Value": "0.1"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "Kind": "new",
                "Value": "Lineitem",
                "Children": [
                  {
                    "Kind": "init",
                    "Children": [
                      {
                        "Kind": "field",
                        "Value": "l_orderkey",
                        "Children": [
                          {
                            "Kind": "literal",
                            "Value": "2000"
                          }
                        ]
                      },
                      {
                        "Kind": "field",
                        "Value": "l_returnflag",
                        "Children": [
                          {
                            "Kind": "literal",
                            "Value": "N"
                          }
                        ]
                      },
                      {
                        "Kind": "field",
                        "Value": "l_extendedprice",
                        "Children": [
                          {
                            "Kind": "literal",
                            "Value": "500"
                          }
                        ]
                      },
                      {
                        "Kind": "field",
                        "Value": "l_discount",
                        "Children": [
                          {
                            "Kind": "literal",
                            "Value": "0"
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            ]
          },
          "Static": true,
          "Doc": ""
        },
        {
          "Name": "start_date",
          "Type": "string",
          "Access": "",
          "Line": 72,
          "Value": "\"1993-10-01\"",
          "Ast": {
            "Kind": "literal",
            "Value": "1993-10-01"
          },
          "Static": true,
          "Doc": ""
        },
        {
          "Name": "end_date",
          "Type": "string",
          "Access": "",
          "Line": 73,
          "Value": "\"1994-01-01\"",
          "Ast": {
            "Kind": "literal",
            "Value": "1994-01-01"
          },
          "Static": true,
          "Doc": ""
        },
        {
          "Name": "result",
          "Type": "GResult[]",
          "Access": "",
          "Line": 74,
          "Value": "(from c in customer join o in orders on c.c_custkey equals o.o_custkey join l in lineitem on o.o_orderkey equals l.l_orderkey join n in nation on c.c_nationkey equals n.n_nationkey where (((string.Compare(o.o_orderdate, start_date) \u003e= 0) \u0026\u0026 (string.Compare(o.o_orderdate, end_date) \u003c 0)) \u0026\u0026 (l.l_returnflag == \"R\")) group new GRow{c = c, o = o, l = l, n = n} by new GKey{c_custkey = c.c_custkey, c_name = c.c_name, c_acctbal = c.c_acctbal, c_address = c.c_address, c_phone = c.c_phone, c_comment = c.c_comment, n_name = n.n_name} into gTmp let g = new GGroup{ key = gTmp.Key, items = gTmp.ToArray() } orderby ((from x in g.items select (x.l.l_extendedprice * (1 - x.l.l_discount))).ToArray().Sum()) descending select new GResult{c_custkey = g.key.c_custkey, c_name = g.key.c_name, revenue = ((from x in g.items select (x.l.l_extendedprice * (1 - x.l.l_discount))).ToArray().Sum()), c_acctbal = g.key.c_acctbal, n_name = g.key.n_name, c_address = g.key.c_address, c_phone = g.key.c_phone, c_comment = g.key.c_comment}).ToArray()",
          "Ast": {
            "Kind": "call",
            "Value": "ToArray",
            "Children": [
              {
                "Kind": "unknown"
              }
            ]
          },
          "Static": true,
          "Doc": ""
        }
      ],
      "Methods": [
        {
          "Name": "Main",
          "Params": [],
          "Ret": "void",
          "Access": "",
          "Static": true,
          "Body": [
            "        Console.WriteLine((\"[\" + (string.Join(\",\", result) + \"]\")));"
          ],
          "Ast": {
            "Kind": "block",
            "Children": [
              {
                "Kind": "call",
                "Value": "print",
                "Children": [
                  {
                    "Kind": "binary",
                    "Value": "+",
                    "Children": [
                      {
                        "Kind": "literal",
                        "Value": "["
                      },
                      {
                        "Kind": "binary",
                        "Value": "+",
                        "Children": [
                          {
                            "Kind": "call",
                            "Value": "Join",
                            "Children": [
                              {
                                "Kind": "ident",
                                "Value": "string"
                              },
                              {
                                "Kind": "literal",
                                "Value": ","
                              },
                              {
                                "Kind": "ident",
                                "Value": "result"
                              }
                            ]
                          },
                          {
                            "Kind": "literal",
                            "Value": "]"
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            ]
          },
          "StartLine": 75,
          "EndLine": 77,
          "Doc": ""
        }
      ],
      "Doc": ""
    }
  ],
  "Src": "// Generated by Mochi 0.10.34 on 2025-07-21 21:13 +0700\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\n\nstruct Nation {\n    public int n_nationkey;\n    public string n_name;\n    public override string ToString() =\u003e $\"{{'n_nationkey': {n_nationkey}, 'n_name': '{n_name}'}}\";\n}\nstruct Customer {\n    public int c_custkey;\n    public string c_name;\n    public double c_acctbal;\n    public int c_nationkey;\n    public string c_address;\n    public string c_phone;\n    public string c_comment;\n    public override string ToString() =\u003e $\"{{'c_custkey': {c_custkey}, 'c_name': '{c_name}', 'c_acctbal': {c_acctbal.ToString(\"0.0\")}, 'c_nationkey': {c_nationkey}, 'c_address': '{c_address}', 'c_phone': '{c_phone}', 'c_comment': '{c_comment}'}}\";\n}\nstruct Order {\n    public int o_orderkey;\n    public int o_custkey;\n    public string o_orderdate;\n    public override string ToString() =\u003e $\"{{'o_orderkey': {o_orderkey}, 'o_custkey': {o_custkey}, 'o_orderdate': '{o_orderdate}'}}\";\n}\nstruct Lineitem {\n    public int l_orderkey;\n    public string l_returnflag;\n    public double l_extendedprice;\n    public double l_discount;\n    public override string ToString() =\u003e $\"{{'l_orderkey': {l_orderkey}, 'l_returnflag': '{l_returnflag}', 'l_extendedprice': {l_extendedprice.ToString(\"0.0\")}, 'l_discount': {l_discount.ToString(\"0.0\")}}}\";\n}\nstruct GKey {\n    public int c_custkey;\n    public string c_name;\n    public double c_acctbal;\n    public string c_address;\n    public string c_phone;\n    public string c_comment;\n    public string n_name;\n    public override string ToString() =\u003e $\"{{'c_custkey': {c_custkey}, 'c_name': '{c_name}', 'c_acctbal': {c_acctbal.ToString(\"0.0\")}, 'c_address': '{c_address}', 'c_phone': '{c_phone}', 'c_comment': '{c_comment}', 'n_name': '{n_name}'}}\";\n}\nstruct GRow {\n    public Customer c;\n    public Order o;\n    public Lineitem l;\n    public Nation n;\n    public override string ToString() =\u003e $\"{{'c': {c}, 'o': {o}, 'l': {l}, 'n': {n}}}\";\n}\nstruct GGroup {\n    public GKey key;\n    public GRow[] items;\n    public override string ToString() =\u003e $\"{{'key': {key}, 'items': {items}}}\";\n}\nstruct GResult {\n    public int c_custkey;\n    public string c_name;\n    public double revenue;\n    public double c_acctbal;\n    public string n_name;\n    public string c_address;\n    public string c_phone;\n    public string c_comment;\n    public override string ToString() =\u003e $\"{{'c_custkey': {c_custkey}, 'c_name': '{c_name}', 'revenue': {revenue.ToString(\"0.0\")}, 'c_acctbal': {c_acctbal.ToString(\"0.0\")}, 'n_name': '{n_name}', 'c_address': '{c_address}', 'c_phone': '{c_phone}', 'c_comment': '{c_comment}'}}\";\n}\nclass Program {\n    static Nation[] nation = new Nation[]{new Nation{n_nationkey = 1, n_name = \"BRAZIL\"}};\n    static Customer[] customer = new Customer[]{new Customer{c_custkey = 1, c_name = \"Alice\", c_acctbal = 100, c_nationkey = 1, c_address = \"123 St\", c_phone = \"123-456\", c_comment = \"Loyal\"}};\n    static Order[] orders = new Order[]{new Order{o_orderkey = 1000, o_custkey = 1, o_orderdate = \"1993-10-15\"}, new Order{o_orderkey = 2000, o_custkey = 1, o_orderdate = \"1994-01-02\"}};\n    static Lineitem[] lineitem = new Lineitem[]{new Lineitem{l_orderkey = 1000, l_returnflag = \"R\", l_extendedprice = 1000, l_discount = 0.1}, new Lineitem{l_orderkey = 2000, l_returnflag = \"N\", l_extendedprice = 500, l_discount = 0}};\n    static string start_date = \"1993-10-01\";\n    static string end_date = \"1994-01-01\";\n    static GResult[] result = (from c in customer join o in orders on c.c_custkey equals o.o_custkey join l in lineitem on o.o_orderkey equals l.l_orderkey join n in nation on c.c_nationkey equals n.n_nationkey where (((string.Compare(o.o_orderdate, start_date) \u003e= 0) \u0026\u0026 (string.Compare(o.o_orderdate, end_date) \u003c 0)) \u0026\u0026 (l.l_returnflag == \"R\")) group new GRow{c = c, o = o, l = l, n = n} by new GKey{c_custkey = c.c_custkey, c_name = c.c_name, c_acctbal = c.c_acctbal, c_address = c.c_address, c_phone = c.c_phone, c_comment = c.c_comment, n_name = n.n_name} into gTmp let g = new GGroup{ key = gTmp.Key, items = gTmp.ToArray() } orderby ((from x in g.items select (x.l.l_extendedprice * (1 - x.l.l_discount))).ToArray().Sum()) descending select new GResult{c_custkey = g.key.c_custkey, c_name = g.key.c_name, revenue = ((from x in g.items select (x.l.l_extendedprice * (1 - x.l.l_discount))).ToArray().Sum()), c_acctbal = g.key.c_acctbal, n_name = g.key.n_name, c_address = g.key.c_address, c_phone = g.key.c_phone, c_comment = g.key.c_comment}).ToArray();\n    static void Main() {\n        Console.WriteLine((\"[\" + (string.Join(\",\", result) + \"]\")));\n    }\n}\n"
}
