{
  "tree": "Block(List(Import(Select(Select(Ident(TermName(\"scala\")), TermName(\"collection\")), TermName(\"mutable\")), List(ImportSelector(TermName(\"ArrayBuffer\"), 93, TermName(\"ArrayBuffer\"), 93), ImportSelector(TermName(\"Map\"), 106, TermName(\"Map\"), 106))), ModuleDef(Modifiers(), TermName(\"Main\"), Template(List(Select(Ident(scala), TypeName(\"AnyRef\"))), noSelfType, List(DefDef(Modifiers(), termNames.CONSTRUCTOR, List(), List(List()), TypeTree(), Block(List(pendingSuperCall), Literal(Constant(())))), DefDef(Modifiers(), TermName(\"main\"), List(), List(List(ValDef(Modifiers(PARAM), TermName(\"args\"), AppliedTypeTree(Ident(TypeName(\"Array\")), List(Ident(TypeName(\"String\")))), EmptyTree))), Ident(TypeName(\"Unit\")), Block(List(ClassDef(Modifiers(CASE), TypeName(\"Item\"), List(), Template(List(Select(Ident(scala), TypeName(\"Product\")), Select(Ident(scala), TypeName(\"Serializable\"))), noSelfType, List(ValDef(Modifiers(CASEACCESSOR | PARAMACCESSOR), TermName(\"name\"), Ident(TypeName(\"String\")), EmptyTree), ValDef(Modifiers(CASEACCESSOR | PARAMACCESSOR), TermName(\"price\"), Ident(TypeName(\"Int\")), EmptyTree), DefDef(Modifiers(), termNames.CONSTRUCTOR, List(), List(List(ValDef(Modifiers(PARAM | PARAMACCESSOR), TermName(\"name\"), Ident(TypeName(\"String\")), EmptyTree), ValDef(Modifiers(PARAM | PARAMACCESSOR), TermName(\"price\"), Ident(TypeName(\"Int\")), EmptyTree))), TypeTree(), Block(List(pendingSuperCall), Literal(Constant(()))))))), ValDef(Modifiers(), TermName(\"products\"), AppliedTypeTree(Ident(TypeName(\"ArrayBuffer\")), List(Ident(TypeName(\"Item\")))), Apply(Ident(TermName(\"ArrayBuffer\")), List(Apply(Ident(TermName(\"Item\")), List(Literal(Constant(\"Laptop\")), Literal(Constant(1500)))), Apply(Ident(TermName(\"Item\")), List(Literal(Constant(\"Smartphone\")), Literal(Constant(900)))), Apply(Ident(TermName(\"Item\")), List(Literal(Constant(\"Tablet\")), Literal(Constant(600)))), Apply(Ident(TermName(\"Item\")), List(Literal(Constant(\"Monitor\")), Literal(Constant(300)))), Apply(Ident(TermName(\"Item\")), List(Literal(Constant(\"Keyboard\")), Literal(Constant(100)))), Apply(Ident(TermName(\"Item\")), List(Literal(Constant(\"Mouse\")), Literal(Constant(50)))), Apply(Ident(TermName(\"Item\")), List(Literal(Constant(\"Headphones\")), Literal(Constant(200))))))), ValDef(Modifiers(), TermName(\"expensive\"), AppliedTypeTree(Ident(TypeName(\"ArrayBuffer\")), List(Ident(TypeName(\"Item\")))), Block(List(ValDef(Modifiers(MUTABLE), TermName(\"_tmp\"), TypeTree(), Apply(TypeApply(Ident(TermName(\"ArrayBuffer\")), List(AppliedTypeTree(Select(Ident(scala), TypeName(\"Tuple2\")), List(Ident(TypeName(\"Int\")), Ident(TypeName(\"Item\")))))), List())), Apply(Select(Ident(TermName(\"products\")), TermName(\"foreach\")), List(Function(List(ValDef(Modifiers(PARAM), TermName(\"p\"), TypeTree(), EmptyTree)), Apply(Select(Ident(TermName(\"_tmp\")), TermName(\"append\")), List(Apply(Select(Ident(scala), TermName(\"Tuple2\")), List(Apply(Select(Literal(Constant(0)), TermName(\"$minus\")), List(Select(Ident(TermName(\"p\")), TermName(\"price\")))), Ident(TermName(\"p\"))))))))), ValDef(Modifiers(MUTABLE), TermName(\"_res\"), TypeTree(), Apply(Select(Apply(Select(Apply(Select(Apply(Select(Ident(TermName(\"_tmp\")), TermName(\"sortBy\")), List(Function(List(ValDef(Modifiers(PARAM | SYNTHETIC), TermName(\"x$1\"), TypeTree(), EmptyTree)), Select(Ident(TermName(\"x$1\")), TermName(\"_1\"))))), TermName(\"map\")), List(Function(List(ValDef(Modifiers(PARAM | SYNTHETIC), TermName(\"x$2\"), TypeTree(), EmptyTree)), Select(Ident(TermName(\"x$2\")), TermName(\"_2\"))))), TermName(\"drop\")), List(Literal(Constant(1)))), TermName(\"take\")), List(Literal(Constant(3)))))), Ident(TermName(\"_res\")))), Apply(Ident(TermName(\"println\")), List(Literal(Constant(\"--- Top products (excluding most expensive) ---\"))))), Apply(Select(Ident(TermName(\"expensive\")), TermName(\"foreach\")), List(Function(List(ValDef(Modifiers(PARAM), TermName(\"item\"), TypeTree(), EmptyTree)), Apply(Ident(TermName(\"println\")), List(Apply(Select(Apply(Ident(TermName(\"List\")), List(Select(Ident(TermName(\"item\")), TermName(\"name\")), Literal(Constant(\"costs $\")), Select(Ident(TermName(\"item\")), TermName(\"price\")))), TermName(\"mkString\")), List(Literal(Constant(\" \"))))))))))))))), Literal(Constant(())))"
}
