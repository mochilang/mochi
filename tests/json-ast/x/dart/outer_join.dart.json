{
  "functions": [
    {
      "name": "main",
      "params": [],
      "ret": "void",
      "body": [
        "  let customers: list\u003cCustomer\u003e = [Customer(id: 1, name: \"Alice\"), Customer(id: 2, name: \"Bob\"), Customer(id: 3, name: \"Charlie\"), Customer(id: 4, name: \"Diana\")]",
        "  let orders: list\u003cOrder\u003e = [Order(id: 100, customerId: 1, total: 250), Order(id: 101, customerId: 2, total: 125), Order(id: 102, customerId: 1, total: 300), Order(id: 103, customerId: 5, total: 80)]",
        "  let result: list\u003cResult\u003e = (() {",
        "  let results = []",
        "  for (var o in orders) {",
        "    let matched = false",
        "    for (var c in customers) {",
        "      if (!(o.customerId == c.id)) continue",
        "      let matched = true",
        "      results.add(Result(order: o, customer: c))",
        "    }",
        "    if (!matched) {",
        "      let c = null",
        "      results.add(Result(order: o, customer: c))",
        "    }",
        "  }",
        "  for (var c in customers) {",
        "    let exists = false",
        "    for (var o in orders) {",
        "      if (o.customerId == c.id) { exists = true; break; }",
        "    }",
        "    if (!exists) {",
        "      let o = null",
        "      results.add(Result(order: o, customer: c))",
        "    }",
        "  }",
        "  return results",
        "  })()",
        "  print(\"--- Outer Join using syntax ---\")",
        "  for (var row in result) {",
        "    if (row.order) {",
        "      if (row.customer) {",
        "        print([\"Order\", row.order.id, \"by\", row.customer.name, \"- \\$\", row.order.total].join(\" \"))",
        "        } else {",
        "        print([\"Order\", row.order.id, \"by\", \"Unknown\", \"- \\$\", row.order.total].join(\" \"))",
        "      }",
        "      } else {",
        "      print([\"Customer\", row.customer.name, \"has no orders\"].join(\" \"))",
        "    }",
        "  }"
      ],
      "start": 21,
      "end": 62
    }
  ],
  "classes": [
    {
      "name": "Customer",
      "fields": [
        {
          "name": "id",
          "type": "int"
        },
        {
          "name": "name",
          "type": "String"
        }
      ],
      "start": 2,
      "end": 6,
      "doc": "Generated by Mochi transpiler"
    },
    {
      "name": "Order",
      "fields": [
        {
          "name": "id",
          "type": "int"
        },
        {
          "name": "customerId",
          "type": "int"
        },
        {
          "name": "total",
          "type": "int"
        }
      ],
      "start": 7,
      "end": 13
    },
    {
      "name": "Result",
      "fields": [
        {
          "name": "order",
          "type": "Order"
        },
        {
          "name": "customer",
          "type": "Customer"
        }
      ],
      "start": 14,
      "end": 19
    }
  ]
}
