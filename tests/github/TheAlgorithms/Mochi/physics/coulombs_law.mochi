/*
Coulomb's Law computes the electrostatic force between two point charges.
The magnitude of the force is directly proportional to the product of the
charges and inversely proportional to the square of the distance between
them:
    F = k * q1 * q2 / r^2
where k is Coulomb's constant (8.9875517923 × 10^9 N·m²/C²).
This implementation validates the distance is positive and prints the
force rounded to two decimal places.
*/

fun format2(x: float): string {
  let sign = if x < 0.0 { "-" } else { "" }
  let y = if x < 0.0 { -x } else { x }
  let m = 100.0
  let scaled = y * m
  var i = scaled as int
  if scaled - (i as float) >= 0.5 { i = i + 1 }
  let int_part = i / 100
  let frac_part = i % 100
  var frac_str = str(frac_part)
  if frac_part < 10 { frac_str = "0" + frac_str }
  return sign + str(int_part) + "." + frac_str
}

let K: float = 8987551792.3

fun coulombs_law(q1: float, q2: float, radius: float): float {
  if radius <= 0.0 { panic("radius must be positive") }
  let force = K * q1 * q2 / (radius * radius)
  return force
}

print(format2(coulombs_law(15.5, 20.0, 15.0)))
print(format2(coulombs_law(1.0, 15.0, 5.0)))
print(format2(coulombs_law(20.0, -50.0, 15.0)))
print(format2(coulombs_law(-5.0, -8.0, 10.0)))
print(format2(coulombs_law(50.0, 100.0, 50.0)))
