// Generated by Mochi 0.10.32 on 2025-08-12 12:29 +0700
#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include <unistd.h>
#include <malloc.h>


static char* str_int(long long v) {
    char buf[32];
    snprintf(buf, sizeof(buf), "%lld", v);
    return strdup(buf);
}

#include <time.h>
#include <stdlib.h>
static int seeded_now = 0;
static long long now_seed = 0;
static long long _now(void) {
    if (!seeded_now) {
        const char *s = getenv("MOCHI_NOW_SEED");
        if (s && *s) {
            now_seed = atoll(s);
            seeded_now = 1;
        }
    }
    if (seeded_now) {
        now_seed = (now_seed * 1664525 + 1013904223) % 2147483647;
        return now_seed;
    }
    struct timespec ts;
    clock_gettime(CLOCK_REALTIME, &ts);
    return (long long)(ts.tv_sec * 1000000000LL + ts.tv_nsec);
}

static long long _mem(void) {
    long long size = 0, rss = 0;
    FILE *f = fopen("/proc/self/statm", "r");
    if (f) {
        if (fscanf(f, "%lld %lld", &size, &rss) != 2) rss = 0;
        fclose(f);
    }
    return rss * (long long)sysconf(_SC_PAGESIZE);
}

static void panic(const char *msg) {
    fputs(msg, stderr);
    fputc('\n', stderr);
    exit(1);
}

long long largest_product(long long * * grid, size_t grid_len, size_t* grid_lens, size_t grid_lens_len);
void user_main();
int main(void);

long long largest_product(long long * * grid, size_t grid_len, size_t* grid_lens, size_t grid_lens_len) {
    long long n_rows = grid_len;
    long long n_cols = grid_lens[0LL];
    long long largest = 0LL;
    long long i = 0LL;
    while (i < n_rows) {
        long long j = 0LL;
        while (j < n_cols) {
            if (j <= (n_cols - 4LL)) {
                long long horz = ((grid[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? grid_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = j; _mochi_idx < 0 ? grid_lens[i] + _mochi_idx : _mochi_idx;})] * grid[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? grid_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = j + 1LL; _mochi_idx < 0 ? grid_lens[i] + _mochi_idx : _mochi_idx;})]) * grid[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? grid_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = j + 2LL; _mochi_idx < 0 ? grid_lens[i] + _mochi_idx : _mochi_idx;})]) * grid[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? grid_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = j + 3LL; _mochi_idx < 0 ? grid_lens[i] + _mochi_idx : _mochi_idx;})];
                if (horz > largest) {
                    largest = horz;
                }
            }
            if (i <= (n_rows - 4LL)) {
                long long vert = ((grid[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? grid_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = j; _mochi_idx < 0 ? grid_lens[i] + _mochi_idx : _mochi_idx;})] * grid[(int)({long long _mochi_idx = i + 1LL; _mochi_idx < 0 ? grid_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = j; _mochi_idx < 0 ? grid_lens[i + 1LL] + _mochi_idx : _mochi_idx;})]) * grid[(int)({long long _mochi_idx = i + 2LL; _mochi_idx < 0 ? grid_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = j; _mochi_idx < 0 ? grid_lens[i + 2LL] + _mochi_idx : _mochi_idx;})]) * grid[(int)({long long _mochi_idx = i + 3LL; _mochi_idx < 0 ? grid_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = j; _mochi_idx < 0 ? grid_lens[i + 3LL] + _mochi_idx : _mochi_idx;})];
                if (vert > largest) {
                    largest = vert;
                }
                if (j <= (n_cols - 4LL)) {
                    long long lr = ((grid[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? grid_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = j; _mochi_idx < 0 ? grid_lens[i] + _mochi_idx : _mochi_idx;})] * grid[(int)({long long _mochi_idx = i + 1LL; _mochi_idx < 0 ? grid_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = j + 1LL; _mochi_idx < 0 ? grid_lens[i + 1LL] + _mochi_idx : _mochi_idx;})]) * grid[(int)({long long _mochi_idx = i + 2LL; _mochi_idx < 0 ? grid_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = j + 2LL; _mochi_idx < 0 ? grid_lens[i + 2LL] + _mochi_idx : _mochi_idx;})]) * grid[(int)({long long _mochi_idx = i + 3LL; _mochi_idx < 0 ? grid_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = j + 3LL; _mochi_idx < 0 ? grid_lens[i + 3LL] + _mochi_idx : _mochi_idx;})];
                    if (lr > largest) {
                        largest = lr;
                    }
                }
                if (j >= 3LL) {
                    long long rl = ((grid[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? grid_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = j; _mochi_idx < 0 ? grid_lens[i] + _mochi_idx : _mochi_idx;})] * grid[(int)({long long _mochi_idx = i + 1LL; _mochi_idx < 0 ? grid_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = j - 1LL; _mochi_idx < 0 ? grid_lens[i + 1LL] + _mochi_idx : _mochi_idx;})]) * grid[(int)({long long _mochi_idx = i + 2LL; _mochi_idx < 0 ? grid_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = j - 2LL; _mochi_idx < 0 ? grid_lens[i + 2LL] + _mochi_idx : _mochi_idx;})]) * grid[(int)({long long _mochi_idx = i + 3LL; _mochi_idx < 0 ? grid_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = j - 3LL; _mochi_idx < 0 ? grid_lens[i + 3LL] + _mochi_idx : _mochi_idx;})];
                    if (rl > largest) {
                        largest = rl;
                    }
                }
            }
            j = j + 1LL;
        }
        i = i + 1LL;
    }
    return largest;
}

void user_main() {
    long long grid_0[20] = {8LL, 2LL, 22LL, 97LL, 38LL, 15LL, 0LL, 40LL, 0LL, 75LL, 4LL, 5LL, 7LL, 78LL, 52LL, 12LL, 50LL, 77LL, 91LL, 8LL};
    long long grid_1[20] = {49LL, 49LL, 99LL, 40LL, 17LL, 81LL, 18LL, 57LL, 60LL, 87LL, 17LL, 40LL, 98LL, 43LL, 69LL, 48LL, 4LL, 56LL, 62LL, 0LL};
    long long grid_2[20] = {81LL, 49LL, 31LL, 73LL, 55LL, 79LL, 14LL, 29LL, 93LL, 71LL, 40LL, 67LL, 53LL, 88LL, 30LL, 3LL, 49LL, 13LL, 36LL, 65LL};
    long long grid_3[20] = {52LL, 70LL, 95LL, 23LL, 4LL, 60LL, 11LL, 42LL, 69LL, 24LL, 68LL, 56LL, 1LL, 32LL, 56LL, 71LL, 37LL, 2LL, 36LL, 91LL};
    long long grid_4[20] = {22LL, 31LL, 16LL, 71LL, 51LL, 67LL, 63LL, 89LL, 41LL, 92LL, 36LL, 54LL, 22LL, 40LL, 40LL, 28LL, 66LL, 33LL, 13LL, 80LL};
    long long grid_5[20] = {24LL, 47LL, 32LL, 60LL, 99LL, 3LL, 45LL, 2LL, 44LL, 75LL, 33LL, 53LL, 78LL, 36LL, 84LL, 20LL, 35LL, 17LL, 12LL, 50LL};
    long long grid_6[20] = {32LL, 98LL, 81LL, 28LL, 64LL, 23LL, 67LL, 10LL, 26LL, 38LL, 40LL, 67LL, 59LL, 54LL, 70LL, 66LL, 18LL, 38LL, 64LL, 70LL};
    long long grid_7[20] = {67LL, 26LL, 20LL, 68LL, 2LL, 62LL, 12LL, 20LL, 95LL, 63LL, 94LL, 39LL, 63LL, 8LL, 40LL, 91LL, 66LL, 49LL, 94LL, 21LL};
    long long grid_8[20] = {24LL, 55LL, 58LL, 5LL, 66LL, 73LL, 99LL, 26LL, 97LL, 17LL, 78LL, 78LL, 96LL, 83LL, 14LL, 88LL, 34LL, 89LL, 63LL, 72LL};
    long long grid_9[20] = {21LL, 36LL, 23LL, 9LL, 75LL, 0LL, 76LL, 44LL, 20LL, 45LL, 35LL, 14LL, 0LL, 61LL, 33LL, 97LL, 34LL, 31LL, 33LL, 95LL};
    long long grid_10[20] = {78LL, 17LL, 53LL, 28LL, 22LL, 75LL, 31LL, 67LL, 15LL, 94LL, 3LL, 80LL, 4LL, 62LL, 16LL, 14LL, 9LL, 53LL, 56LL, 92LL};
    long long grid_11[20] = {16LL, 39LL, 5LL, 42LL, 96LL, 35LL, 31LL, 47LL, 55LL, 58LL, 88LL, 24LL, 0LL, 17LL, 54LL, 24LL, 36LL, 29LL, 85LL, 57LL};
    long long grid_12[20] = {86LL, 56LL, 0LL, 48LL, 35LL, 71LL, 89LL, 7LL, 5LL, 44LL, 44LL, 37LL, 44LL, 60LL, 21LL, 58LL, 51LL, 54LL, 17LL, 58LL};
    long long grid_13[20] = {19LL, 80LL, 81LL, 68LL, 5LL, 94LL, 47LL, 69LL, 28LL, 73LL, 92LL, 13LL, 86LL, 52LL, 17LL, 77LL, 4LL, 89LL, 55LL, 40LL};
    long long grid_14[20] = {4LL, 52LL, 8LL, 83LL, 97LL, 35LL, 99LL, 16LL, 7LL, 97LL, 57LL, 32LL, 16LL, 26LL, 26LL, 79LL, 33LL, 27LL, 98LL, 66LL};
    long long grid_15[20] = {88LL, 36LL, 68LL, 87LL, 57LL, 62LL, 20LL, 72LL, 3LL, 46LL, 33LL, 67LL, 46LL, 55LL, 12LL, 32LL, 63LL, 93LL, 53LL, 69LL};
    long long grid_16[20] = {4LL, 42LL, 16LL, 73LL, 38LL, 25LL, 39LL, 11LL, 24LL, 94LL, 72LL, 18LL, 8LL, 46LL, 29LL, 32LL, 40LL, 62LL, 76LL, 36LL};
    long long grid_17[20] = {20LL, 69LL, 36LL, 41LL, 72LL, 30LL, 23LL, 88LL, 34LL, 62LL, 99LL, 69LL, 82LL, 67LL, 59LL, 85LL, 74LL, 4LL, 36LL, 16LL};
    long long grid_18[20] = {20LL, 73LL, 35LL, 29LL, 78LL, 31LL, 90LL, 1LL, 74LL, 31LL, 49LL, 71LL, 48LL, 86LL, 81LL, 16LL, 23LL, 57LL, 5LL, 54LL};
    long long grid_19[20] = {1LL, 70LL, 54LL, 71LL, 83LL, 51LL, 54LL, 69LL, 16LL, 92LL, 33LL, 48LL, 61LL, 43LL, 52LL, 1LL, 89LL, 19LL, 67LL, 48LL};
    long long *grid_init[20] = {grid_0, grid_1, grid_2, grid_3, grid_4, grid_5, grid_6, grid_7, grid_8, grid_9, grid_10, grid_11, grid_12, grid_13, grid_14, grid_15, grid_16, grid_17, grid_18, grid_19};
    long long **grid = grid_init;
    size_t grid_len = 20;
    size_t grid_lens_init[20] = {20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20};
    size_t *grid_lens = grid_lens_init;
    size_t grid_lens_len = 20;
    long long ans = largest_product(grid, grid_len, grid_lens, grid_len);
    puts(str_int(ans));
}

int main(void) {
    {
        long long __start = _now();
        user_main();
        long long __end = _now();
        long long __dur_us = (__end - __start) / 1000;
        long long __mem_bytes = _mem();
        printf("{\n  \"duration_us\": %-lld,\n  \"memory_bytes\": %-lld,\n  \"name\": \"main\"\n}\n", __dur_us, __mem_bytes);
    }
    return 0;
}
