// Generated by Mochi 0.10.32 on 2025-08-23 21:18 +0700
#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include <unistd.h>
#include <malloc.h>

size_t remove_at_len;
size_t unique_chars_len;

size_t append_len;
static char* str_concat(const char *a, const char *b) {
    size_t len1 = strlen(a);
    size_t len2 = strlen(b);
    char *res = malloc(len1 + len2 + 1);
    memcpy(res, a, len1);
    memcpy(res + len1, b, len2);
    res[len1 + len2] = 0;
    return res;
}

static char* str_int(long long v) {
    char buf[32];
    snprintf(buf, sizeof(buf), "%lld", v);
    return strdup(buf);
}

static const char** list_append_str(const char **arr, size_t *len, const char *val) {
    arr = realloc((void*)arr, (*len + 1) * sizeof(char*));
    arr[*len] = val;
    (*len)++;
    return arr;
}

static const char** list_append_str_new(const char **arr, size_t len, const char *val) {
    const char **res = malloc((len + 1) * sizeof(const char*));
    if (arr && len) memcpy(res, arr, len * sizeof(const char*));
    res[len] = val;
    append_len = len + 1;
    return res;
}

#include <time.h>
static int seeded_now = 0;
static long long now_seed = 0;
static long long _now(void) {
    if (!seeded_now) {
        const char *s = getenv("MOCHI_NOW_SEED");
        if (s && *s) {
            now_seed = atoll(s);
            seeded_now = 1;
        }
    }
    if (seeded_now) {
        now_seed = (now_seed * 1664525 + 1013904223) % 2147483647;
        return now_seed;
    }
    struct timespec ts;
    clock_gettime(CLOCK_REALTIME, &ts);
    return (long long)(ts.tv_sec * 1000000000LL + ts.tv_nsec);
}

static long long _mem(void) {
    long long size = 0, rss = 0;
    FILE *f = fopen("/proc/self/statm", "r");
    if (f) {
        if (fscanf(f, "%lld %lld", &size, &rss) != 2) rss = 0;
        fclose(f);
    }
    return rss * (long long)sysconf(_SC_PAGESIZE);
}

static void panic(const char *msg) {
    fputs(msg, stderr);
    fputc('\n', stderr);
    exit(1);
}

static int _atoi(const char *s) {
    return atoi(s);
}

const char* logins1_init[16] = {"135", "259", "235", "189", "690", "168", "120", "136", "289", "589", "160", "165", "580", "369", "250", "280"};
const char* *logins1 = logins1_init;
size_t logins1_len = 16;
const char* logins2_init[16] = {"426", "281", "061", "819", "268", "406", "420", "428", "209", "689", "019", "421", "469", "261", "681", "201"};
const char* *logins2 = logins2_init;
size_t logins2_len = 16;

long long parse_int(const char* s);
const char* join(const char* * xs, size_t xs_len);
long long contains(const char* * xs, size_t xs_len, const char* c);
long long index_of(const char* * xs, size_t xs_len, const char* c);
const char* * remove_at(const char* * xs, size_t xs_len, long long idx);
const char* * unique_chars(const char* * logins, size_t logins_len);
long long satisfies(const char* * permutation, size_t permutation_len, const char* * logins, size_t logins_len);
const char* search(const char* * chars, size_t chars_len, const char* * current, size_t current_len, const char* * logins, size_t logins_len);
long long find_secret_passcode(const char* * logins, size_t logins_len);
int main(void);

long long parse_int(const char* s) {
    long long value = 0LL;
    long long i = 0LL;
    while (i < strlen(s)) {
        const char* c = (const char[]){s[i], 0};
        value = (value * 10LL) + _atoi(c);
        i = i + 1LL;
    }
    return value;
}

const char* join(const char* * xs, size_t xs_len) {
    const char* s = "";
    long long i = 0LL;
    while (i < xs_len) {
        s = str_concat(s, xs[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? xs_len + _mochi_idx : _mochi_idx;})]);
        i = i + 1LL;
    }
    return s;
}

long long contains(const char* * xs, size_t xs_len, const char* c) {
    long long i = 0LL;
    while (i < xs_len) {
        if (strcmp(xs[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? xs_len + _mochi_idx : _mochi_idx;})], c) == 0) {
            return 1LL;
        }
        i = i + 1LL;
    }
    return 0LL;
}

long long index_of(const char* * xs, size_t xs_len, const char* c) {
    long long i = 0LL;
    while (i < xs_len) {
        if (strcmp(xs[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? xs_len + _mochi_idx : _mochi_idx;})], c) == 0) {
            return i;
        }
        i = i + 1LL;
    }
    return -1.0;
}

const char* * remove_at(const char* * xs, size_t xs_len, long long idx) {
    const char* *res = NULL;
    size_t res_len = 0;
    long long i = 0LL;
    while (i < xs_len) {
        if (i != idx) {
            res = list_append_str(res, &res_len, xs[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? xs_len + _mochi_idx : _mochi_idx;})]);
        }
        i = i + 1LL;
    }
    return remove_at_len = res_len, res;
}

const char* * unique_chars(const char* * logins, size_t logins_len) {
    const char* *chars = NULL;
    size_t chars_len = 0;
    long long i = 0LL;
    while (i < logins_len) {
        const char* login = logins[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? logins_len + _mochi_idx : _mochi_idx;})];
        long long j = 0LL;
        while (j < strlen(login)) {
            const char* c = (const char[]){login[j], 0};
            if (!(contains(chars, chars_len, c))) {
                chars = list_append_str(chars, &chars_len, c);
            }
            j = j + 1LL;
        }
        i = i + 1LL;
    }
    return unique_chars_len = chars_len, chars;
}

long long satisfies(const char* * permutation, size_t permutation_len, const char* * logins, size_t logins_len) {
    long long i = 0LL;
    while (i < logins_len) {
        const char* login = logins[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? logins_len + _mochi_idx : _mochi_idx;})];
        long long i0 = index_of(permutation, permutation_len, (const char[]){login[0LL], 0});
        long long i1 = index_of(permutation, permutation_len, (const char[]){login[1LL], 0});
        long long i2 = index_of(permutation, permutation_len, (const char[]){login[2LL], 0});
        if (!((i0 < i1) && (i1 < i2))) {
            return 0LL;
        }
        i = i + 1LL;
    }
    return 1LL;
}

const char* search(const char* * chars, size_t chars_len, const char* * current, size_t current_len, const char* * logins, size_t logins_len) {
    if (chars_len == 0LL) {
        if (satisfies(current, current_len, logins, logins_len)) {
            return join(current, current_len);
        }
        return "";
    }
    long long i = 0LL;
    while (i < chars_len) {
        const char* c = chars[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? chars_len + _mochi_idx : _mochi_idx;})];
        const char* *rest = remove_at(chars, chars_len, i);
        size_t rest_len = remove_at_len;
        const char* *next = list_append_str_new(current, current_len, c);
        size_t next_len = current_len + 1;
        const char* res = search(rest, rest_len, next, next_len, logins, logins_len);
        if (strcmp(res, "") != 0) {
            return res;
        }
        i = i + 1LL;
    }
    return "";
}

long long find_secret_passcode(const char* * logins, size_t logins_len) {
    const char* *chars = unique_chars(logins, logins_len);
    size_t chars_len = unique_chars_len;
    const char* s = search(chars, chars_len, NULL, 0, logins, logins_len);
    if (strcmp(s, "") == 0) {
        return -1.0;
    }
    return parse_int(s);
}

int main(void) {
    {
        long long __start = _now();
        puts(str_int(find_secret_passcode(logins1, logins1_len)));
        puts(str_int(find_secret_passcode(logins2, logins2_len)));
        long long __end = _now();
        long long __dur_us = (__end - __start) / 1000;
        long long __mem_bytes = _mem();
        printf("{\n  \"duration_us\": %-lld,\n  \"memory_bytes\": %-lld,\n  \"name\": \"main\"\n}\n", __dur_us, __mem_bytes);
    }
    return 0;
}
