// Generated by Mochi 0.10.32 on 2025-08-23 13:39 +0700
#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include <unistd.h>
#include <malloc.h>
#include <math.h>

size_t polar_force_len;

size_t append_len;
static char* str_int(long long v) {
    char buf[32];
    snprintf(buf, sizeof(buf), "%lld", v);
    return strdup(buf);
}

#include <time.h>
static int seeded_now = 0;
static long long now_seed = 0;
static long long _now(void) {
    if (!seeded_now) {
        const char *s = getenv("MOCHI_NOW_SEED");
        if (s && *s) {
            now_seed = atoll(s);
            seeded_now = 1;
        }
    }
    if (seeded_now) {
        now_seed = (now_seed * 1664525 + 1013904223) % 2147483647;
        return now_seed;
    }
    struct timespec ts;
    clock_gettime(CLOCK_REALTIME, &ts);
    return (long long)(ts.tv_sec * 1000000000LL + ts.tv_nsec);
}

static long long _mem(void) {
    long long size = 0, rss = 0;
    FILE *f = fopen("/proc/self/statm", "r");
    if (f) {
        if (fscanf(f, "%lld %lld", &size, &rss) != 2) rss = 0;
        fclose(f);
    }
    return rss * (long long)sysconf(_SC_PAGESIZE);
}

static void panic(const char *msg) {
    fputs(msg, stderr);
    fputc('\n', stderr);
    exit(1);
}

double PI = 3.141592653589793;
double TWO_PI = 6.283185307179586;
double forces1_0[2] = {1.0, 1.0};
double forces1_1[2] = {-1.0, 2.0};
double *forces1_init[2] = {forces1_0, forces1_1};
double **forces1 = forces1_init;
size_t forces1_len = 2;
size_t forces1_lens_init[2] = {2, 2};
size_t *forces1_lens = forces1_lens_init;
size_t forces1_lens_len = 2;
double location1_0[2] = {1.0, 0.0};
double location1_1[2] = {10.0, 0.0};
double *location1_init[2] = {location1_0, location1_1};
double **location1 = location1_init;
size_t location1_len = 2;
size_t location1_lens_init[2] = {2, 2};
size_t *location1_lens = location1_lens_init;
size_t location1_lens_len = 2;
double **forces2 = NULL;
size_t forces2_len = 0;
size_t *forces2_lens = NULL;
size_t forces2_lens_len = 0;
double location2_0[2] = {0.0, 0.0};
double location2_1[2] = {0.0, 0.0};
double location2_2[2] = {0.0, 0.0};
double *location2_init[3] = {location2_0, location2_1, location2_2};
double **location2 = location2_init;
size_t location2_len = 3;
size_t location2_lens_init[3] = {2, 2, 2};
size_t *location2_lens = location2_lens_init;
size_t location2_lens_len = 3;
double **forces3 = NULL;
size_t forces3_len = 0;
size_t *forces3_lens = NULL;
size_t forces3_lens_len = 0;
double location3_0[2] = {0.0, 0.0};
double location3_1[2] = {0.0, 0.0};
double location3_2[2] = {0.0, 0.0};
double *location3_init[3] = {location3_0, location3_1, location3_2};
double **location3 = location3_init;
size_t location3_len = 3;
size_t location3_lens_init[3] = {2, 2, 2};
size_t *location3_lens = location3_lens_init;
size_t location3_lens_len = 3;
double forces4_0[2] = {0.0, -2000.0};
double forces4_1[2] = {0.0, -1200.0};
double forces4_2[2] = {0.0, 15600.0};
double forces4_3[2] = {0.0, -12400.0};
double *forces4_init[4] = {forces4_0, forces4_1, forces4_2, forces4_3};
double **forces4 = forces4_init;
size_t forces4_len = 4;
size_t forces4_lens_init[4] = {2, 2, 2, 2};
size_t *forces4_lens = forces4_lens_init;
size_t forces4_lens_len = 4;
double location4_0[2] = {0.0, 0.0};
double location4_1[2] = {6.0, 0.0};
double location4_2[2] = {10.0, 0.0};
double location4_3[2] = {12.0, 0.0};
double *location4_init[4] = {location4_0, location4_1, location4_2, location4_3};
double **location4 = location4_init;
size_t location4_len = 4;
size_t location4_lens_init[4] = {2, 2, 2, 2};
size_t *location4_lens = location4_lens_init;
size_t location4_lens_len = 4;

double _mod(double x, double m);
double sin_approx(double x);
double cos_approx(double x);
double * polar_force(double magnitude, double angle, long long radian_mode);
double abs_float(double x);
long long in_static_equilibrium(double * * forces, size_t forces_len, size_t* forces_lens, size_t forces_lens_len, double * * location, size_t location_len, size_t* location_lens, size_t location_lens_len, double eps);
int main(void);

double _mod(double x, double m) {
    return x - ((double)((int)(x / m)) * m);
}

double sin_approx(double x) {
    double y = _mod(x + PI, TWO_PI) - PI;
    double y2_ = y * y;
    double y3_ = y2_ * y;
    double y5_ = y3_ * y2_;
    double y7_ = y5_ * y2_;
    return ((y - (y3_ / 6.0)) + (y5_ / 120.0)) - (y7_ / 5040.0);
}

double cos_approx(double x) {
    double y = _mod(x + PI, TWO_PI) - PI;
    double y2_ = y * y;
    double y4_ = y2_ * y2_;
    double y6_ = y4_ * y2_;
    return ((1.0 - (y2_ / 2.0)) + (y4_ / 24.0)) - (y6_ / 720.0);
}

double * polar_force(double magnitude, double angle, long long radian_mode) {
    double theta;
    if (radian_mode) {
        theta = angle;
    } else {
        theta = (angle * PI) / 180.0;
    }
    {
        double* __tmp0_data = malloc(2 * sizeof(double));
        __tmp0_data[0] = magnitude * cos_approx(theta);
        __tmp0_data[1] = magnitude * sin_approx(theta);
        polar_force_len = 2;
        return __tmp0_data;
    }
}

double abs_float(double x) {
    if (x < 0.0) {
        return -(x);
    } else {
        return x;
    }
}

long long in_static_equilibrium(double * * forces, size_t forces_len, size_t* forces_lens, size_t forces_lens_len, double * * location, size_t location_len, size_t* location_lens, size_t location_lens_len, double eps) {
    double sum_moments = 0.0;
    long long i = 0LL;
    long long n = forces_len;
    while (i < n) {
        double *r = location[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? location_len + _mochi_idx : _mochi_idx;})];
        size_t r_len = location_lens[(int)(i)];
        double *f = forces[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? forces_len + _mochi_idx : _mochi_idx;})];
        size_t f_len = forces_lens[(int)(i)];
        double moment = (r[(int)({long long _mochi_idx = 0LL; _mochi_idx < 0 ? r_len + _mochi_idx : _mochi_idx;})] * f[(int)({long long _mochi_idx = 1LL; _mochi_idx < 0 ? f_len + _mochi_idx : _mochi_idx;})]) - (r[(int)({long long _mochi_idx = 1LL; _mochi_idx < 0 ? r_len + _mochi_idx : _mochi_idx;})] * f[(int)({long long _mochi_idx = 0LL; _mochi_idx < 0 ? f_len + _mochi_idx : _mochi_idx;})]);
        sum_moments = sum_moments + moment;
        i = i + 1LL;
    }
    return abs_float(sum_moments) < eps;
}

int main(void) {
    {
        long long __start = _now();
        puts(str_int(in_static_equilibrium(forces1, forces1_len, forces1_lens, forces1_len, location1, location1_len, location1_lens, location1_len, 0.1)));
        forces2 = ({double** tmp = malloc(3 * sizeof(double*)); tmp[0] = polar_force(718.4, 150.0, 0LL); tmp[1] = polar_force(879.54, 45.0, 0LL); tmp[2] = polar_force(100.0, -90.0, 0LL); tmp;});
        forces2_len = 3;
        forces2_lens = ({size_t *tmp = malloc(3 * sizeof(size_t)); tmp[0] = polar_force_len; tmp[1] = polar_force_len; tmp[2] = polar_force_len; tmp;});
        forces2_lens_len = 3;
        puts(str_int(in_static_equilibrium(forces2, forces2_len, forces2_lens, forces2_len, location2, location2_len, location2_lens, location2_len, 0.1)));
        forces3 = ({double** tmp = malloc(3 * sizeof(double*)); tmp[0] = polar_force(30.0 * 9.81, 15.0, 0LL); tmp[1] = polar_force(215.0, 135.0, 0LL); tmp[2] = polar_force(264.0, 60.0, 0LL); tmp;});
        forces3_len = 3;
        forces3_lens = ({size_t *tmp = malloc(3 * sizeof(size_t)); tmp[0] = polar_force_len; tmp[1] = polar_force_len; tmp[2] = polar_force_len; tmp;});
        forces3_lens_len = 3;
        puts(str_int(in_static_equilibrium(forces3, forces3_len, forces3_lens, forces3_len, location3, location3_len, location3_lens, location3_len, 0.1)));
        puts(str_int(in_static_equilibrium(forces4, forces4_len, forces4_lens, forces4_len, location4, location4_len, location4_lens, location4_len, 0.1)));
        long long __end = _now();
        long long __dur_us = (__end - __start) / 1000;
        long long __mem_bytes = _mem();
        printf("{\n  \"duration_us\": %-lld,\n  \"memory_bytes\": %-lld,\n  \"name\": \"main\"\n}\n", __dur_us, __mem_bytes);
    }
    return 0;
}
