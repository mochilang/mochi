// Generated by Mochi 0.10.32 on 2025-08-11 21:16 +0700
#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include <unistd.h>
#include <malloc.h>
#include <math.h>


static char* str_float(double v) {
    char buf[64];
    snprintf(buf, sizeof(buf), "%g", v);
    return strdup(buf);
}

static long long* list_append_int(long long *arr, size_t *len, long long val) {
    arr = realloc(arr, (*len + 1) * sizeof(long long));
    arr[*len] = val;
    (*len)++;
    return arr;
}

#include <time.h>
#include <stdlib.h>
static int seeded_now = 0;
static long long now_seed = 0;
static long long _now(void) {
    if (!seeded_now) {
        const char *s = getenv("MOCHI_NOW_SEED");
        if (s && *s) {
            now_seed = atoll(s);
            seeded_now = 1;
        }
    }
    if (seeded_now) {
        now_seed = (now_seed * 1664525 + 1013904223) % 2147483647;
        return now_seed;
    }
    struct timespec ts;
    clock_gettime(CLOCK_REALTIME, &ts);
    return (long long)(ts.tv_sec * 1000000000LL + ts.tv_nsec);
}

static long long _mem(void) {
    long long size = 0, rss = 0;
    FILE *f = fopen("/proc/self/statm", "r");
    if (f) {
        if (fscanf(f, "%lld %lld", &size, &rss) != 2) rss = 0;
        fclose(f);
    }
    return rss * (long long)sysconf(_SC_PAGESIZE);
}

static void panic(const char *msg) {
    fputs(msg, stderr);
    fputc('\n', stderr);
    exit(1);
}

double absf(double x);
double sqrtApprox(double x);
double ln_series(double x);
double ln(double x);
double mae(double * predict, size_t predict_len, double * actual, size_t actual_len);
double mse(double * predict, size_t predict_len, double * actual, size_t actual_len);
double rmse(double * predict, size_t predict_len, double * actual, size_t actual_len);
double rmsle(double * predict, size_t predict_len, double * actual, size_t actual_len);
double mbd(double * predict, size_t predict_len, double * actual, size_t actual_len);
double manual_accuracy(double * predict, size_t predict_len, double * actual, size_t actual_len);
void user_main();
int main(void);

double absf(double x) {
    if (x < 0.0) {
        return 0.0 - x;
    }
    return x;
}

double sqrtApprox(double x) {
    if (x <= 0.0) {
        return 0.0;
    }
    double guess = x;
    long long i = 0LL;
    while (i < 20LL) {
        guess = (guess + (x / guess)) / 2.0;
        i = i + 1LL;
    }
    return guess;
}

double ln_series(double x) {
    double t = (x - 1.0) / (x + 1.0);
    double term = t;
    double sum = 0.0;
    long long n = 1LL;
    while (n <= 19LL) {
        sum = sum + (term / (double)(n));
        term = (term * t) * t;
        n = n + 2LL;
    }
    return 2.0 * sum;
}

double ln(double x) {
    double y = x;
    long long k = 0LL;
    while (y >= 10.0) {
        y = y / 10.0;
        k = k + 1LL;
    }
    while (y < 1.0) {
        y = y * 10.0;
        k = k - 1LL;
    }
    return ln_series(y) + ((double)(k) * ln_series(10.0));
}

double mae(double * predict, size_t predict_len, double * actual, size_t actual_len) {
    double sum = 0.0;
    long long i = 0LL;
    while (i < predict_len) {
        double diff = predict[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? predict_len + _mochi_idx : _mochi_idx;})] - actual[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? actual_len + _mochi_idx : _mochi_idx;})];
        sum = sum + absf(diff);
        i = i + 1LL;
    }
    return sum / (double)(predict_len);
}

double mse(double * predict, size_t predict_len, double * actual, size_t actual_len) {
    double sum = 0.0;
    long long i = 0LL;
    while (i < predict_len) {
        double diff = predict[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? predict_len + _mochi_idx : _mochi_idx;})] - actual[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? actual_len + _mochi_idx : _mochi_idx;})];
        sum = sum + (diff * diff);
        i = i + 1LL;
    }
    return sum / (double)(predict_len);
}

double rmse(double * predict, size_t predict_len, double * actual, size_t actual_len) {
    return sqrtApprox(mse(predict, predict_len, actual, actual_len));
}

double rmsle(double * predict, size_t predict_len, double * actual, size_t actual_len) {
    double sum = 0.0;
    long long i = 0LL;
    while (i < predict_len) {
        double lp = ln(predict[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? predict_len + _mochi_idx : _mochi_idx;})] + 1.0);
        double la = ln(actual[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? actual_len + _mochi_idx : _mochi_idx;})] + 1.0);
        double diff = lp - la;
        sum = sum + (diff * diff);
        i = i + 1LL;
    }
    return sqrtApprox(sum / (double)(predict_len));
}

double mbd(double * predict, size_t predict_len, double * actual, size_t actual_len) {
    double diff_sum = 0.0;
    double actual_sum = 0.0;
    long long i = 0LL;
    while (i < predict_len) {
        diff_sum = diff_sum + (predict[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? predict_len + _mochi_idx : _mochi_idx;})] - actual[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? actual_len + _mochi_idx : _mochi_idx;})]);
        actual_sum = actual_sum + actual[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? actual_len + _mochi_idx : _mochi_idx;})];
        i = i + 1LL;
    }
    double n = (double)(predict_len);
    double numerator = diff_sum / n;
    double denominator = actual_sum / n;
    return (numerator / denominator) * 100.0;
}

double manual_accuracy(double * predict, size_t predict_len, double * actual, size_t actual_len) {
    long long correct = 0LL;
    long long i = 0LL;
    while (i < predict_len) {
        if (predict[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? predict_len + _mochi_idx : _mochi_idx;})] == actual[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? actual_len + _mochi_idx : _mochi_idx;})]) {
            correct = correct + 1LL;
        }
        i = i + 1LL;
    }
    return (double)(correct) / (double)(predict_len);
}

void user_main() {
    int *actual = NULL;
    size_t actual_len = 0;
    actual = list_append_int(actual, &actual_len, 1.0);
    actual = list_append_int(actual, &actual_len, 2.0);
    actual = list_append_int(actual, &actual_len, 3.0);
    int *predict = NULL;
    size_t predict_len = 0;
    predict = list_append_int(predict, &predict_len, 1.0);
    predict = list_append_int(predict, &predict_len, 4.0);
    predict = list_append_int(predict, &predict_len, 3.0);
    puts(str_float(mae(predict, predict_len, actual, actual_len)));
    puts(str_float(mse(predict, predict_len, actual, actual_len)));
    puts(str_float(rmse(predict, predict_len, actual, actual_len)));
    puts(str_float(rmsle(({double *tmp = malloc(3 * sizeof(double)); tmp[0] = 10.0; tmp[1] = 2.0; tmp[2] = 30.0; tmp;}), 3, ({double *tmp = malloc(3 * sizeof(double)); tmp[0] = 10.0; tmp[1] = 10.0; tmp[2] = 30.0; tmp;}), 3)));
    puts(str_float(mbd(({double *tmp = malloc(3 * sizeof(double)); tmp[0] = 2.0; tmp[1] = 3.0; tmp[2] = 4.0; tmp;}), 3, ({long long *tmp = malloc(3 * sizeof(long long)); tmp[0] = 1.0; tmp[1] = 2.0; tmp[2] = 3.0; tmp;}), 3)));
    puts(str_float(mbd(({long long *tmp = malloc(3 * sizeof(long long)); tmp[0] = 0.0; tmp[1] = 1.0; tmp[2] = 1.0; tmp;}), 3, ({long long *tmp = malloc(3 * sizeof(long long)); tmp[0] = 1.0; tmp[1] = 2.0; tmp[2] = 3.0; tmp;}), 3)));
    puts(str_float(manual_accuracy(predict, predict_len, actual, actual_len)));
}

int main(void) {
    {
        long long __start = _now();
        user_main();
        long long __end = _now();
        long long __dur_us = (__end - __start) / 1000;
        long long __mem_bytes = _mem();
        printf("{\n  \"duration_us\": %-lld,\n  \"memory_bytes\": %-lld,\n  \"name\": \"main\"\n}\n", __dur_us, __mem_bytes);
    }
    return 0;
}
