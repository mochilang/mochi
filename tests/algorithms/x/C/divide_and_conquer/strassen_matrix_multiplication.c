// Generated by Mochi 0.10.32 on 2025-08-25 17:21 +0700
#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include <unistd.h>
#include <malloc.h>

size_t default_matrix_multiplication_len;
size_t *default_matrix_multiplication_lens;
size_t matrix_addition_len;
size_t *matrix_addition_lens;
size_t matrix_subtraction_len;
size_t *matrix_subtraction_lens;
size_t split_matrix_len;
size_t *split_matrix_lens;
size_t **split_matrix_lens_lens;
size_t matrix_dimensions_len;
size_t pad_matrix_len;
size_t *pad_matrix_lens;
size_t actual_strassen_len;
size_t *actual_strassen_lens;
size_t strassen_len;
size_t *strassen_lens;

size_t append_len;
static char* str_list_int(const long long *arr, size_t len) {
    size_t cap = len * 32 + 2;
    char *buf = malloc(cap);
    size_t pos = 0;
    buf[pos++] = '[';
    for (size_t i = 0; i < len; i++) {
        char tmp[32];
        snprintf(tmp, sizeof(tmp), "%lld", arr[i]);
        size_t n = strlen(tmp);
        if (pos + n + 2 >= cap) { cap = cap * 2 + n + 2; buf = realloc(buf, cap); }
        memcpy(buf + pos, tmp, n);
        pos += n;
        if (i + 1 < len) buf[pos++] = ' ';
    }
    buf[pos++] = ']';
    buf[pos] = 0;
    return buf;
}

static char* str_list_list_int(long long **arr, size_t len, const size_t lens[]) {
    size_t cap = 2;
    for (size_t i = 0; i < len; i++) cap += lens[i] * 32 + 3;
    char *buf = malloc(cap);
    size_t pos = 0;
    buf[pos++] = '[';
    for (size_t i = 0; i < len; i++) {
        char *inner = str_list_int(arr[i], lens[i]);
        size_t n = strlen(inner);
        if (pos + n + 2 >= cap) { cap = cap * 2 + n + 2; buf = realloc(buf, cap); }
        memcpy(buf + pos, inner, n);
        pos += n;
        free(inner);
        if (i + 1 < len) buf[pos++] = ' ';
    }
    buf[pos++] = ']';
    buf[pos] = 0;
    return buf;
}

static long long** list_append_intptr(long long **arr, size_t *len, long long *val) {
    arr = realloc(arr, (*len + 1) * sizeof(long long*));
    arr[*len] = val;
    (*len)++;
    return arr;
}

static size_t* list_append_szt(size_t *arr, size_t *len, size_t val) {
    arr = realloc(arr, (*len + 1) * sizeof(size_t));
    arr[*len] = val;
    (*len)++;
    return arr;
}

static size_t concat_len;
static long long* concat_long_long(long long *a, size_t a_len, const long long *b, size_t b_len) {
    long long *res = realloc(a, (a_len + b_len) * sizeof(long long));
    if (b_len > 0) memcpy(res + a_len, b, b_len * sizeof(long long));
    concat_len = a_len + b_len;
    return res;
}

#include <time.h>
static int seeded_now = 0;
static long long now_seed = 0;
static long long _now(void) {
    if (!seeded_now) {
        const char *s = getenv("MOCHI_NOW_SEED");
        if (s && *s) {
            now_seed = atoll(s);
            seeded_now = 1;
        }
    }
    if (seeded_now) {
        now_seed = (now_seed * 1664525 + 1013904223) % 2147483647;
        return now_seed;
    }
    struct timespec ts;
    clock_gettime(CLOCK_REALTIME, &ts);
    return (long long)(ts.tv_sec * 1000000000LL + ts.tv_nsec);
}

static long long _mem(void) {
    long long size = 0, rss = 0;
    FILE *f = fopen("/proc/self/statm", "r");
    if (f) {
        if (fscanf(f, "%lld %lld", &size, &rss) != 2) rss = 0;
        fclose(f);
    }
    return rss * (long long)sysconf(_SC_PAGESIZE);
}

static void panic(const char *msg) {
    fputs(msg, stderr);
    fputc('\n', stderr);
    exit(1);
}

static long long* list_append_long_long(long long *arr, size_t *len, long long val) {
    arr = realloc(arr, (*len + 1) * sizeof(long long));
    arr[*len] = val;
    (*len)++;
    return arr;
}

long long * * default_matrix_multiplication(long long * * a, size_t a_len, size_t* a_lens, size_t a_lens_len, long long * * b, size_t b_len, size_t* b_lens, size_t b_lens_len);
long long * * matrix_addition(long long * * matrix_a, size_t matrix_a_len, size_t* matrix_a_lens, size_t matrix_a_lens_len, long long * * matrix_b, size_t matrix_b_len, size_t* matrix_b_lens, size_t matrix_b_lens_len);
long long * * matrix_subtraction(long long * * matrix_a, size_t matrix_a_len, size_t* matrix_a_lens, size_t matrix_a_lens_len, long long * * matrix_b, size_t matrix_b_len, size_t* matrix_b_lens, size_t matrix_b_lens_len);
long long * * * split_matrix(long long * * a, size_t a_len, size_t* a_lens, size_t a_lens_len);
long long * matrix_dimensions(long long * * matrix, size_t matrix_len, size_t* matrix_lens, size_t matrix_lens_len);
long long next_power_of_two(long long n);
long long * * pad_matrix(long long * * mat, size_t mat_len, size_t* mat_lens, size_t mat_lens_len, long long rows, long long cols);
long long * * actual_strassen(long long * * matrix_a, size_t matrix_a_len, size_t* matrix_a_lens, size_t matrix_a_lens_len, long long * * matrix_b, size_t matrix_b_len, size_t* matrix_b_lens, size_t matrix_b_lens_len);
long long * * strassen(long long * * matrix1, size_t matrix1_len, size_t* matrix1_lens, size_t matrix1_lens_len, long long * * matrix2, size_t matrix2_len, size_t* matrix2_lens, size_t matrix2_lens_len);
void user_main();
int main(void);

long long * * default_matrix_multiplication(long long * * a, size_t a_len, size_t* a_lens, size_t a_lens_len, long long * * b, size_t b_len, size_t* b_lens, size_t b_lens_len) {
    {
        size_t *__tmp14_lens = malloc(2 * sizeof(size_t));
        __tmp14_lens[0] = 2;
        __tmp14_lens[1] = 2;
        long long** __tmp14_data = malloc(2 * sizeof(long long*));
        __tmp14_data[0] = ({int *tmp = malloc(2 * sizeof(int)); tmp[0] = (a[(int)({long long _mochi_idx = 0LL; _mochi_idx < 0 ? a_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = 0LL; _mochi_idx < 0 ? a_lens[(int)(0LL)] + _mochi_idx : _mochi_idx;})] * b[(int)({long long _mochi_idx = 0LL; _mochi_idx < 0 ? b_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = 0LL; _mochi_idx < 0 ? b_lens[(int)(0LL)] + _mochi_idx : _mochi_idx;})]) + (a[(int)({long long _mochi_idx = 0LL; _mochi_idx < 0 ? a_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = 1LL; _mochi_idx < 0 ? a_lens[(int)(0LL)] + _mochi_idx : _mochi_idx;})] * b[(int)({long long _mochi_idx = 1LL; _mochi_idx < 0 ? b_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = 0LL; _mochi_idx < 0 ? b_lens[(int)(1LL)] + _mochi_idx : _mochi_idx;})]); tmp[1] = (a[(int)({long long _mochi_idx = 0LL; _mochi_idx < 0 ? a_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = 0LL; _mochi_idx < 0 ? a_lens[(int)(0LL)] + _mochi_idx : _mochi_idx;})] * b[(int)({long long _mochi_idx = 0LL; _mochi_idx < 0 ? b_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = 1LL; _mochi_idx < 0 ? b_lens[(int)(0LL)] + _mochi_idx : _mochi_idx;})]) + (a[(int)({long long _mochi_idx = 0LL; _mochi_idx < 0 ? a_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = 1LL; _mochi_idx < 0 ? a_lens[(int)(0LL)] + _mochi_idx : _mochi_idx;})] * b[(int)({long long _mochi_idx = 1LL; _mochi_idx < 0 ? b_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = 1LL; _mochi_idx < 0 ? b_lens[(int)(1LL)] + _mochi_idx : _mochi_idx;})]); tmp;});
        __tmp14_data[1] = ({int *tmp = malloc(2 * sizeof(int)); tmp[0] = (a[(int)({long long _mochi_idx = 1LL; _mochi_idx < 0 ? a_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = 0LL; _mochi_idx < 0 ? a_lens[(int)(1LL)] + _mochi_idx : _mochi_idx;})] * b[(int)({long long _mochi_idx = 0LL; _mochi_idx < 0 ? b_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = 0LL; _mochi_idx < 0 ? b_lens[(int)(0LL)] + _mochi_idx : _mochi_idx;})]) + (a[(int)({long long _mochi_idx = 1LL; _mochi_idx < 0 ? a_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = 1LL; _mochi_idx < 0 ? a_lens[(int)(1LL)] + _mochi_idx : _mochi_idx;})] * b[(int)({long long _mochi_idx = 1LL; _mochi_idx < 0 ? b_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = 0LL; _mochi_idx < 0 ? b_lens[(int)(1LL)] + _mochi_idx : _mochi_idx;})]); tmp[1] = (a[(int)({long long _mochi_idx = 1LL; _mochi_idx < 0 ? a_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = 0LL; _mochi_idx < 0 ? a_lens[(int)(1LL)] + _mochi_idx : _mochi_idx;})] * b[(int)({long long _mochi_idx = 0LL; _mochi_idx < 0 ? b_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = 1LL; _mochi_idx < 0 ? b_lens[(int)(0LL)] + _mochi_idx : _mochi_idx;})]) + (a[(int)({long long _mochi_idx = 1LL; _mochi_idx < 0 ? a_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = 1LL; _mochi_idx < 0 ? a_lens[(int)(1LL)] + _mochi_idx : _mochi_idx;})] * b[(int)({long long _mochi_idx = 1LL; _mochi_idx < 0 ? b_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = 1LL; _mochi_idx < 0 ? b_lens[(int)(1LL)] + _mochi_idx : _mochi_idx;})]); tmp;});
        default_matrix_multiplication_lens = __tmp14_lens;
        default_matrix_multiplication_len = 2;
        return __tmp14_data;
    }
}

long long * * matrix_addition(long long * * matrix_a, size_t matrix_a_len, size_t* matrix_a_lens, size_t matrix_a_lens_len, long long * * matrix_b, size_t matrix_b_len, size_t* matrix_b_lens, size_t matrix_b_lens_len) {
    long long **result = NULL;
    size_t result_len = 0;
    size_t *result_lens = NULL;
    size_t result_lens_len = 0;
    long long i = 0LL;
    while (i < matrix_a_len) {
        long long *row = NULL;
        size_t row_len = 0;
        long long j = 0LL;
        while (j < matrix_a_lens[(int)(i)]) {
            row = list_append_long_long(row, &row_len, matrix_a[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? matrix_a_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = j; _mochi_idx < 0 ? matrix_a_lens[(int)(i)] + _mochi_idx : _mochi_idx;})] + matrix_b[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? matrix_b_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = j; _mochi_idx < 0 ? matrix_b_lens[(int)(i)] + _mochi_idx : _mochi_idx;})]);
            j = j + 1LL;
        }
        result = list_append_intptr(result, &result_len, row);
        result_lens = list_append_szt(result_lens, &result_lens_len, row_len);
        i = i + 1LL;
    }
    return matrix_addition_lens = result_lens, matrix_addition_len = result_len, result;
}

long long * * matrix_subtraction(long long * * matrix_a, size_t matrix_a_len, size_t* matrix_a_lens, size_t matrix_a_lens_len, long long * * matrix_b, size_t matrix_b_len, size_t* matrix_b_lens, size_t matrix_b_lens_len) {
    long long **result = NULL;
    size_t result_len = 0;
    size_t *result_lens = NULL;
    size_t result_lens_len = 0;
    long long i = 0LL;
    while (i < matrix_a_len) {
        long long *row = NULL;
        size_t row_len = 0;
        long long j = 0LL;
        while (j < matrix_a_lens[(int)(i)]) {
            row = list_append_long_long(row, &row_len, matrix_a[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? matrix_a_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = j; _mochi_idx < 0 ? matrix_a_lens[(int)(i)] + _mochi_idx : _mochi_idx;})] - matrix_b[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? matrix_b_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = j; _mochi_idx < 0 ? matrix_b_lens[(int)(i)] + _mochi_idx : _mochi_idx;})]);
            j = j + 1LL;
        }
        result = list_append_intptr(result, &result_len, row);
        result_lens = list_append_szt(result_lens, &result_lens_len, row_len);
        i = i + 1LL;
    }
    return matrix_subtraction_lens = result_lens, matrix_subtraction_len = result_len, result;
}

long long * * * split_matrix(long long * * a, size_t a_len, size_t* a_lens, size_t a_lens_len) {
    long long n = a_len;
    long long mid = n / 2LL;
    long long **top_left = NULL;
    size_t top_left_len = 0;
    size_t *top_left_lens = NULL;
    size_t top_left_lens_len = 0;
    long long **top_right = NULL;
    size_t top_right_len = 0;
    size_t *top_right_lens = NULL;
    size_t top_right_lens_len = 0;
    long long **bot_left = NULL;
    size_t bot_left_len = 0;
    size_t *bot_left_lens = NULL;
    size_t bot_left_lens_len = 0;
    long long **bot_right = NULL;
    size_t bot_right_len = 0;
    size_t *bot_right_lens = NULL;
    size_t bot_right_lens_len = 0;
    long long i = 0LL;
    while (i < mid) {
        long long *left_row = NULL;
        size_t left_row_len = 0;
        long long *right_row = NULL;
        size_t right_row_len = 0;
        long long j = 0LL;
        while (j < mid) {
            left_row = list_append_long_long(left_row, &left_row_len, a[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? a_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = j; _mochi_idx < 0 ? a_lens[(int)(i)] + _mochi_idx : _mochi_idx;})]);
            right_row = list_append_long_long(right_row, &right_row_len, a[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? a_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = j + mid; _mochi_idx < 0 ? a_lens[(int)(i)] + _mochi_idx : _mochi_idx;})]);
            j = j + 1LL;
        }
        top_left = list_append_intptr(top_left, &top_left_len, left_row);
        top_left_lens = list_append_szt(top_left_lens, &top_left_lens_len, left_row_len);
        top_right = list_append_intptr(top_right, &top_right_len, right_row);
        top_right_lens = list_append_szt(top_right_lens, &top_right_lens_len, right_row_len);
        i = i + 1LL;
    }
    i = mid;
    while (i < n) {
        long long *left_row = NULL;
        size_t left_row_len = 0;
        long long *right_row = NULL;
        size_t right_row_len = 0;
        long long j = 0LL;
        while (j < mid) {
            left_row = list_append_long_long(left_row, &left_row_len, a[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? a_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = j; _mochi_idx < 0 ? a_lens[(int)(i)] + _mochi_idx : _mochi_idx;})]);
            right_row = list_append_long_long(right_row, &right_row_len, a[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? a_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = j + mid; _mochi_idx < 0 ? a_lens[(int)(i)] + _mochi_idx : _mochi_idx;})]);
            j = j + 1LL;
        }
        bot_left = list_append_intptr(bot_left, &bot_left_len, left_row);
        bot_left_lens = list_append_szt(bot_left_lens, &bot_left_lens_len, left_row_len);
        bot_right = list_append_intptr(bot_right, &bot_right_len, right_row);
        bot_right_lens = list_append_szt(bot_right_lens, &bot_right_lens_len, right_row_len);
        i = i + 1LL;
    }
    {
        size_t *__tmp15_lens = malloc(4 * sizeof(size_t));
        size_t **__tmp15_lens_lens = malloc(4 * sizeof(size_t*));
        __tmp15_lens[0] = top_left_len;
        __tmp15_lens_lens[0] = top_left_lens;
        __tmp15_lens[1] = top_right_len;
        __tmp15_lens_lens[1] = top_right_lens;
        __tmp15_lens[2] = bot_left_len;
        __tmp15_lens_lens[2] = bot_left_lens;
        __tmp15_lens[3] = bot_right_len;
        __tmp15_lens_lens[3] = bot_right_lens;
        long long*** __tmp15_data = malloc(4 * sizeof(long long**));
        __tmp15_data[0] = top_left;
        __tmp15_data[1] = top_right;
        __tmp15_data[2] = bot_left;
        __tmp15_data[3] = bot_right;
        split_matrix_lens_lens = __tmp15_lens_lens;
        split_matrix_lens = __tmp15_lens;
        split_matrix_len = 4;
        return __tmp15_data;
    }
}

long long * matrix_dimensions(long long * * matrix, size_t matrix_len, size_t* matrix_lens, size_t matrix_lens_len) {
    {
        long long* __tmp16_data = malloc(2 * sizeof(long long));
        __tmp16_data[0] = matrix_len;
        __tmp16_data[1] = matrix_lens[(int)(0LL)];
        matrix_dimensions_len = 2;
        return __tmp16_data;
    }
}

long long next_power_of_two(long long n) {
    long long p = 1LL;
    while (p < n) {
        p = p * 2LL;
    }
    return p;
}

long long * * pad_matrix(long long * * mat, size_t mat_len, size_t* mat_lens, size_t mat_lens_len, long long rows, long long cols) {
    long long **res = NULL;
    size_t res_len = 0;
    size_t *res_lens = NULL;
    size_t res_lens_len = 0;
    long long i = 0LL;
    while (i < rows) {
        long long *row = NULL;
        size_t row_len = 0;
        long long j = 0LL;
        while (j < cols) {
            long long v = 0LL;
            if ((i < mat_len) && (j < mat_lens[(int)(0LL)])) {
                v = mat[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? mat_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = j; _mochi_idx < 0 ? mat_lens[(int)(i)] + _mochi_idx : _mochi_idx;})];
            }
            row = list_append_long_long(row, &row_len, v);
            j = j + 1LL;
        }
        res = list_append_intptr(res, &res_len, row);
        res_lens = list_append_szt(res_lens, &res_lens_len, row_len);
        i = i + 1LL;
    }
    return pad_matrix_lens = res_lens, pad_matrix_len = res_len, res;
}

long long * * actual_strassen(long long * * matrix_a, size_t matrix_a_len, size_t* matrix_a_lens, size_t matrix_a_lens_len, long long * * matrix_b, size_t matrix_b_len, size_t* matrix_b_lens, size_t matrix_b_lens_len) {
    if (matrix_dimensions(matrix_a, matrix_a_len, matrix_a_lens, matrix_a_len)[(int)({long long _mochi_idx = 0LL; _mochi_idx < 0 ? matrix_dimensions_len + _mochi_idx : _mochi_idx;})] == 2LL) {
        {
            long long** __ret17 = default_matrix_multiplication(matrix_a, matrix_a_len, matrix_a_lens, matrix_a_len, matrix_b, matrix_b_len, matrix_b_lens, matrix_b_len);
            actual_strassen_lens = default_matrix_multiplication_lens;
actual_strassen_len = default_matrix_multiplication_len;
            return __ret17;
        }
    }
    long long ***parts_a = split_matrix(matrix_a, matrix_a_len, matrix_a_lens, matrix_a_len);
    size_t parts_a_len = split_matrix_len;
    size_t *parts_a_lens = split_matrix_lens;
    size_t parts_a_lens_len = split_matrix_len;
    size_t **parts_a_lens_lens = split_matrix_lens_lens;
    size_t parts_a_lens_lens_len = split_matrix_len;
    long long **a = parts_a[(int)({long long _mochi_idx = 0LL; _mochi_idx < 0 ? parts_a_len + _mochi_idx : _mochi_idx;})];
    size_t a_len = parts_a_lens[(int)(0LL)];
    size_t *a_lens = parts_a_lens_lens[(int)(0LL)];
    size_t a_lens_len = a_len;
    long long **b = parts_a[(int)({long long _mochi_idx = 1LL; _mochi_idx < 0 ? parts_a_len + _mochi_idx : _mochi_idx;})];
    size_t b_len = parts_a_lens[(int)(1LL)];
    size_t *b_lens = parts_a_lens_lens[(int)(1LL)];
    size_t b_lens_len = b_len;
    long long **c = parts_a[(int)({long long _mochi_idx = 2LL; _mochi_idx < 0 ? parts_a_len + _mochi_idx : _mochi_idx;})];
    size_t c_len = parts_a_lens[(int)(2LL)];
    size_t *c_lens = parts_a_lens_lens[(int)(2LL)];
    size_t c_lens_len = c_len;
    long long **d = parts_a[(int)({long long _mochi_idx = 3LL; _mochi_idx < 0 ? parts_a_len + _mochi_idx : _mochi_idx;})];
    size_t d_len = parts_a_lens[(int)(3LL)];
    size_t *d_lens = parts_a_lens_lens[(int)(3LL)];
    size_t d_lens_len = d_len;
    long long ***parts_b = split_matrix(matrix_b, matrix_b_len, matrix_b_lens, matrix_b_len);
    size_t parts_b_len = split_matrix_len;
    size_t *parts_b_lens = split_matrix_lens;
    size_t parts_b_lens_len = split_matrix_len;
    size_t **parts_b_lens_lens = split_matrix_lens_lens;
    size_t parts_b_lens_lens_len = split_matrix_len;
    long long **e = parts_b[(int)({long long _mochi_idx = 0LL; _mochi_idx < 0 ? parts_b_len + _mochi_idx : _mochi_idx;})];
    size_t e_len = parts_b_lens[(int)(0LL)];
    size_t *e_lens = parts_b_lens_lens[(int)(0LL)];
    size_t e_lens_len = e_len;
    long long **f = parts_b[(int)({long long _mochi_idx = 1LL; _mochi_idx < 0 ? parts_b_len + _mochi_idx : _mochi_idx;})];
    size_t f_len = parts_b_lens[(int)(1LL)];
    size_t *f_lens = parts_b_lens_lens[(int)(1LL)];
    size_t f_lens_len = f_len;
    long long **g = parts_b[(int)({long long _mochi_idx = 2LL; _mochi_idx < 0 ? parts_b_len + _mochi_idx : _mochi_idx;})];
    size_t g_len = parts_b_lens[(int)(2LL)];
    size_t *g_lens = parts_b_lens_lens[(int)(2LL)];
    size_t g_lens_len = g_len;
    long long **h = parts_b[(int)({long long _mochi_idx = 3LL; _mochi_idx < 0 ? parts_b_len + _mochi_idx : _mochi_idx;})];
    size_t h_len = parts_b_lens[(int)(3LL)];
    size_t *h_lens = parts_b_lens_lens[(int)(3LL)];
    size_t h_lens_len = h_len;
    long long **t1 = ({long long** __tmp18 = matrix_subtraction(f, f_len, f_lens, f_len, h, h_len, h_lens, h_len); size_t __tmp18_len = matrix_subtraction_len; size_t* __tmp18_lens = matrix_subtraction_lens; actual_strassen(a, a_len, a_lens, a_len, __tmp18, __tmp18_len, __tmp18_lens, __tmp18_len);});
    size_t t1_len = actual_strassen_len;
    size_t *t1_lens = actual_strassen_lens;
    size_t t1_lens_len = actual_strassen_len;
    long long **t2 = ({long long** __tmp19 = matrix_addition(a, a_len, a_lens, a_len, b, b_len, b_lens, b_len); size_t __tmp19_len = matrix_addition_len; size_t* __tmp19_lens = matrix_addition_lens; actual_strassen(__tmp19, __tmp19_len, __tmp19_lens, __tmp19_len, h, h_len, h_lens, h_len);});
    size_t t2_len = actual_strassen_len;
    size_t *t2_lens = actual_strassen_lens;
    size_t t2_lens_len = actual_strassen_len;
    long long **t3 = ({long long** __tmp20 = matrix_addition(c, c_len, c_lens, c_len, d, d_len, d_lens, d_len); size_t __tmp20_len = matrix_addition_len; size_t* __tmp20_lens = matrix_addition_lens; actual_strassen(__tmp20, __tmp20_len, __tmp20_lens, __tmp20_len, e, e_len, e_lens, e_len);});
    size_t t3_len = actual_strassen_len;
    size_t *t3_lens = actual_strassen_lens;
    size_t t3_lens_len = actual_strassen_len;
    long long **t4 = ({long long** __tmp21 = matrix_subtraction(g, g_len, g_lens, g_len, e, e_len, e_lens, e_len); size_t __tmp21_len = matrix_subtraction_len; size_t* __tmp21_lens = matrix_subtraction_lens; actual_strassen(d, d_len, d_lens, d_len, __tmp21, __tmp21_len, __tmp21_lens, __tmp21_len);});
    size_t t4_len = actual_strassen_len;
    size_t *t4_lens = actual_strassen_lens;
    size_t t4_lens_len = actual_strassen_len;
    long long **t5 = ({long long** __tmp22 = matrix_addition(a, a_len, a_lens, a_len, d, d_len, d_lens, d_len); size_t __tmp22_len = matrix_addition_len; size_t* __tmp22_lens = matrix_addition_lens; long long** __tmp23 = matrix_addition(e, e_len, e_lens, e_len, h, h_len, h_lens, h_len); size_t __tmp23_len = matrix_addition_len; size_t* __tmp23_lens = matrix_addition_lens; actual_strassen(__tmp22, __tmp22_len, __tmp22_lens, __tmp22_len, __tmp23, __tmp23_len, __tmp23_lens, __tmp23_len);});
    size_t t5_len = actual_strassen_len;
    size_t *t5_lens = actual_strassen_lens;
    size_t t5_lens_len = actual_strassen_len;
    long long **t6 = ({long long** __tmp24 = matrix_subtraction(b, b_len, b_lens, b_len, d, d_len, d_lens, d_len); size_t __tmp24_len = matrix_subtraction_len; size_t* __tmp24_lens = matrix_subtraction_lens; long long** __tmp25 = matrix_addition(g, g_len, g_lens, g_len, h, h_len, h_lens, h_len); size_t __tmp25_len = matrix_addition_len; size_t* __tmp25_lens = matrix_addition_lens; actual_strassen(__tmp24, __tmp24_len, __tmp24_lens, __tmp24_len, __tmp25, __tmp25_len, __tmp25_lens, __tmp25_len);});
    size_t t6_len = actual_strassen_len;
    size_t *t6_lens = actual_strassen_lens;
    size_t t6_lens_len = actual_strassen_len;
    long long **t7 = ({long long** __tmp26 = matrix_subtraction(a, a_len, a_lens, a_len, c, c_len, c_lens, c_len); size_t __tmp26_len = matrix_subtraction_len; size_t* __tmp26_lens = matrix_subtraction_lens; long long** __tmp27 = matrix_addition(e, e_len, e_lens, e_len, f, f_len, f_lens, f_len); size_t __tmp27_len = matrix_addition_len; size_t* __tmp27_lens = matrix_addition_lens; actual_strassen(__tmp26, __tmp26_len, __tmp26_lens, __tmp26_len, __tmp27, __tmp27_len, __tmp27_lens, __tmp27_len);});
    size_t t7_len = actual_strassen_len;
    size_t *t7_lens = actual_strassen_lens;
    size_t t7_lens_len = actual_strassen_len;
    long long **top_left = ({long long** __tmp28 = ({long long** __tmp29 = matrix_addition(t5, t5_len, t5_lens, t5_len, t4, t4_len, t4_lens, t4_len); size_t __tmp29_len = matrix_addition_len; size_t* __tmp29_lens = matrix_addition_lens; matrix_subtraction(__tmp29, __tmp29_len, __tmp29_lens, __tmp29_len, t2, t2_len, t2_lens, t2_len);}); size_t __tmp28_len = matrix_subtraction_len; size_t* __tmp28_lens = matrix_subtraction_lens; matrix_addition(__tmp28, __tmp28_len, __tmp28_lens, __tmp28_len, t6, t6_len, t6_lens, t6_len);});
    size_t top_left_len = matrix_addition_len;
    size_t *top_left_lens = matrix_addition_lens;
    size_t top_left_lens_len = matrix_addition_len;
    long long **top_right = matrix_addition(t1, t1_len, t1_lens, t1_len, t2, t2_len, t2_lens, t2_len);
    size_t top_right_len = matrix_addition_len;
    size_t *top_right_lens = matrix_addition_lens;
    size_t top_right_lens_len = matrix_addition_len;
    long long **bot_left = matrix_addition(t3, t3_len, t3_lens, t3_len, t4, t4_len, t4_lens, t4_len);
    size_t bot_left_len = matrix_addition_len;
    size_t *bot_left_lens = matrix_addition_lens;
    size_t bot_left_lens_len = matrix_addition_len;
    long long **bot_right = ({long long** __tmp30 = ({long long** __tmp31 = matrix_addition(t1, t1_len, t1_lens, t1_len, t5, t5_len, t5_lens, t5_len); size_t __tmp31_len = matrix_addition_len; size_t* __tmp31_lens = matrix_addition_lens; matrix_subtraction(__tmp31, __tmp31_len, __tmp31_lens, __tmp31_len, t3, t3_len, t3_lens, t3_len);}); size_t __tmp30_len = matrix_subtraction_len; size_t* __tmp30_lens = matrix_subtraction_lens; matrix_subtraction(__tmp30, __tmp30_len, __tmp30_lens, __tmp30_len, t7, t7_len, t7_lens, t7_len);});
    size_t bot_right_len = matrix_subtraction_len;
    size_t *bot_right_lens = matrix_subtraction_lens;
    size_t bot_right_lens_len = matrix_subtraction_len;
    long long **new_matrix = NULL;
    size_t new_matrix_len = 0;
    size_t *new_matrix_lens = NULL;
    size_t new_matrix_lens_len = 0;
    long long i = 0LL;
    while (i < top_right_len) {
        new_matrix = list_append_intptr(new_matrix, &new_matrix_len, concat_long_long(top_left[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? top_left_len + _mochi_idx : _mochi_idx;})], top_left_lens[(int)(i)], top_right[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? top_right_len + _mochi_idx : _mochi_idx;})], top_right_lens[(int)(i)]));
        new_matrix_lens = list_append_szt(new_matrix_lens, &new_matrix_lens_len, concat_len);
        i = i + 1LL;
    }
    i = 0LL;
    while (i < bot_right_len) {
        new_matrix = list_append_intptr(new_matrix, &new_matrix_len, concat_long_long(bot_left[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? bot_left_len + _mochi_idx : _mochi_idx;})], bot_left_lens[(int)(i)], bot_right[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? bot_right_len + _mochi_idx : _mochi_idx;})], bot_right_lens[(int)(i)]));
        new_matrix_lens = list_append_szt(new_matrix_lens, &new_matrix_lens_len, concat_len);
        i = i + 1LL;
    }
    return actual_strassen_lens = new_matrix_lens, actual_strassen_len = new_matrix_len, new_matrix;
}

long long * * strassen(long long * * matrix1, size_t matrix1_len, size_t* matrix1_lens, size_t matrix1_lens_len, long long * * matrix2, size_t matrix2_len, size_t* matrix2_lens, size_t matrix2_lens_len) {
    long long *dims1 = matrix_dimensions(matrix1, matrix1_len, matrix1_lens, matrix1_len);
    size_t dims1_len = matrix_dimensions_len;
    long long *dims2 = matrix_dimensions(matrix2, matrix2_len, matrix2_lens, matrix2_len);
    size_t dims2_len = matrix_dimensions_len;
    if (dims1[(int)({long long _mochi_idx = 1LL; _mochi_idx < 0 ? dims1_len + _mochi_idx : _mochi_idx;})] != dims2[(int)({long long _mochi_idx = 0LL; _mochi_idx < 0 ? dims2_len + _mochi_idx : _mochi_idx;})]) {
        {
            size_t *__tmp32_lens = malloc(0 * sizeof(size_t));
            long long** __tmp32_data = malloc(0 * sizeof(long long*));
            strassen_lens = __tmp32_lens;
            strassen_len = 0;
            return __tmp32_data;
        }
    }
    long long maximum = 0;
    long long size = next_power_of_two(maximum);
    long long **new_matrix1 = pad_matrix(matrix1, matrix1_len, matrix1_lens, matrix1_len, size, size);
    size_t new_matrix1_len = pad_matrix_len;
    size_t *new_matrix1_lens = pad_matrix_lens;
    size_t new_matrix1_lens_len = pad_matrix_len;
    long long **new_matrix2 = pad_matrix(matrix2, matrix2_len, matrix2_lens, matrix2_len, size, size);
    size_t new_matrix2_len = pad_matrix_len;
    size_t *new_matrix2_lens = pad_matrix_lens;
    size_t new_matrix2_lens_len = pad_matrix_len;
    long long **result_padded = actual_strassen(new_matrix1, new_matrix1_len, new_matrix1_lens, new_matrix1_len, new_matrix2, new_matrix2_len, new_matrix2_lens, new_matrix2_len);
    size_t result_padded_len = actual_strassen_len;
    size_t *result_padded_lens = actual_strassen_lens;
    size_t result_padded_lens_len = actual_strassen_len;
    long long **final_matrix = NULL;
    size_t final_matrix_len = 0;
    size_t *final_matrix_lens = NULL;
    size_t final_matrix_lens_len = 0;
    long long i = 0LL;
    while (i < dims1[(int)({long long _mochi_idx = 0LL; _mochi_idx < 0 ? dims1_len + _mochi_idx : _mochi_idx;})]) {
        long long *row = NULL;
        size_t row_len = 0;
        long long j = 0LL;
        while (j < dims2[(int)({long long _mochi_idx = 1LL; _mochi_idx < 0 ? dims2_len + _mochi_idx : _mochi_idx;})]) {
            row = list_append_long_long(row, &row_len, result_padded[(int)({long long _mochi_idx = i; _mochi_idx < 0 ? result_padded_len + _mochi_idx : _mochi_idx;})][(int)({long long _mochi_idx = j; _mochi_idx < 0 ? result_padded_lens[(int)(i)] + _mochi_idx : _mochi_idx;})]);
            j = j + 1LL;
        }
        final_matrix = list_append_intptr(final_matrix, &final_matrix_len, row);
        final_matrix_lens = list_append_szt(final_matrix_lens, &final_matrix_lens_len, row_len);
        i = i + 1LL;
    }
    return strassen_lens = final_matrix_lens, strassen_len = final_matrix_len, final_matrix;
}

void user_main() {
    long long matrix1_0[4] = {2LL, 3LL, 4LL, 5LL};
    long long matrix1_1[4] = {6LL, 4LL, 3LL, 1LL};
    long long matrix1_2[4] = {2LL, 3LL, 6LL, 7LL};
    long long matrix1_3[4] = {3LL, 1LL, 2LL, 4LL};
    long long matrix1_4[4] = {2LL, 3LL, 4LL, 5LL};
    long long matrix1_5[4] = {6LL, 4LL, 3LL, 1LL};
    long long matrix1_6[4] = {2LL, 3LL, 6LL, 7LL};
    long long matrix1_7[4] = {3LL, 1LL, 2LL, 4LL};
    long long matrix1_8[4] = {2LL, 3LL, 4LL, 5LL};
    long long matrix1_9[4] = {6LL, 2LL, 3LL, 1LL};
    long long *matrix1_init[10] = {matrix1_0, matrix1_1, matrix1_2, matrix1_3, matrix1_4, matrix1_5, matrix1_6, matrix1_7, matrix1_8, matrix1_9};
    long long **matrix1 = matrix1_init;
    size_t matrix1_len = 10;
    size_t matrix1_lens_init[10] = {4, 4, 4, 4, 4, 4, 4, 4, 4, 4};
    size_t *matrix1_lens = matrix1_lens_init;
    size_t matrix1_lens_len = 10;
    long long matrix2_0[4] = {0LL, 2LL, 1LL, 1LL};
    long long matrix2_1[4] = {16LL, 2LL, 3LL, 3LL};
    long long matrix2_2[4] = {2LL, 2LL, 7LL, 7LL};
    long long matrix2_3[4] = {13LL, 11LL, 22LL, 4LL};
    long long *matrix2_init[4] = {matrix2_0, matrix2_1, matrix2_2, matrix2_3};
    long long **matrix2 = matrix2_init;
    size_t matrix2_len = 4;
    size_t matrix2_lens_init[4] = {4, 4, 4, 4};
    size_t *matrix2_lens = matrix2_lens_init;
    size_t matrix2_lens_len = 4;
    long long **res = strassen(matrix1, matrix1_len, matrix1_lens, matrix1_len, matrix2, matrix2_len, matrix2_lens, matrix2_len);
    size_t res_len = strassen_len;
    size_t *res_lens = strassen_lens;
    size_t res_lens_len = strassen_len;
    puts(str_list_list_int(res, res_len, res_lens));
}

int main(void) {
    {
        long long __start = _now();
        user_main();
        long long __end = _now();
        long long __dur_us = (__end - __start) / 1000;
        long long __mem_bytes = _mem();
        printf("{\n  \"duration_us\": %-lld,\n  \"memory_bytes\": %-lld,\n  \"name\": \"main\"\n}\n", __dur_us, __mem_bytes);
    }
    return 0;
}
