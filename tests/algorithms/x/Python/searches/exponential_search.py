# Code generated by Mochi transpiler.
# Version 0.10.63, generated on 2025-08-11 16:20 +0700
import sys
if hasattr(sys, "set_int_max_str_digits"):
    sys.set_int_max_str_digits(0)
import os
if os.path.dirname(__file__) in sys.path:
    sys.path.remove(os.path.dirname(__file__))


def panic(msg):
    raise RuntimeError(msg)

def is_sorted(xs):
    i = 1
    while i < len(xs):
        if xs[i - 1] > xs[i]:
            return False
        i = i + 1
    return True
def exponential_search(arr, item):
    if not is_sorted(arr):
        panic("sorted_collection must be sorted in ascending order")
    if len(arr) == 0:
        return -1
    if arr[0] == item:
        return 0
    bound = 1
    while bound < len(arr) and arr[bound] < item:
        bound = bound * 2
    left = bound // 2
    right = bound
    if right >= len(arr):
        right = len(arr) - 1
    while left <= right:
        mid = left + (right - left) // 2
        if arr[mid] == item:
            return mid
        if arr[mid] > item:
            right = mid - 1
        else:
            left = mid + 1
    return -1
# test exponential search
arr = [0, 5, 7, 10, 15]
assert exponential_search(arr, 0) == 0
assert exponential_search(arr, 15) == 4
assert exponential_search(arr, 5) == 1
assert exponential_search(arr, 6) == (0 - 1)

