# Code generated by Mochi transpiler.
# Version 0.10.59, generated on 2025-08-06 22:12 +0700
import sys
sys.set_int_max_str_digits(0)
import os
if os.path.dirname(__file__) in sys.path:
    sys.path.remove(os.path.dirname(__file__))

def mod_pow(base, exp, mod):
    result = 1
    b = base % mod
    e = exp
    while e > 0:
        if e % 2 == 1:
            result = (result * b) % mod
        b = (b * b) % mod
        e = e // 2
    return result
def miller_rabin(n, allow_probable):
    if n == 2:
        return True
    if n < 2 or n % 2 == 0:
        return False
    if n > 5:
        last = n % 10
        if not (last == 1 or last == 3 or last == 7 or last == 9):
            return False
    limit = 3825123056546413051
    if n > limit and (not allow_probable):
        panic("Warning: upper bound of deterministic test is exceeded. Pass allow_probable=true to allow probabilistic test.")
    bounds = [2047, 1373653, 25326001, 3215031751, 2152302898747, 3474749660383, 341550071728321, limit]
    primes = [2, 3, 5, 7, 11, 13, 17, 19]
    i = 0
    plist_len = len(primes)
    while i < len(bounds):
        if n < bounds[i]:
            plist_len = i + 1
            i = len(bounds)
        else:
            i = i + 1
    d = n - 1
    s = 0
    while d % 2 == 0:
        d = d // 2
        s = s + 1
    j = 0
    while j < plist_len:
        prime = primes[j]
        x = mod_pow(prime, d, n)
        pr = False
        if x == 1 or x == n - 1:
            pr = True
        else:
            r = 1
            while r < s and (not pr):
                x = (x * x) % n
                if x == n - 1:
                    pr = True
                r = r + 1
        if not pr:
            return False
        j = j + 1
    return True
print(str(miller_rabin(561, False)))
print(str(miller_rabin(563, False)))
print(str(miller_rabin(838201, False)))
print(str(miller_rabin(838207, False)))
print(str(miller_rabin(17316001, False)))
print(str(miller_rabin(17316017, False)))
print(str(miller_rabin(3078386641, False)))
print(str(miller_rabin(3078386653, False)))
print(str(miller_rabin(1713045574801, False)))
print(str(miller_rabin(1713045574819, False)))
print(str(miller_rabin(2779799728307, False)))
print(str(miller_rabin(2779799728327, False)))
print(str(miller_rabin(113850023909441, False)))
print(str(miller_rabin(113850023909527, False)))
print(str(miller_rabin(1275041018848804351, False)))
print(str(miller_rabin(1275041018848804391, False)))
