# Code generated by Mochi transpiler.
# Version 0.10.60, generated on 2025-08-08 09:18 +0700
import sys
sys.set_int_max_str_digits(0)
import os
if os.path.dirname(__file__) in sys.path:
    sys.path.remove(os.path.dirname(__file__))


def panic(msg):
    raise Exception(msg)


def _append(lst, v):
    return (lst or []) + [v]

def change_contrast(img, level):
    factor = (259.0 * ((float(level)) + 255.0)) // (255.0 * (259.0 - (float(level))))
    result = []
    i = 0
    while i < len(img):
        row = img[i]
        new_row = []
        j = 0
        while j < len(row):
            c = row[j]
            contrasted = int((128.0 + factor * ((float(c)) - 128.0)))
            clamped = (0 if contrasted < 0 else (255 if contrasted > 255 else contrasted))
            new_row = _append(new_row, clamped)
            j = j + 1
        result = _append(result, new_row)
        i = i + 1
    return result
def print_image(img):
    i = 0
    while i < len(img):
        row = img[i]
        j = 0
        line = ""
        while j < len(row):
            line = line + str(row[j]) + " "
            j = j + 1
        print(line)
        i = i + 1
image = [[100, 125, 150], [175, 200, 225], [50, 75, 100]]
print("Original image:")
print_image(image)
contrasted = change_contrast(image, 170)
print("After contrast:")
print_image(contrasted)
