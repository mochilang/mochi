# Code generated by Mochi transpiler.
# Version 0.10.60, generated on 2025-08-08 09:18 +0700
import sys
sys.set_int_max_str_digits(0)
import os
if os.path.dirname(__file__) in sys.path:
    sys.path.remove(os.path.dirname(__file__))


def panic(msg):
    raise Exception(msg)


def _append(lst, v):
    return (lst or []) + [v]

def clamp(value):
    if value < 0:
        return 0
    if value > 255:
        return 255
    return value
def change_brightness(img, level):
    if level < (-255) or level > 255:
        panic("level must be between -255 and 255")
    result = []
    i = 0
    while i < len(img):
        row_res = []
        j = 0
        while j < len(img[i]):
            row_res = _append(row_res, clamp(img[i][j] + level))
            j = j + 1
        result = _append(result, row_res)
        i = i + 1
    return result
sample = [[100, 150], [200, 250]]
print(change_brightness(sample, 30))
print(change_brightness(sample, -60))
