# Code generated by Mochi transpiler.
# Version 0.10.59, generated on 2025-08-06 22:12 +0700
import sys
sys.set_int_max_str_digits(0)
import os
if os.path.dirname(__file__) in sys.path:
    sys.path.remove(os.path.dirname(__file__))


def _append(lst, v):
    if lst is None:
        return [v]
    return lst + [v]

def segment_image(image, thresholds):
    segmented = []
    i = 0
    while i < len(image):
        row = []
        j = 0
        while j < len(image[i]):
            pixel = image[i][j]
            label = 0
            k = 0
            while k < len(thresholds):
                if pixel > thresholds[k]:
                    label = k + 1
                k = k + 1
            row = _append(row, label)
            j = j + 1
        segmented = _append(segmented, row)
        i = i + 1
    return segmented
def main():
    image = [[80, 120, 180], [40, 90, 150], [20, 60, 100]]
    thresholds = [50, 100, 150]
    segmented = segment_image(image, thresholds)
    print(segmented)
main()
