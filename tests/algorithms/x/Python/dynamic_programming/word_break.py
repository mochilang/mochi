# Code generated by Mochi transpiler.
# Version 0.10.59, generated on 2025-08-07 08:38 +0700
import sys
sys.set_int_max_str_digits(0)
import os
if os.path.dirname(__file__) in sys.path:
    sys.path.remove(os.path.dirname(__file__))


def _append(lst, v):
    return (lst or []) + [v]


def _set_index(lst, idx, val):
    if lst is None:
        lst = []
    if idx >= len(lst):
        lst.extend([None] * (idx - len(lst) + 1))
    lst[idx] = val
    return lst

def build_set(words):
    m = {}
    for w in words:
        m[w] = True
    return m
def word_break(s, words):
    n = len(s)
    dict = build_set(words)
    dp = []
    i = 0
    while i <= n:
        dp = _append(dp, False)
        i = i + 1
    dp[0] = True
    i = 1
    while i <= n:
        j = 0
        while j < i:
            if dp[j]:
                sub = s[j:i]
                if sub in dict:
                    dp[i] = True
                    j = i
            j = j + 1
        i = i + 1
    return dp[n]
def print_bool(b):
    if b:
        print(("True" if True else "False"))
    else:
        print(("True" if False else "False"))
print_bool(word_break("applepenapple", ["apple", "pen"]))
print_bool(word_break("catsandog", ["cats", "dog", "sand", "and", "cat"]))
print_bool(word_break("cars", ["car", "ca", "rs"]))
