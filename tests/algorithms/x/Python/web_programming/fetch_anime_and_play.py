# Code generated by Mochi transpiler.
# Version 0.10.65, generated on 2025-08-13 16:39 +0700
import sys
if hasattr(sys, "set_int_max_str_digits"):
    sys.set_int_max_str_digits(0)
import os
if os.path.dirname(__file__) in sys.path:
    sys.path.remove(os.path.dirname(__file__))


def _append(lst, v):
    if lst is None:
        lst = []
    lst.append(v)
    return lst

BASE_URL = "https://ww7.gogoanime2.org"
def contains_str(s, sub):
    if len(sub) == 0:
        return True
    i = 0
    while i + len(sub) <= len(s):
        if s[i:i + len(sub)] == sub:
            return True
        i = i + 1
    return False
ANIME_DB = [{"title": "Demon Slayer", "url": "/anime/kimetsu-no-yaiba"}, {"title": "Naruto", "url": "/anime/naruto"}]
def search_scraper(anime_name):
    term = anime_name.lower()
    res = []
    i = 0
    while i < len(ANIME_DB):
        item = ANIME_DB[i]
        if contains_str(item.get("title", "").lower(), term):
            res = _append(res, item)
        i = i + 1
    return res
EPISODE_DB = {"/anime/kimetsu-no-yaiba": [{"title": "Episode 1", "url": "/watch/kimetsu-no-yaiba/1"}, {"title": "Episode 2", "url": "/watch/kimetsu-no-yaiba/2"}], "/anime/naruto": [{"title": "Episode 1", "url": "/watch/naruto/1"}]}
def search_anime_episode_list(endpoint):
    if endpoint in EPISODE_DB:
        return EPISODE_DB.get(endpoint, [])
    empty = []
    return empty
EPISODE_EMBED = {"/watch/kimetsu-no-yaiba/1": "/embed/kimetsu-no-yaiba/1", "/watch/kimetsu-no-yaiba/2": "/embed/kimetsu-no-yaiba/2", "/watch/naruto/1": "/embed/naruto/1"}
def to_playlist(embed):
    return "/playlist/" + embed[7:] + ".m3u8"
def get_anime_episode(endpoint):
    if endpoint in EPISODE_EMBED:
        embed = EPISODE_EMBED.get(endpoint, "")
        play = BASE_URL + embed
        download = BASE_URL + to_playlist(embed)
        return [play, download]
    empty = []
    return empty
def main():
    animes = search_scraper("demon")
    print(animes)
    episodes = search_anime_episode_list("/anime/kimetsu-no-yaiba")
    print(episodes)
    links = get_anime_episode("/watch/kimetsu-no-yaiba/1")
    print(links)
main()

