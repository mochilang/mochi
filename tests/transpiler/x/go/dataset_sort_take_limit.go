//go:build ignore

// Generated by Mochi v0.10.32 on 2025-07-20 22:28:11 GMT+7
package main

import (
	"fmt"
	"sort"
	"strings"
)

var products []Product = []Product{Product{
	Name:  "Laptop",
	Price: 1500,
}, Product{
	Name:  "Smartphone",
	Price: 900,
}, Product{
	Name:  "Tablet",
	Price: 600,
}, Product{
	Name:  "Monitor",
	Price: 300,
}, Product{
	Name:  "Keyboard",
	Price: 100,
}, Product{
	Name:  "Mouse",
	Price: 50,
}, Product{
	Name:  "Headphones",
	Price: 200,
}}

type Product struct {
	Name  string `json:"name"`
	Price int    `json:"price"`
}

var expensive []Product = func() []Product {
	type _pair struct {
		Key int
		Val Product
	}
	_tmp := []_pair{}
	for _, p := range products {
		_tmp = append(_tmp, _pair{(0 - p.Price), p})
	}
	sort.Slice(_tmp, func(i, j int) bool { return _tmp[i].Key < _tmp[j].Key })
	_res := make([]Product, len(_tmp))
	for i, p := range _tmp {
		_res[i] = p.Val
	}
	if 1 < len(_res) {
		_res = _res[1:]
	} else {
		_res = []Product{}
	}
	if 3 < len(_res) {
		_res = _res[:3]
	}
	return _res
}()

func main() {
	fmt.Println(strings.TrimSpace(fmt.Sprint("--- Top products (excluding most expensive) ---")))
	for _, item := range expensive {
		fmt.Println(strings.TrimSpace(fmt.Sprint(item.Name, " ", "costs $", " ", item.Price)))
	}
}
