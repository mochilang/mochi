// Generated by Mochi 0.10.32 on 2025-07-21 12:24 +0700
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text.Json;

struct People {
    public string name;
    public string city;
    public override string ToString() => JsonSerializer.Serialize(this);
}
struct GGroup {
    public string key;
    public People[] items;
    public override string ToString() => JsonSerializer.Serialize(this);
}
struct GResult {
    public string city;
    public int num;
    public override string ToString() => JsonSerializer.Serialize(this);
}
class Program {
    static People[] people = new People[]{new People{name = "Alice", city = "Paris"}, new People{name = "Bob", city = "Hanoi"}, new People{name = "Charlie", city = "Paris"}, new People{name = "Diana", city = "Hanoi"}, new People{name = "Eve", city = "Paris"}, new People{name = "Frank", city = "Hanoi"}, new People{name = "George", city = "Paris"}};
    static GResult[] big = (from p in people group p by p.city into gTmp let g = new GGroup{ key = gTmp.Key, items = gTmp.ToArray() } where (g.Length >= 4) select new GResult{city = g.key, num = g.Length}).ToArray();
    static void Main() {
        Console.WriteLine(JsonSerializer.Serialize(big));
    }
}
