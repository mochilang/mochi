// Generated by Mochi
using System;
using System.Collections.Generic;
using System.Linq;

struct Customer {
    public int id;
    public string name;
}
struct Order {
    public int id;
    public int customerId;
}
class Program {
    static Customer[] customers = new[]{new Customer{id = 1, name = "Alice"}, new Customer{id = 2, name = "Bob"}, new Customer{id = 3, name = "Charlie"}};
    static Order[] orders = new[]{new Order{id = 100, customerId = 1}, new Order{id = 101, customerId = 1}, new Order{id = 102, customerId = 2}};
    static Dictionary<string, object>[] stats = (from c in customers join o in orders on o.customerId equals c.id into oTmp from o in oTmp.DefaultIfEmpty() group c by c.name into gTmp let g = new GGroup{ key = gTmp.Key, items = gTmp.ToArray() } select new Dictionary<string, object>{{"name", g.key}, {"count", (from r in g where r.o select r).ToArray().Length}}).ToArray();
    static void Main() {
        Console.WriteLine("--- Group Left Join ---");
        foreach (var s in stats) {
    Console.WriteLine(string.Join(" ", new[]{s.name, "orders:", s.count}).TrimEnd());
}
    }
}
