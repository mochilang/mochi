# Generated by Mochi transpiler v0.10.34 on 2025-07-21 20:45 +0700
CustomersItem = Struct.new(:id, :name, keyword_init: true)
customers = [CustomersItem.new(id: 1, name: "Alice"), CustomersItem.new(id: 2, name: "Bob"), CustomersItem.new(id: 3, name: "Charlie"), CustomersItem.new(id: 4, name: "Diana")]
OrdersItem = Struct.new(:id, :customerId, :total, keyword_init: true)
orders = [OrdersItem.new(id: 100, customerId: 1, total: 250), OrdersItem.new(id: 101, customerId: 2, total: 125), OrdersItem.new(id: 102, customerId: 1, total: 300), OrdersItem.new(id: 103, customerId: 5, total: 80)]
Result = Struct.new(:order, :customer, keyword_init: true)
result = (begin
  _res = []
  orders.each do |o|
    matched = false
    customers.each do |c|
      if o["customerId"] == c["id"]
        matched = true
        _res << Result.new(order: o, customer: c)
      end
    end
    unless matched
      c = nil
      _res << Result.new(order: o, customer: c)
    end
  end
  customers.each do |c|
    matched = false
    orders.each do |o|
      if o["customerId"] == c["id"]
        matched = true
        break
      end
    end
    unless matched
      o = nil
      _res << Result.new(order: o, customer: c)
    end
  end
_res
end)
puts("--- Outer Join using syntax ---")
result.each do |row|
if row.order
  if row.customer
    puts((["Order", row.order["id"], "by", row.customer["name"], "- $", row.order["total"]]).map{ |x| x == true ? 'True' : x == false ? 'False' : x }.join(' ').rstrip())
  else
    puts((["Order", row.order["id"], "by", "Unknown", "- $", row.order["total"]]).map{ |x| x == true ? 'True' : x == false ? 'False' : x }.join(' ').rstrip())
  end
else
  puts((["Customer", row.customer["name"], "has no orders"]).map{ |x| x == true ? 'True' : x == false ? 'False' : x }.join(' ').rstrip())
end
end
