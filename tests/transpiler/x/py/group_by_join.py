# Code generated by Mochi v0.10.34 - DO NOT EDIT
from dataclasses import dataclass
from typing import List, Dict

@dataclass
class Customer:
    id: int
    name: str

customers = [Customer(1, "Alice"), Customer(2, "Bob")]
@dataclass
class Order:
    id: int
    customerId: int

orders = [Order(100, 1), Order(101, 1), Order(102, 2)]
@dataclass
class StatsGroup:
    key: str
    items: list

_stats_groups = {}
for o in orders:
    for c in [c for c in customers if o.customerId == c.id]:
        _g = _stats_groups.setdefault(c.name, StatsGroup(c.name, []))
        _g.items.append(o)
@dataclass
class Stat:
    name: str
    count: int

stats = [Stat(g.key, len(g.items)) for g in _stats_groups.values()]
print("--- Orders per customer ---")
for s in stats:
    print(" ".join(str(x) for x in [s.name, "orders:", s.count]).rstrip())
