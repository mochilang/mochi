# Generated by Mochi transpiler v0.10.32 on 2025-07-21 15:12 +0700
items = [{"cat": "a", "val": 3}, {"cat": "a", "val": 1}, {"cat": "b", "val": 5}, {"cat": "b", "val": 2}]
_grouped_groups = {}
for i in items:
    _g = _grouped_groups.setdefault(i["cat"], {"key": i["cat"], "items": []})
    _g["items"].append(i)
grouped = []
for g in _grouped_groups.values():
    grouped.append({"cat": g["key"], "total": sum([x["val"] for x in g["items"]])})
print(grouped)
