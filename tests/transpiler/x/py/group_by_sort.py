# Code generated by Mochi v0.10.34 - DO NOT EDIT
from dataclasses import dataclass
from typing import List, Dict
import json

@dataclass
class Item:
    cat: str
    val: int

items = [Item("a", 3), Item("a", 1), Item("b", 5), Item("b", 2)]
@dataclass
class GroupedGroup:
    key: str
    items: list

_grouped_groups = {}
for i in items:
    _g = _grouped_groups.setdefault(i.cat, GroupedGroup(i.cat, []))
    _g.items.append(i)
@dataclass
class Grouped:
    cat: str
    total: any

grouped = [Grouped(g.key, sum([x.val for x in g.items])) for g in _grouped_groups.values()]
print(json.dumps(grouped))
