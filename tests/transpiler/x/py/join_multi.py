# Generated by Mochi transpiler v0.10.31 on 2025-07-20 13:26 +0700
import json

customers = [{"id": 1, "name": "Alice"}, {"id": 2, "name": "Bob"}]
orders = [{"id": 100, "customerId": 1}, {"id": 101, "customerId": 2}]
items = [{"orderId": 100, "sku": "a"}, {"orderId": 101, "sku": "b"}]
result = [{"name": c["name"], "sku": i["sku"]} for o in orders for c in customers for i in items if o["customerId"] == c["id"] and o["id"] == i["orderId"]]
print((lambda _x: 'nil' if _x is None else json.dumps(_x) if isinstance(_x, dict) else str(_x))("--- Multi Join ---"))
for r in result:
    print((lambda _x: 'nil' if _x is None else json.dumps(_x) if isinstance(_x, dict) else str(_x))(r["name"]), (lambda _x: 'nil' if _x is None else json.dumps(_x) if isinstance(_x, dict) else str(_x))("bought item"), (lambda _x: 'nil' if _x is None else json.dumps(_x) if isinstance(_x, dict) else str(_x))(r["sku"]))
