# Generated by Mochi transpiler v0.10.32 on 2025-07-21 07:08 +0700
people = [{"name": "Alice", "age": 30, "city": "Paris"}, {"name": "Bob", "age": 15, "city": "Hanoi"}, {"name": "Charlie", "age": 65, "city": "Paris"}, {"name": "Diana", "age": 45, "city": "Hanoi"}, {"name": "Eve", "age": 70, "city": "Paris"}, {"name": "Frank", "age": 22, "city": "Hanoi"}]
_stats_groups = {}
for person in people:
    _g = _stats_groups.setdefault(person["city"], {"key": person["city"], "items": []})
    _g["items"].append(person)
stats = []
for g in _stats_groups.values():
    stats.append({"city": g["key"], "count": len(g["items"]), "avg_age": (sum([p["age"] for p in g["items"]]) / len([p["age"] for p in g["items"]]) if [p["age"] for p in g["items"]] else 0.0)})
print((str("--- People grouped by city ---").lower() if isinstance("--- People grouped by city ---", bool) else "--- People grouped by city ---"))
for s in stats:
    print((str(s["city"]).lower() if isinstance(s["city"], bool) else s["city"]), (str(": count =").lower() if isinstance(": count =", bool) else ": count ="), (str(s["count"]).lower() if isinstance(s["count"], bool) else s["count"]), (str(", avg_age =").lower() if isinstance(", avg_age =", bool) else ", avg_age ="), (str(s["avg_age"]).lower() if isinstance(s["avg_age"], bool) else s["avg_age"]))
