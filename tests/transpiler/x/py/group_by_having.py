# Code generated by Mochi transpiler.
# Version 0.10.34, generated on 2025-07-22 10:17 +0700
from __future__ import annotations
from dataclasses import dataclass
from typing import List, Dict
import dataclasses
import json

@dataclass
class GenType1:
    name: str
    city: str

people = [GenType1("Alice", "Paris"), GenType1("Bob", "Hanoi"), GenType1("Charlie", "Paris"), GenType1("Diana", "Hanoi"), GenType1("Eve", "Paris"), GenType1("Frank", "Hanoi"), GenType1("George", "Paris")]
@dataclass
class BigGroup:
    key: str
    items: list

_big_groups = {}
for p in people:
    _g = _big_groups.setdefault(p.city, BigGroup(p.city, []))
    _g.items.append(p)
@dataclass
class GenType3:
    city: str
    num: int

big = [GenType3(g.key, len(g.items)) for g in _big_groups.values() if len(g.items) >= 4]
print(json.dumps([dataclasses.asdict(_x) for _x in big], indent=2))
