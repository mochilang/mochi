# Generated by Mochi transpiler v0.10.31 on 2025-07-20 13:26 +0700
import json

customers = [{"id": 1, "name": "Alice"}, {"id": 2, "name": "Bob"}, {"id": 3, "name": "Charlie"}]
orders = [{"id": 100, "customerId": 1}, {"id": 101, "customerId": 1}, {"id": 102, "customerId": 2}]
_stats_groups = {}
for c in customers:
    for o in [o for o in orders if o["customerId"] == c["id"]] or [None]:
        _g = _stats_groups.setdefault(c["name"], {"key": c["name"], "items": []})
        _g["items"].append({"c": c, "o": o})
stats = []
for g in _stats_groups.values():
    stats.append({"name": g["key"], "count": len([r for r in g["items"] if r["o"]])})
print((lambda _x: 'nil' if _x is None else json.dumps(_x) if isinstance(_x, dict) else str(_x))("--- Group Left Join ---"))
for s in stats:
    print((lambda _x: 'nil' if _x is None else json.dumps(_x) if isinstance(_x, dict) else str(_x))(s["name"]), (lambda _x: 'nil' if _x is None else json.dumps(_x) if isinstance(_x, dict) else str(_x))("orders:"), (lambda _x: 'nil' if _x is None else json.dumps(_x) if isinstance(_x, dict) else str(_x))(s["count"]))
