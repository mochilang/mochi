# Generated by Mochi transpiler v0.10.32 on 2025-07-21 07:08 +0700
data = [{"tag": "a", "val": 1}, {"tag": "a", "val": 2}, {"tag": "b", "val": 3}]
_groups_groups = {}
for d in data:
    _g = _groups_groups.setdefault(d["tag"], {"key": d["tag"], "items": []})
    _g["items"].append(d)
groups = []
for g in _groups_groups.values():
    groups.append(g)
tmp = []
for g in groups:
    total = 0
    for x in g["items"]:
        total = total + x["val"]
    tmp = tmp + [{"tag": g["key"], "total": total}]
result = [r for r in sorted([r for r in tmp], key=lambda r: r["tag"])]
print((str(result).lower() if isinstance(result, bool) else result))
