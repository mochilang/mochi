#!/usr/bin/env escript
-module(main).
-export([main/1]).

% Generated by Mochi transpiler v0.10.32 (52d05ad02) on 2025-07-20 10:57 UTC

main(_) ->
    Customers = [#{id => 1, name => "Alice"}, #{id => 2, name => "Bob"}, #{id => 3, name => "Charlie"}],
    Orders = [#{id => 100, customerId => 1, total => 250}, #{id => 101, customerId => 2, total => 125}, #{id => 102, customerId => 1, total => 300}],
    Result = [#{orderId => maps:get(id, O), orderCustomerId => maps:get(customerId, O), pairedCustomerName => maps:get(name, C), orderTotal => maps:get(total, O)} || O <- Orders, C <- Customers],
    io:format("~s~n", ["--- Cross Join: All order-customer pairs ---"]),
    lists:foreach(fun(Entry) ->
    io:format("~s ~p ~s ~p ~s ~p ~s ~p~n", ["Order", maps:get(orderId, Entry), "(customerId:", maps:get(orderCustomerId, Entry), ", total: $", maps:get(orderTotal, Entry), ") paired with", maps:get(pairedCustomerName, Entry)])
end, Result).
