# Code generated by Mochi transpiler 2025-07-22 09:06 +0700
people = [%{name: "Alice", age: 30}, %{name: "Bob", age: 25}]
Enum.each(people, fn row ->
  row = if is_map(row) and Map.has_key?(row, :__struct__), do: Map.from_struct(row), else: row
  keys = Map.keys(row) |> Enum.sort()
  json = Enum.map_join(keys, ",", fn k -> v = Map.get(row, k); val = if is_binary(v), do: "\""<>v<>"\"", else: to_string(v); "\""<>to_string(k)<>"\": "<>val end)
  IO.puts("{" <> json <> "}")
end)
