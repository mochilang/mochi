# Generated by Mochi transpiler on 2025-07-21 16:07 +0700
customers = [%{id: 1, name: "Alice"}, %{id: 2, name: "Bob"}]
orders = [%{id: 100, customerId: 1, total: 250}, %{id: 101, customerId: 3, total: 80}]
result = Enum.flat_map(orders, fn o ->
  matches = Enum.filter(customers, fn c -> o.customerId == c.id end)
  list = if Enum.empty?(matches), do: [nil], else: matches
  Enum.map(list, fn c -> %{orderId: o.id, customer: c, total: o.total} end)
end)
IO.puts("--- Left Join ---")
Enum.each(result, fn entry ->
  IO.puts("Order #{Kernel.inspect(entry.orderId)} customer #{Kernel.inspect(entry.customer)} total #{Kernel.inspect(entry.total)}")
end)
