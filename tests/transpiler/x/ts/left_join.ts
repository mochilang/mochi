// Generated by Mochi v0.10.32 on 2025-07-20 20:36:38 GMT+7

interface Customer { id: number; name: string };
interface Order { id: number; customerId: number; total: number };
const customers: Customer[] = [{id: 1, name: "Alice"}, {id: 2, name: "Bob"}];
const orders: Order[] = [{id: 100, customerId: 1, total: 250}, {id: 101, customerId: 3, total: 80}];
const result: Record<string, any>[] = (() => {
  let _items = orders.map(v => [v])
  { const _joined = []
    const _arr = customers
    for (const _left of _items) {
      let _m = false;
      for (let _ri=0; _ri < _arr.length; _ri++) {
        const c = _arr[_ri];
        if (!((o["customerId"] == c["id"]))) continue;
        _m = true; _joined.push([..._left, c]) }
      }
      if (!_m) _joined.push([..._left, null])
    }
    _items = _joined }
  let _rows = _items
  const result = []
  for (const r of _rows) { const [o, c] = r; result.push({orderId: o["id"], customer: c, total: o["total"]}) }
  return result
})();
console.log("--- Left Join ---");
for (const entry of result) {
  console.log("Order", entry["orderId"], "customer", entry["customer"], "total", entry["total"]);
}
