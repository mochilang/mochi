// Generated by Mochi 0.10.32 on 2025-07-22 14:28 +0700
#include <stdio.h>
#include <string.h>

typedef struct Customers Customers;
typedef struct Data2 Data2;
typedef struct Data4 Data4;
typedef struct Data6 Data6;
typedef struct Items Items;
typedef struct Orders Orders;
typedef struct ResultItem ResultItem;

struct Customers {
    int id;
    const char* name;
};

struct Data2 {
    int id;
    const char* name;
};

struct Data4 {
    int id;
    int customerId;
};

struct Data6 {
    int orderId;
    const char* sku;
};

struct Items {
    int orderId;
    const char* sku;
};

struct Orders {
    int id;
    int customerId;
};

struct ResultItem {
    const char* name;
    const char* sku;
};

Customers customers[] = { (Customers){.id = 1, .name = "Alice"}, (Customers){.id = 2, .name = "Bob"} };
Orders orders[] = { (Orders){.id = 100, .customerId = 1}, (Orders){.id = 101, .customerId = 2} };
Items items[] = { (Items){.orderId = 100, .sku = "a"}, (Items){.orderId = 101, .sku = "b"} };

int main(void) {
    ResultItem result[8]; size_t result_len = 0;
    for(size_t i=0;i<2;i++){ Orders o=orders[i];
      for(size_t j=0;j<2;j++){ Customers c=customers[j]; if(o.customerId==c.id){
        for(size_t k=0;k<2;k++){ Items it=items[k]; if(it.orderId==o.id){
          result[result_len++] = (ResultItem){c.name,it.sku};
        }}
      }}
    }
    puts("--- Multi Join ---");
    for(size_t i=0;i<result_len;i++){ ResultItem r=result[i]; printf("%s bought item %s\n", r.name, r.sku); }
    return 0;
}
