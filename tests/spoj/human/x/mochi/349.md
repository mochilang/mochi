# Around the world

We model each farm as a vertex with its longitude.  For every bidirectional
flight we determine the orientation and distance along the circle.  The flight
from farm `u` to farm `v` has a signed weight `w` (degrees):
`w > 0` means clockwise, `w < 0` means counterclockwise, and `|w| < 180`
because the path follows the shorter arc.

Starting from farm 1 at angle 0 we perform a breadth‑first search over states
`(node, diff)` where `diff` is the net signed angle travelled so far.  The
search space is limited to ±720 degrees which is sufficient to find the
shortest non‑trivial tour.

From a state `(u, diff)` every flight `u → v` with weight `w` leads to
`(v, diff + w)` if the new `diff` stays within the limits and has not been
visited.  When we dequeue a state for farm 1 where `diff % 360 == 0` and
`diff ≠ 0` we have completed at least one full rotation around the world.
The associated distance value yields the minimal number of flights.

If the BFS finishes without reaching such a state, the trip is impossible and
we output `-1`.

The BFS explores at most `N × 1441` states and examines each edge only a few
times, so the complexity is roughly `O(N × LIMIT + M × LIMIT)` with
`LIMIT = 720`.
