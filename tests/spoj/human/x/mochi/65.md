# [BALL - Billiard](https://www.spoj.com/problems/BALL1/)

## Problem Summary
A ball rolls on an `x × y` board at a 45° angle starting from a field `(a, b)` that touches the board's edge. Each time the contact point enters a field, that field's counter increases. The ball bounces off the borders and the process ends when it returns to the starting field. For each test case, output how many fields were visited an odd number of times.

## Algorithm
1. Compute `g = gcd(x - 1, y - 1)`.
2. If both `a - 1` and `b - 1` are divisible by `g`, the trajectory closes immediately and exactly two fields have odd counts.
3. Otherwise, the path crosses several diagonals spaced `g` cells apart.
   - Let `s = (x - 1)/g + (y - 1)/g`.
   - Each diagonal toggles four squares. If `s` is even, the answer is `4s`; if `s` is odd, add two more squares for `4s + 2`.

This formula runs in constant time per test case.
