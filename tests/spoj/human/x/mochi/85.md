# [Dice Contest](https://www.spoj.com/problems/DICE1/)

## Problem Summary
Find the minimum total cost to roll a weighted die on a 4-by-infinite strip from a start square to a target square. Each die face has an assigned cost and the cost of a move equals the value on the face on top after the roll.

## Algorithm
1. **Enumerate orientations** – generate all 24 possible orientations of the die starting from the initial top and facing configuration.
2. **Dijkstra transitions** – for every state (row and orientation) run Dijkstra in a small window (x in [-2,2]) to compute minimal costs for a net step east and west. These costs form two 96x96 transition matrices (states = 4 rows x 24 orientations).
3. **Matrix exponentiation** – build powers of each matrix under min-plus multiplication to jump many columns using repeated squaring.
4. **Path evaluation** – starting from the initial state, multiply the state-cost vector by the appropriate matrix power for the required horizontal displacement. The final answer is the minimum cost among states in the target row.
5. **Vertical only moves** – if horizontal displacement is zero, a single Dijkstra run suffices to move within the same column.

This approach handles very large coordinates efficiently while accounting for orientation changes and vertical detours.
