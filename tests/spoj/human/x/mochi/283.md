# [Naptime](https://www.spoj.com/problems/NAPTIME/)

## Problem Summary
Given `N` time periods arranged in a circle and a total of `B` periods during which the cow can be in bed, choose the periods to maximize the total sleep utility. Entering bed costs the first period of each contiguous block (no utility is gained from that period). Utilities are non‑negative.

## Algorithm
1. Use dynamic programming over periods and the number of used periods.
2. State `dp0[j]` – maximum utility after processing the current period, having used `j` periods and currently **not** in bed.
3. State `dp1[j]` – same but currently **in** bed. Transition rules:
   - From `dp0`: skip the period or start a new block (first period gives 0 utility).
   - From `dp1`: either leave bed or continue sleeping, adding the current period’s utility.
4. Run the DP twice to handle circularity:
   - Case A: first period not chosen.
   - Case B: first period chosen. After processing all periods, add the first period’s utility if the last period is also chosen (wrap‑around block).
5. The answer is the best of the two cases.

This runs in `O(N * B)` time with `O(B)` memory per case.
