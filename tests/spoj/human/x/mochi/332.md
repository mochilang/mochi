# [Hard Question](https://www.spoj.com/problems/HARDQ/)

## Problem Summary
Given a simple polygon describing the boundary of a proposed national park and a set of pairwise disjoint axis-aligned rectangles, decide whether some subset of the rectangles exactly covers the polygon. Rectangles may not extend outside the polygon and no area of the polygon may remain uncovered.

## Algorithm
1. Read polygon with `N` vertices and `M` rectangles.
2. **Check orthogonality:** every polygon edge must be horizontal or vertical. If any edge is diagonal, output `NO` since a union of axis-aligned rectangles cannot produce such a polygon.
3. **Compute polygon area:** using the shoelace formula (keeping twice the area to stay in integers).
4. For each rectangle:
   - Normalize coordinates so `x1<x2` and `y1<y2`.
   - Test if all four corners lie inside or on the boundary of the polygon via a standard ray-casting point-in-polygon test (with an extra check for boundary points).
   - If the rectangle is inside, add its area to an accumulator.
5. After processing all rectangles, compare accumulated area with the polygon's area. If they match and the polygon was orthogonal, output `YES`; otherwise output `NO`.

The rectangles are disjoint, so if their total area equals the polygon area and each lies inside it, they must exactly tile the polygon.
