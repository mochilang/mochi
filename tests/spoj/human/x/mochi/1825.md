# [Free tour II](https://www.spoj.com/problems/FTOUR2/)

## Problem Summary
Given a tree of **N** places whose edges have "interest" values (possibly negative), and **M** designated crowded places. Choose any path that visits at most **K** crowded places while maximizing the total interest value of its edges. The path may start and end at the same node and may not visit a node more than once.

## Algorithm
A brute-force depth-first search explores all simple paths:

1. For each starting node, clear the visited markers and begin DFS.
2. The DFS tracks the accumulated interest and how many crowded nodes have been seen so far.
3. Branches that would exceed **K** crowded nodes are abandoned.
4. Every time a node is reached, update the global best sum.

This exhaustive exploration is \(O(N^2)\) on a tree because each edge is traversed from both directions. It is adequate for small inputs used in our tests, though more efficient techniques are needed for the full SPOJ constraints.
