# QUEST4 - Dungeon of Death

Problem link: https://www.spoj.com/problems/QUEST4/

## Algorithm

- Each plank covers an entire row or column of the 120x120 grid.
- Missing tiles are edges between their row and column.  We need the minimum
  number of rows/columns covering all missing tiles – a minimum vertex cover on a
  bipartite graph.
- By Kőnig's theorem the size of a minimum vertex cover equals the size of a
  maximum matching.
- Build an adjacency list for 120 rows.
- Run a DFS based augmenting-path matcher to find the maximum bipartite
  matching with complexity `O(V * E)` where `V` is 120 and `E ≤ 10010`.
- The answer for each test case is the size of the matching.

## Correctness Proof

We model the grid as a bipartite graph where left vertices correspond to rows
and right vertices correspond to columns.  Each missing tile at `(x, y)` creates
an edge between row `x` and column `y`.  Choosing a plank for a row or column is
equivalent to choosing the corresponding vertex in this graph.  Therefore, any
set of planks covering all holes corresponds to a vertex cover.  Conversely, any
vertex cover gives a set of planks that blocks all gas leaks.  Thus the minimum
number of planks equals the size of the minimum vertex cover, which in bipartite
graphs is exactly the size of a maximum matching.  Our algorithm computes this
maximum matching, so it returns the optimal number of planks.

## Complexity Analysis

Let `R` and `C` be the numbers of rows and columns (both 120) and `E` the number
of missing tiles.  For each row we attempt an augmenting path over all incident
edges, giving time complexity `O(R * E)` which is at most about `1.2e6`
operations.

## Reference Implementation

See [660.mochi](660.mochi) for the full implementation.

