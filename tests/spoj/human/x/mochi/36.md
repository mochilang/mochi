# [Secret Code](https://www.spoj.com/problems/CODE1)

## Problem Summary
Given integers Xr, Xi, Br and Bi describing complex numbers X = Xr + i·Xi and B = Br + i·Bi with |B| > 1, express X in base B as
X = a0 + a1·B + a2·B² + … where each digit ai is an integer and 0 ≤ ai < |B|. If no such representation with at most 100 digits exists, output `The code cannot be decrypted.`

## Algorithm
1. Compute N = Br² + Bi² and determine the maximal allowed digit D:
   - D = floor(|B|) and if |B| is integer, subtract 1 so D is the largest integer < |B|.
2. Repeat while X ≠ 0 (and up to 100 digits):
   - For each candidate digit a in [0, D]:
       - Compute u = Xr·Br + Xi·Bi − a·Br
       - Compute v = Xi·Br − Xr·Bi + a·Bi
       - If u and v are both divisible by N, accept a and set X = (u/N) + i·(v/N).
   - If no digit works, decryption is impossible.
3. If the process finishes with X = 0, output the collected digits in reverse order separated by commas.

The digit search is small because D ≤ √(Br² + Bi²) ≤ 22. Complex division reduces |X| by roughly |B| each step, ensuring at most 100 iterations. The algorithm runs in O(n·D) time per test case where n is the number of digits.
