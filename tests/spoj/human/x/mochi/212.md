# [Water among Cubes](https://www.spoj.com/problems/WATER/)

## Problem Summary
Given an \(n \times m\) grid of cuboid heights, find the total volume of water that can remain trapped after a heavy rain. Each cell can hold water above its cuboid up to the minimum height of the surrounding boundary.

## Algorithm
1. Insert all boundary cells into a min-heap keyed by height and mark them as visited.
2. Repeatedly pop the lowest cell from the heap. For each unvisited neighbor:
   - The water trapped at that neighbor is `max(0, cur_height - neighbor_height)`.
   - Push the neighbor into the heap with height `max(neighbor_height, cur_height)` and mark it visited.
3. Continue until the heap is empty. The accumulated water amounts to the maximal trapped volume.

This approach is akin to a BFS that spreads inward from the boundary while keeping track of the lowest enclosing wall. It runs in \(O(nm \log(nm))\) time with \(O(nm)\) memory.
