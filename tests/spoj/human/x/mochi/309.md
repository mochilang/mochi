# SPOJ RATTERN - The Room Pattern

Problem: <https://www.spoj.com/problems/RATTERN/>

We are given an N×M floor where each cell is white (0), black (1) or already
covered (2). We have K types of tiles. Each tile type has one of four shapes
(single cell, domino, straight triomino or L-shaped triomino), a cost and a
coloring for its squares. Tiles may be rotated but not flipped and the supply
of each type is unlimited. The goal is to cover all uncovered cells with tiles
matching the desired colors with minimum total cost or report `-1` if it is
impossible.

## Algorithm

* Pre-compute all valid placements of every tile type. For each shape we
  generate all rotations. For every orientation and board position we check
  whether the tile fits, does not overlap cells already covered and its colors
  match the required colors. Each valid placement is stored as a bitmask of the
  covered cells together with its cost, keyed by the smallest cell index it
  covers.
* Represent the board as a 64‑bit mask. Bits for cells initially marked `2` are
  set in the starting mask. Filling the board becomes choosing placements until
  all bits are set.
* Use recursive DFS with memoisation on the bitmask. For the first empty cell
  we try every placement covering it and recurse on the new mask. The memo map
  stores the minimum cost for each mask. If no placement fits, the state is
  impossible.
* The answer is the minimum cost found, or `-1` if no tiling covers the whole
  board.

This exhaustive search over at most 64 cells is feasible because tiles cover at
most three cells and memoisation prunes repeated subproblems.
