# [Can you answer these queries III](https://www.spoj.com/problems/GSS3/)

## Problem Summary
You are given an array of `N` integers (|Ai| â‰¤ 10000) and must process `M` operations:
- `0 x y`: set `A[x] = y`.
- `1 x y`: output the maximum subarray sum within `A[x..y]`.
Both `N` and `M` are up to 50,000.

## Algorithm
Maintain a segment tree where each node stores four integers for its range:
- `sum`: total sum of the segment.
- `pref`: maximum prefix sum.
- `suf`: maximum suffix sum.
- `best`: maximum subarray sum.

For a parent node combining left child `L` and right child `R`:
```
sum  = sumL + sumR
pref = max(prefL, sumL + prefR)
suf  = max(sufR, sumR + sufL)
best = max(max(bestL, bestR), sufL + prefR)
```
Each update or query touches `O(log N)` nodes.
