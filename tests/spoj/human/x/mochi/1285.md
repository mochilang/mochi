# [Continuous Fractions Again](https://www.spoj.com/problems/CFRAC2/)

## Problem Summary
Given an ASCII art representation of a simple continued fraction. Each test case provides an `m Ã— n` character matrix. Digits, '+', '-' and '.' describe a nested expression of the form `a1 + 1/(a2 + 1/(...))`. We must decode the matrix and output the equivalent fraction `p q` such that `p/q` equals the value of the continued fraction.

## Algorithm
1. Recursively evaluate the matrix.
   - If the matrix consists of a single row, it encodes an integer. Return `(p, q) = (value, 1)`.
   - Otherwise the second row has the form `a.+.---` where `a` is the next term and the dashes form a bar whose width equals the denominator below it. Extract the denominator submatrix under that bar.
   - Recursively evaluate the submatrix to obtain `(p_sub, q_sub)`.
   - Combine using `p = a * p_sub + q_sub` and `q = p_sub`.
2. After evaluating the outermost matrix, print `p q`.

The computation uses big integers, matching the constraint `10^20 > p > q > 0`.
