# [IMPORT1 - The Importance](https://www.spoj.com/problems/IMPORT1/)

Given an undirected weighted graph, the importance of a vertex is the sum over all unordered pairs of distinct vertices \(s,t\) of the fraction of shortest paths from \(s\) to \(t\) that pass through the vertex.

## Algorithm
1. For each source vertex run Dijkstra to get shortest distances and counts of shortest paths to every node.
2. Record predecessors of each node on shortest paths and push nodes onto a stack in order of nondecreasing distance.
3. Pop nodes from the stack to propagate dependencies back to their predecessors as in Brandes' betweenness centrality algorithm.
4. Accumulate the dependency values into the importance score for each vertex.
5. Divide scores by two for undirected graphs and print with three decimal places.

This algorithm runs in \(O(nm \log n)\) time which is fast enough for \(n \le 100\) and \(m \le 4500\).
