# [The Long and Narrow Maze](https://www.spoj.com/problems/MAZE/)

## Problem Summary
We are given up to 200000 columns forming a maze of 3 rows. Each cell contains a block
of type 0 (empty), 1 (straight pipe) or 2 (bent pipe). Each block may be rotated by
multiples of 90 degrees. Determine for each test case whether it is possible to rotate
the blocks so that a continuous passage exists from the left edge to the right edge
of the maze.

## Algorithm
1. Store the three rows of block types.
2. Perform a breadth‑first search over states `(row, column, entryDir)` where
   `entryDir` indicates the direction from which the path enters the cell.
3. Depending on the block type and entry direction, determine the valid exit
directions:
   - type 1: straight; exit opposite the entry (left↔right or up↔down).
   - type 2: corner; exit is perpendicular to entry.
4. If an exit goes out of the last column to the right, a solution exists.
   Otherwise enqueue neighbouring cells that contain a non‑empty block with the
   corresponding opposite entry direction.
5. If BFS finishes without reaching the right edge, no path exists.

The BFS explores at most `3 * n * 4` states, so the complexity is `O(n)`.
