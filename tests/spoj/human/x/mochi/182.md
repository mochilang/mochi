# Window

[Problem statement](https://www.spoj.com/problems/WINDOW1/)

## Algorithm

1. Collect all distinct `y`-coordinates from the polygon vertices and the window's top and bottom edges.
2. Sort these values and examine each consecutive pair, forming horizontal strips between them.
3. For a strip with midpoint `y` inside the window:
   - For every vertical edge of the polygon that crosses this `y`, record its `x` coordinate.
   - Sort these `x` values. Consecutive pairs describe intervals where the polygon interior lies on that horizontal line.
   - Clip each interval to the window's horizontal range and store it as a fragment for this strip.
4. Build a graph whose nodes are the stored intervals. Connect two intervals from adjacent strips if their `x` ranges overlap; such intervals belong to the same red fragment.
5. The answer is the number of connected components of this graph, found with a disjoint-set union (DSU).

## Correctness

- Sorting the `y` values ensures that the polygon's shape does not change inside a strip. Any point within a strip behaves identically with respect to the polygon.
- For a chosen `y` inside a strip, the polygon intersects the horizontal line at even crossings of its vertical edges. Each pair of crossings delimits a segment where the interior is red. Clipping by the window bounds leaves only visible portions.
- Two visible segments in neighboring strips belong to the same component exactly when their projections on the `x`-axis overlap; then there exists a path entirely within the polygon and window connecting them. DSU merges such overlapping segments, so each resulting set represents one connected red fragment.
- Therefore the DSU component count equals the number of separate red fragments visible through the window.

## Complexity Analysis

Let `n` be the number of polygon vertices and `s` the number of unique `y`-coordinates. For each of the `s` strips we examine all polygon edges, yielding `O(ns)` time. Union operations are linear in the number of intervals. With `n â‰¤ 5000`, this approach is efficient.
