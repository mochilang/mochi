# [Lifts](https://www.spoj.com/problems/LIFTS/)

## Problem Summary
Given several vertical lifts moving up and down between fixed limits, determine
the minimal time for a hero to cross a chasm by jumping from one lift to the
next. The hero starts on the near edge and must reach the opposite edge. He can
jump from one platform to the next only when both platforms are at the same
height. A jump must start exactly one second before the lifts align and ends two
seconds after the start. All lifts move one meter per second.

## Algorithm
For each adjacent pair of platforms compute the earliest time they can be at the
same height after the hero reaches the first platform.

1. Each lift performs a periodic triangular motion with period `2*(ui-li)`.
   Using modular arithmetic we can obtain its position and direction at any
   integer time.
2. The relative position of two lifts is linear during each one-second interval.
   If they are already level at time `t` or their height difference crosses zero
   in `(t, t+1]`, record the meeting time `T`.
3. Because the relative movement repeats every `lcm(periodA, periodB)` seconds,
   scanning up to one full period guarantees finding the earliest `T`, otherwise
   the crossing is impossible.
4. After finding `T`, the hero begins the jump at `T-1` and lands at `T+1`.
   Continue with the next pair of platforms.

If any step lacks a meeting time, output `-1`.

## Complexity
Let `P` be the maximum period among the two lifts considered.  Each search
checks at most `P` integer times, so for `n` lifts the complexity is
`O(n * P)` time and `O(1)` extra space with `P â‰¤ 400`.
