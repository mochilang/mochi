# [The lazy programmer](https://www.spoj.com/problems/LAZYPROG/)

## Problem Summary
You are given `N` contracts. Contract `i` normally takes `b_i` time and must finish no later than deadline `d_i`.
By paying extra `x_i` dollars, the programmer's time on that contract reduces linearly to `b_i - a_i * x_i`.
Payments affect contracts independently. The goal is to complete all contracts in time while paying the least
extra money.

## Algorithm
1. Sort contracts by their deadlines.
2. Process them in order while tracking the total time used and a maxâ€‘heap of processed
   contracts keyed by `a_i` (time saved per dollar) with their remaining times.
3. After adding a contract, if total time exceeds its deadline, repeatedly accelerate the
   contract with the largest `a_i`:
   - Reduce its remaining time by the needed amount (up to its whole time).
   - Pay `reduction / a_i` dollars and decrease the total time accordingly.
   - If the contract still has remaining time, reinsert it into the heap.
4. The sum of payments made is the minimal extra cost.

This greedy approach is optimal because whenever time must be removed we choose the contract that
provides the most time reduction per dollar. Sorting and heap operations give `O(n log n)` time and `O(n)` memory.
