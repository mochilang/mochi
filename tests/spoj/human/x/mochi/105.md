# [Alice and Bob](https://www.spoj.com/problems/ALICEBOB/)

## Problem Summary
Given a convex polygon with vertices numbered arbitrarily `1..n`, Alice provides Bob with the endpoints of all `n` sides and `m` nonâ€‘crossing diagonals (order unknown). From this information, reconstruct the order of vertices around the polygon. Output the permutation starting at vertex `1` and with the smaller neighbour of `1` as the second element.

## Algorithm
1. Build an undirected graph on `1..n` from the given edges.
2. Repeatedly remove vertices of degree `2`:
   - Let the vertex be `v` with neighbours `a` and `b`.
   - Push the triple `(a, v, b)` onto a stack.
   - Remove `v` and connect `a` with `b` if not already connected.
   - When degrees of `a` or `b` drop to `2`, enqueue them for processing.
3. After all removals, only two vertices remain; start a circular list with them.
4. Pop triples from the stack in reverse order and insert the middle vertex between its two neighbours in the list. This reconstructs the polygon boundary.
5. Traverse the reconstructed cycle starting from `1`; choose the smaller of its two neighbours as the next vertex and follow the links to output the vertex order.

The removal phase runs in linear time because each edge is considered only a constant number of times, and the reconstruction phase processes each vertex once.
