# ALL - All Discs Considered

We are given two DVDs with `N1` and `N2` packages.  Package `x` depends on
package `y`, meaning `y` must be installed before `x`.  We have to install all
packages while using only a single DVD drive.  Inserting a disc, replacing it
with the other one and removing the last disc all count as *changes*.

The problem becomes: find a topological ordering of the dependency DAG that
minimises the number of times we switch between discs.  The number of changes is
`segments + 1`, where a segment is a maximal contiguous block of packages taken
from the same disc.

## Algorithm

1. Build adjacency lists and indegree counts for all packages.
2. For each possible starting disc (DVD1 and DVD2) simulate a topological sort:
   - Maintain two queues of ready packages, one for each disc.
   - Process all currently available packages from the active disc.  When one is
     installed, release its dependents and append them to the queue of the disc
     they belong to.
   - When the queue for the active disc becomes empty but the other queue is not
     empty, switch discs and increment the change counter.
3. The simulation starts with one change for inserting the first disc and ends
   with one change for removing the last disc.  Take the minimum number of
   changes over the two starting discs.

The graph has up to `100000` nodes and edges, so the simulation runs in
`O(N + D)` time.
