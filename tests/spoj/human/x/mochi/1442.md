# CHAIN - Strange Food Chain

We have three animal types A, B and C with a cyclic eating relation:
A eats B, B eats C and C eats A. Given statements about animals being the same type or one eating another, we must count contradictions.

## Algorithm

For `n` animals, create a disjoint-set union structure with `3*n` elements:
- index `i` represents animal `i` being type A
- index `i+n` represents animal `i` being type B
- index `i+2n` represents animal `i` being type C

For statement `1 x y` (x and y same type):
- if `find(x)` conflicts with `find(y+n)` or `find(y+2n)` the statement is false
- otherwise union `(x,y)`, `(x+n,y+n)` and `(x+2n,y+2n)`

For statement `2 x y` (x eats y):
- if `x == y`, or `find(x)` equals `find(y)` or `find(y+2n)` the statement is false
- otherwise union `(x,y+n)`, `(x+n,y+2n)` and `(x+2n,y)`

Process all statements and output the number of false ones.

This DSU approach allows us to encode the cyclic relationships and detect contradictions in near constant time per statement.

