# [Help the Military Recruitment Office!](https://www.spoj.com/problems/HMRO/)

## Problem Summary
Given a list of recruits with their PESEL identifiers and MRO codes,
plus a list of closed MRO codes with their replacement codes, answer
queries for recruits: for each requested PESEL print the PESEL and the
new MRO code after all closures are applied.

## Algorithm
1. Read the initial mapping of `PESEL -> MRO`.
2. Read redirections `old -> new` for closed MROs and store them in a
   map.
3. To resolve an MRO code, recursively follow the redirection map until
   a code without further redirection is found, applying path compression
   to speed up future queries.
4. For each queried PESEL, lookup its original MRO, resolve the final
   code, and output `PESEL finalMRO`.

The path compression makes repeated lookups efficient, yielding roughly
O(1) time per query and linear memory usage.
