# [Unite Fast](https://www.spoj.com/problems/UFAST/)

## Problem Summary
Given up to 100 agents on a line and a communication range `D`, agents may move along the line. After the moves the network must be connected, meaning the distance between consecutive agents is at most `D`. We must find:

1. Minimal time when all agents move simultaneously (time = maximum distance moved by any agent).
2. Minimal time when agents move one after another (time = sum of distances moved).

Positions and `D` are integers in `[0, 1000]`.

## Algorithm
1. Sort the initial positions.
2. **Independent movement**
   - Binary search the smallest `t` such that every agent can end within `t` units of its start.
   - For a candidate `t`, maintain a feasible interval `[L, R]` for the current agent's final position.
   - Start with `[x₁ - t, x₁ + t]`. For each subsequent agent `i`:
     - Intersect `[x_i - t, x_i + t]` with `[L, R + D]` and set the result as the new `[L, R]`.
     - If the intersection is empty, the candidate `t` fails.
   - The minimal `t` found by binary search is the answer for independent movement.
3. **Sequential movement**
   - Dynamic programming on the agents and final positions.
   - `dp[i][p]` – minimal total distance after placing the first `i+1` agents with agent `i` at position `p` (`0 ≤ p ≤ 1000`).
   - Transition: `dp[i][p] = |x_i - p| + min_{k \in [max(0, p-D), p]} dp[i-1][k]`.
   - The result is `min_p dp[n-1][p]`.

The binary search runs in `O(n log 1000)` and the DP in `O(n * 1000 * D)` which is easily fast enough for the constraints.
