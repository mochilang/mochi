# [Frequent values](https://www.spoj.com/problems/FREQUENT/)

## Problem Summary
Given a non-decreasing sequence of integers, answer queries asking for the number of occurrences of the most frequent value in a subarray.

## Algorithm
1. Scan the array to group equal adjacent numbers. For each index record the start, end, and total length of its value's run.
2. Build a segment tree over the run lengths to query the maximum frequency inside any interval.
3. To answer a query `[l, r]` (1-indexed):
   - If the first and last values are equal, the answer is `r - l + 1`.
   - Otherwise compute counts of the partial runs on both ends and query the segment tree for the interior segment. The result is the maximum of these three values.

This approach preprocesses in `O(n)` and answers each query in `O(log n)` time.
