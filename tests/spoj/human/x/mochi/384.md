# [Any fool can do it](https://www.spoj.com/problems/FOOL/)

## Problem Summary
Given several strings composed only of the characters `{`, `}`, and `,`, determine for each whether it represents a set according to the grammar:

```
Set          ::= "{" Elementlist "}"
Elementlist  ::= <empty> | List
List         ::= Element | Element "," List
Element      ::= Atom | Set
Atom         ::= "{" | "}" | ","
```

## Algorithm
We perform a recursive descent parse of the input word.

- `parseSet` consumes an opening brace, an optional element list and a closing brace.
- `parseElementList` either detects an empty list or parses a commaâ€‘separated `List` of elements.
- `parseElement` tries to parse a nested set first; if that fails it accepts a single character atom.

Each function returns the position after the parsed fragment or `-1` on failure. A word is valid if `parseSet` starting at position 0 succeeds and consumes the entire string.

The parsing runs in linear time `O(n)` per word because each character is processed at most once.
