# [Treats for the Cows](https://www.spoj.com/problems/TRT/)

## Problem Summary
Given N treats in a row, treat i has base value v[i]. Each day you may sell the leftmost or rightmost remaining treat. The price of a treat increases with age: if it is sold on day a, you earn v[i] * a. Choose the selling order to maximize total revenue.

## Algorithm
Use dynamic programming on intervals.  Let `dp[l][r]` be the maximum revenue obtainable from treats `l..r`.  The current day (age) for this state is `N - (r - l)` because `N - (r - l + 1)` treats have already been sold.  The recurrence is:

```
dp[l][r] = max(age * v[l] + dp[l+1][r],
               age * v[r] + dp[l][r-1])
```

We iterate over lengths from 1 to N and fill the table bottom-up.  The answer is `dp[0][N-1]`.

This runs in O(N²) time with O(N²) memory.
