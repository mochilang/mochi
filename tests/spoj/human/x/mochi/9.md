# [DIRVS - Direct Visibility](https://www.spoj.com/problems/DIRVS/)

Given a grid of terrain heights and two base stations, move from the first
station to the second using only north/south/east/west steps.  Each move may
climb at most one metre or descend at most three metres, and after every step
at least one of the two stations must be directly visible (line of sight
between cube centres must not intersect any solid cube).

## Algorithm

1. **Visibility precomputation** – For every cell and for each station, check
   if the station is visible from that cell.  Treat technician and station as
   points at the centres of cubes half a metre above the ground.  Sample the
   connecting segment in small increments (`dist * 20` steps) and ensure no
   intermediate cube blocks the view.
2. **Breadth‑First Search** – Perform BFS from the starting station.  A move to
   a neighbouring cell is allowed only when the height difference constraint
   holds and at least one station is visible from the destination cell (using
   the precomputed tables).  The first time the target cell is dequeued gives
   the minimal number of steps.
3. If the queue empties without reaching the target cell, output
   `Mission impossible!`.

The precomputation and BFS each examine at most `P*Q` cells (`P,Q ≤ 200`),
making the solution feasible for the problem limits.
