# [Connections](https://www.spoj.com/problems/CONNECT/)

## Problem Summary
Given a directed graph of up to 100 towns with weighted one‑way roads, answer up to 10,000 queries of the form `(c, d, k)`, asking for the length of the `k`‑th shortest route from town `c` to `d`. Routes may repeat towns and edges. If fewer than `k` routes exist, return `-1`.

## Algorithm
1. Read the graph and all queries. Group queries by their source town `c`.
2. For each source `s` that has queries:
   - For every destination `d` in its queries, determine the largest `k` requested.
   - Run a modified Dijkstra's algorithm from `s` that allows visiting a node multiple times. Maintain for each node a list of found path lengths. Stop expanding a node once the required number of paths for that node is reached.
   - The priority queue stores pairs `(distance, node)`; whenever we pop a node, the current distance is appended to its list and we push its outgoing edges with the new distance.
3. After the run, answer each query `(c,d,k)` using the `k`‑th entry of the list for `d` if it exists, otherwise `-1`.

This approach computes all needed `k` shortest paths for each source only once, keeping the total complexity around `O(S * k * m log m)`, where `S` is the number of distinct sources.
