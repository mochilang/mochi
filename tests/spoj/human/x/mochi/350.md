# [Landscaping](https://www.spoj.com/problems/LANDSCAP/)

## Problem Summary
Given a profile of `N` integer elevations, reduce elevations (never increase) so that the resulting landscape has at most `K` peaks. A peak is a maximal contiguous block of equal heights with lower height on both sides or the boundary. Removing one unit of elevation costs one unit of volume. For each test case output the minimum volume of earth to remove.

## Algorithm
1. Precompute for every interval `[l, r]` the minimum cost to make it
   non-decreasing (prefix of a peak) and non-increasing (suffix of a peak).
   Because we may only lower heights, the optimal strategy for a non-decreasing
   interval is to scan from right to left, lowering each element that exceeds
   the minimum to its right. The non-increasing cost is symmetric scanning from
   left to right.
2. Dynamic programming over a decomposition into alternating rising and falling
   segments. For `k` peaks the landscape consists of `2k` segments: rising then
   falling for each peak. For each `k` up to `K` compute `dp[j][i]` – the minimum
   cost to cover the first `i` positions using `j` segments, alternating between
   rising and falling. The transition considers every possible split point of
   the last segment using the precomputed costs.
3. The answer for a test is the minimum over all `k ≤ K` of `dp[2k][N]`.

The precomputation is `O(N^2)` and the DP is `O(K·N^2)` which fits within the
constraints `N ≤ 1000` and `K ≤ 25`.
