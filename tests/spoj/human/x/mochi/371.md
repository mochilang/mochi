# [BOXES - Boxes](https://www.spoj.com/problems/BOXES/)

Given \(n\) circularly arranged boxes containing at most \(n\) balls in total,
move balls between neighbouring boxes so that no box holds more than one ball
using the minimum number of moves.

## Algorithm

1. For each rotation of the circle, treat the boxes as a linear array starting
   at that point.
2. In the rotated array collect two lists:
   * `extras` – positions of balls exceeding one per box.
   * `zeros` – positions of empty boxes that can receive a ball.
3. Match `extras` to a subset of `zeros` using dynamic programming:
   \(dp[i][j]\) = minimum cost to place the first `i` extra balls into the first
   `j` zero boxes.
   \[
   dp[i][j] = \min(dp[i][j-1],\; dp[i-1][j-1] + |extras[i-1] - zeros[j-1]|)
   \]
   The DP allows skipping unused zero boxes.
4. The cost for the rotation is \(dp[m][z]\) where \(m\) and \(z\) are the
   counts of extras and zeros.  Take the minimum cost over all rotations.

This runs in \(O(n\,m\,z)\) time with \(m\) extra balls and \(z\) empty boxes
(\(n \le 1000\)).
