# [DEL Command](https://www.spoj.com/problems/DELCOMM/)

## Problem Summary
Given a directory listing, some files are marked with `-` and must be deleted
and others are marked with `+` and must be kept.  Determine whether a single
MS-DOS `DEL` command using wildcards (`?` for one character and `*` only as the
last character of the name or extension) can delete exactly the `-` files and
none of the `+` files.

## Algorithm
1. **Separate names and extensions.**  For every file split the string at the
   dot into a name (1–8 chars) and an optional extension (0–3 chars).
2. **Generate candidate patterns for the name** and for the extension
   independently.  From the delete list:
   - If all lengths are equal, build a pattern of the same length where a
     character is kept if all files agree, otherwise `?`.
   - For every prefix length `p` of the shortest string, build the same prefix
     pattern but append `*` so that additional characters are allowed.
3. **Combine name and extension patterns.**  For each pair, verify that it
   matches every `-` file and none of the `+` files by a simple matcher that
   understands `?` and an optional trailing `*`.
4. **Return the first valid wildcard** as `DEL <pattern>` or `IMPOSSIBLE` if no
   pattern works.

The number of candidate patterns is small (≤10 for the name × ≤5 for the
extension).  Matching each pattern against all files is `O(N · L)` where `N ≤
1000` and `L ≤ 11`, easily fast enough.
