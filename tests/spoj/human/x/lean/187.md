# [Flat broken lines](https://www.spoj.com/problems/FLBRKLIN)

## Problem Summary
We are given up to 30,000 points with integer coordinates. A *flat broken line* is a polyline drawn from left to right where every segment forms an angle between -45° and 45° with the x‑axis. We must cover all points using the minimum number of such lines; a point is covered if it lies on one of the lines.

## Algorithm
1. Transform each point `(x, y)` to `(u, v)` where `u = x + y` and `v = x - y`. A segment from point A to B is valid iff both `u` and `v` are non‑decreasing.
2. Sort the transformed points by `u` ascending; for equal `u` sort by `v` descending. Extract the sequence of `v` values in this order.
3. The minimum number of flat broken lines equals the length of the longest strictly decreasing subsequence of this `v` sequence. Compute it using the patience sorting technique in `O(n log n)` time.
4. Output this length for each test case.

## Complexity
For `n` points we sort them and compute the subsequence in `O(n log n)` time and `O(n)` memory.
