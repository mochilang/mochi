# [Another Mathematical Problem](https://www.spoj.com/problems/AMATH/)

## Problem Summary
Given a large integer `n` (1 ≤ n < 10^100) and `k` (1 ≤ k ≤ 100),
find the smallest positive integer `T` such that for every `a ≥ 1`,
`n^{a+T} - n^a` is divisible by `10^k`.  Output `-1` if no such `T` exists.
Multiple test cases are provided until EOF.

## Algorithm
1. Let `v2` and `v5` be the exponents of 2 and 5 in the factorisation of `n`.
2. If `0 < v2 < k` or `0 < v5 < k`, no `T` can satisfy the condition because
   `n^T - 1` is not divisible by that prime.  Print `-1`.
3. Otherwise compute the period for each prime:
   - If `v_p ≥ k` then the prime is already satisfied and contributes `1`.
   - If `v_p = 0`, find the multiplicative order of `n` modulo `p^k` by
     starting from `φ(p^k)` and repeatedly dividing by the prime factors 2 and 5
     while `n^{ord/p} ≡ 1 (mod p^k)`.
4. The final answer is `lcm(order_2, order_5)`.

## Correctness
- Step 1 derives `v2` and `v5` so that for every `a`,
  `v_p(n^{a+T} - n^a) = v_p(n) + v_p(n^T - 1)`.
- If `0 < v_p(n) < k`, then `v_p(n^T - 1) = 0` and the sum cannot reach `k`.
- When `v_p(n) = 0`, the requirement reduces to `n^T ≡ 1 (mod p^k)`, hence the
  order computation in step 3 yields the minimal `T` satisfying the condition
  for that prime power.
- Taking the least common multiple of the orders for 2 and 5 ensures the result
  works for both primes simultaneously.

## Complexity
Let `k ≤ 100`.  Computing the multiplicative order uses repeated squaring with
`O(log φ(p^k))` multiplications on numbers of at most `10^100`.  Thus each test
case runs in polynomial time in `k` and `log n`.
