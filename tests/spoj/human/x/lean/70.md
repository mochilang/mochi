# [Relations](https://www.spoj.com/problems/RELATS1/)

## Problem Summary
Given a directed graph with labels `<`, `>` and `=` on edges, determine the smallest
integer `k` such that the vertices can be assigned numbers from `0..k` satisfying
all relations along edges.  Output `NO` if there is no assignment for any `k`.

## Algorithm
1. **Union equal vertices** – edges with label `=` mean two vertices must receive
the same number.  We use a union–find structure to collapse such vertices.
2. **Build order constraints** – for each `<` edge we add a directed edge
`u -> v` meaning `label[v] >= label[u] + 1`; for `>` edges we add
`v -> u`.  If an inequality connects two vertices in the same union–find
component, the instance is impossible.
3. **Topological order** – the condensed graph must be acyclic.  We perform
Kahn's algorithm.  During the traversal we maintain the longest distance
from any source to each vertex, effectively the minimum label forced by the
constraints.
4. **Result** – if all vertices are processed, the maximum distance is the
minimum `k`.  If some vertices remain unprocessed, the graph has a cycle of
strict relations and the answer is `NO`.

The complexity is `O(n + m)` for `n` vertices and `m` edges.
