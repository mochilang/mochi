# PALACE - Accomodate the palace

[Problem Link](https://www.spoj.com/problems/PALACE/)

## Algorithm

To fill an `N × N` palace with people such that every row and column contains an odd number of people, observe that the first `(N-1) × (N-1)` rooms can be assigned arbitrarily. Once these cells are fixed:

1. For each of the first `N-1` rows, choose the last cell to make the row count odd.
2. For each of the first `N-1` columns, choose the last cell to make the column count odd.
3. The bottom-right cell must satisfy both the last row and last column parity, which coincides automatically.

Thus every configuration is determined by the `(N-1)^2` freely chosen cells, yielding `2^{(N-1)^2}` valid arrangements. The answer is this value modulo `98777`, computed with fast binary exponentiation.

## Complexity

For each test case the exponentiation runs in `O(log (N^2))` time and constant memory.
