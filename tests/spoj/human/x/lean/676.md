# LSORT - Sorting is not easy

[Problem Link](https://www.spoj.com/problems/LSORT/)

An N-element permutation must be sorted into the increasing sequence by repeatedly
moving one element from the permutation to either end of the growing sequence.
At step *i* choosing the *x*-th remaining element costs `x * i`.
Only numbers adjacent to the current range may be added so that the final sequence is `1..N`.

## Algorithm

1. Compute `pos[v]`, the original index of each value in the permutation.
2. Precompute `less[v][i]` — how many numbers `<= i` appear before `v` in the original permutation.
   This gives the rank of any value after removing a contiguous interval.
3. Dynamic programming on value intervals: `dp[l][r]` is the minimum cost to build the
   consecutive block `[l..r]`.
   - Base: `dp[i][i] = pos[i]`.
   - Transition: extend `[l+1..r]` by `l` or `[l..r-1]` by `r`, adding the corresponding
     rank multiplied by the current length.
4. Answer is `dp[1][N]`.

The DP runs in `O(N^2)` time and `O(N^2)` memory for `N ≤ 1000`.

