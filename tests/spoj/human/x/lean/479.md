# SPOJ TPERML in Lean

Link: [https://www.spoj.com/problems/TPERML/](https://www.spoj.com/problems/TPERML/)

## Algorithm
1. **Factoradic conversion**
   - Convert the given index to factoradic digits. For `i` from `1` to `n`:
     - `digit[i] = index mod i`.
     - `index = index / i`.
   - The digits describe how many elements to skip when building the permutation.
2. **Build initial permutation**
   - Start with the list `[1, 2, ..., n]`.
   - Process digits from the most significant to least:
     - Remove the `digit`-th element from the list and append it to the result.
3. **Generate subsequent permutations**
   - Use the standard lexicographic next permutation algorithm:
     - Find the longest non-increasing suffix.
     - Swap the pivot with the smallest larger element in the suffix.
     - Reverse the suffix.
   - When the last permutation is reached, the next permutation is the sorted list `[1..n]`.
4. **Repeat** step 3 `m` times, printing each permutation.

This approach runs in `O(n*m)` time per test case with `O(n)` additional space.
