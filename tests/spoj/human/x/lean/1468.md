# RAIN2 - Outside it is now raining

[Problem link](https://www.spoj.com/problems/RAIN2/)

## Algorithm

For each test case we need the total volume of rain that reaches the ground
on a crosswalk of length `W` during `T` seconds.  There are `N` umbrellas
moving horizontally above the crosswalk.  Every umbrella has length `l` and
moves with speed `v`, bouncing back when it reaches either end of the
crosswalk.  Rain falls vertically with volume `V` per square meter per second.

The task reduces to integrating the uncovered length of the crosswalk over
`[0, T]` and multiplying by `V`.

1.  The horizontal motion of an umbrella is a saw‑tooth function.  For an
    umbrella starting at position `x` (left end), length `l` and speed `v`,
    the position of its left edge at time `t` is computed by reflecting the
    motion inside `[0, W-l]`:

    ```
    p = x + v*t
    p = p mod (2*(W-l))
    if p < 0      then p += 2*(W-l)
    if p > W-l    then p = 2*(W-l) - p
    ```

2.  We sample the interval `[0, T]` using `100000` equally spaced midpoints.
    For each sample time we compute all umbrella intervals `[p, p+l]`, sort
    them, and merge to obtain the total covered length.

3.  The uncovered length is `W - covered`.  Summing it over all samples and
    multiplying by the time step and `V` yields the total volume of rain that
    reaches the ground.

4.  The final answer is rounded to two decimal places.

The limits (`N ≤ 10`, `W ≤ 100`, `T ≤ 100`) make a fixed high resolution of
`100000` samples feasible while still providing sufficient precision for the
required two decimal places.

## Complexity

Let `S = 100000` be the number of time samples and `N` be the number of
umbrellas.  For each sample we sort and merge at most `N` intervals.  The time
complexity is `O(S * N log N)` and the memory usage is `O(N)`.
