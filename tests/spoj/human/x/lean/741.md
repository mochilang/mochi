# Steady Cow Assignment

We have `N` cows and `B` barns.  Every cow lists the barns in order of
preference and each barn has a limited capacity.  A cow's happiness is the
position (1‑indexed) of her assigned barn in her list.  The goal is to assign
cows to barns so that no capacity is exceeded and the range of happiness values
(`max - min + 1`) is minimized.

Because `B ≤ 20`, we can brute force the range width.  For each width `w` from
1 to `B`, and each starting rank `l`, we consider the interval `[l, l+w-1]` of
allowed ranks.  We check if it is possible to assign all cows using only barns
that appear in that range of each cow's list.

To test feasibility we build a flow network:

* source → each cow with capacity 1
* cow → barn edges (capacity 1) if the barn occurs within the chosen rank
  interval for that cow
* barn → sink edges with capacity equal to the barn's capacity

Running an Edmonds–Karp max flow on this network tells us if all cows can be
assigned (flow `= N`).  The first width that succeeds is the minimal range.
The complexity is acceptable: at most `B²` (≤400) flow runs on graphs with up
to ~1000 nodes and `N*w` edges.
