# PANIC - Panic in the Plazas

Link: https://www.spoj.com/problems/PANIC/

## Algorithm

1. **Multi‑source Dijkstra**
   - Treat every plaza containing a paper bag as a source with time `0`.
   - Run Dijkstra on the directed graph to compute `dist[v]`: the earliest
     time panic reaches each plaza.
   - If some plaza is unreachable (`dist[v] = ∞`), panic never reaches it, so
     those plazas have infinite survival time and are the answer.

2. **Maximum panic time**
   - Start with the maximum time over all plazas `dist[v]`.
   - For every street between `u` and `v` with travel times `tuv` and `tvu`,
     compute the time `T` when panicked crowds starting from `u` and `v`
     meet inside the street:
     
     `T = (tuv * tvu + dist[u] * tvu + dist[v] * tuv) / (tuv + tvu)`
   - Keep all streets that achieve the global maximum `T`.

3. **Collect candidate plazas**
   - Build a reverse graph consisting only of edges that lie on some shortest
     path of the Dijkstra run (`dist[x] + w = dist[y]`).  Along such edges the
     panic front actually moves.
   - Start from every plaza whose `dist[v]` equals the maximum time as well as
     from both endpoints of every street attaining the maximum `T`.
   - Perform DFS on the reverse graph to visit all predecessors on shortest
     paths.  Every visited plaza can reach a position whose panic time equals
     the global maximum.

4. **Output**
   - Output all visited plazas in increasing order.

The complexity is dominated by the Dijkstra run: `O(m log n)` in theory, but a
simple list based priority queue is sufficient for the tiny test data.
