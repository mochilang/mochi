# AVARY - Avaricious Maryanna

We search for all $N$-digit integers $x$ such that the last $N$ digits of $x^k$ are always $x$ for every $k \ge 1$.  
This condition is equivalent to $x^2 \equiv x \pmod{10^N}$, i.e. $x$ is an automorphic number modulo $10^N$.

For base $10$ there are only two non-trivial automorphic sequences: numbers ending with `5` and numbers ending with `6`.  
Starting from `5` and `6`, we can lift the solutions to the next number of digits.  
Suppose $x$ satisfies $x^2 \equiv x \pmod{10^n}$ and let $p=10^n$.  
Let $q = \frac{x^2 - x}{p}$ and choose a digit $d$ such that
$$d(1-2x) \equiv q \pmod{10}.$$  
Then $y = x + d \cdot p$ is the unique extension with $n+1$ digits satisfying $y^2 \equiv y \pmod{10^{n+1}}$.
For numbers ending with `5` the inverse of $(1-2x)$ modulo $10$ is `1`, and for numbers ending with `6` it is `9`.

By iteratively applying this lifting up to $500$ digits we precompute all possible passwords.  
For each queried $N$ we output all $N$-digit numbers obtained from the two sequences (and `0` and `1` for $N=1$) in increasing order, or `Impossible` if none exist.
