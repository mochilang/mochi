# EDIT2 - Editor Inverse

Given a target line of text, the editor allows three keys:

* typing a character appends it to the current line,
* `d` duplicates the entire line (doubling its length),
* `\n` starts a new line; if an empty line is produced, the program ends.

To minimise keystrokes we compute two layers of dynamic programming:

1.  For every substring we calculate the minimal number of keystrokes
    needed to create it inside a single line.  The recurrence is:
    appending the last character or, when the substring consists of two
    identical halves, duplicating the first half.  Alongside the cost we
    store how many `d` operations are used to break ties.

2.  Using these substring costs we split the whole string into several
    lines.  For each prefix the best previous split is chosen by
    comparing the total cost (including the cost of newlines), the number
    of lines and then lexicographically by the costs of individual lines.

Finally we reconstruct the sequence of keystrokes for every line from the
stored decisions.  The total number of keystrokes printed includes the
final terminating newline.
