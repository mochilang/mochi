# PT07G - Colorful Lights Party

The task is to color the lights of a tree so that:

* each of the `n` lights receives a unique color id from `0` to `n-1`, and
* every wire has a unique color determined by the absolute difference of the
  colors of its two endpoints.

For small halls (general tree with `n ≤ 27`) we perform a backtracking search
assigning edge differences from `n-1` down to `1`.  We keep arrays of assigned
colors and of used colors and recursively extend the labeling by picking a
labeled vertex with an unlabeled neighbour and trying the two possible colors
`current ± diff`.  If all differences are placed we obtain a graceful labeling.

For large halls the wiring forms a "spider" with `k` legs of equal length.  Let
`m = t + 1` be the number of lights on each leg.  The color of the light on leg
`i` (1‑based) at level `j` is given explicitly by

```
if j is odd:  color = (k - i + 1) * m - (j-1)/2
else:         color = (i - 1) * m + j/2
```

and node ids follow the level order described in the statement.  This formula
produces all colors `0..n-1` exactly once and yields all differences
`1..n-1`, so the labeling is graceful.
