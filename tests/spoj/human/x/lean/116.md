# [Intervals](https://www.spoj.com/problems/INTERVAL)

## Problem Summary
We are given `n` integer intervals `[a_i, b_i]` and numbers `c_i`. We seek the
smallest set `Z` of integers such that every interval `[a_i, b_i]` contains at
least `c_i` elements of `Z`.

## Algorithm
1. Sort the intervals by their right endpoint.
2. Maintain a Fenwick tree counting selected points and a disjoint-set union
   over positions `0..50000` to quickly obtain the largest unused point not
greater than a given bound.
3. For each interval `[a, b, c]` in order:
   - Use the Fenwick tree to determine how many points are already selected in
     `[a, b]`.
   - Let `need = max(0, c - existing)` be the number of additional points
     required.
   - While `need > 0`:
     * Find the largest unused position `p â‰¤ b` using the DSU.
     * Mark `p` as used, update the Fenwick tree at `p`, and union `p` with `p-1`.
     * Decrease `need` and continue searching below `p`.
4. The number of inserted points equals the minimal size of `Z`.

## Complexity
Sorting the intervals takes `O(n log n)`. Each inserted point performs one
Fenwick update and a few DSU operations, which are `O(log 50000)` and almost
constant time, respectively. The total complexity is therefore `O(n log n)`.
