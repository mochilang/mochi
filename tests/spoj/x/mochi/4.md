# [SPOJ ONP - Transform the Expression](https://www.spoj.com/problems/ONP/)

This problem asks to convert fully parenthesized infix expressions into Reverse Polish Notation (postfix). Operands are lowercase letters and operators include `+`, `-`, `*`, `/`, and `^` with usual precedence and associativity (`^` is rightâ€‘associative).

## Algorithm

We use the classic **shunting-yard** algorithm:

1. Scan the expression from left to right.
2. When encountering an operand, append it directly to the output string.
3. When encountering an operator `op`:
   - While the stack top is an operator with higher precedence, or with equal precedence and `op` is left-associative, pop it to the output.
   - Push `op` onto the stack.
4. When encountering `(`, push it onto the stack.
5. When encountering `)`, pop operators from the stack to the output until a `(` is removed.
6. After processing the expression, pop any remaining operators to the output.

This guarantees an output with operators in postfix order.

## Correctness

- Parentheses ensure that operators within them are processed before outside ones, because we push `(` onto the stack and pop until `)`.
- Operator precedence and associativity are enforced by the conditions when popping from the stack, so higher-precedence operators are output before lower-precedence ones.
- Every operand is appended exactly once in the order they appear, so the resulting string is a valid RPN expression equivalent to the original.

## Complexity

Let `n` be the length of the expression. Each character is processed a constant number of times (pushing or popping from the stack), yielding **O(n)** time. The stack stores at most `n` operators, giving **O(n)** space usage.

## Reference

- [SPOJ ONP - Transform the Expression](https://www.spoj.com/problems/ONP/)
