# [Complicated Expressions](https://www.spoj.com/problems/CMEXPR)

Given up to 10,000 algebraic expressions containing lowercase variables,
operators `+`, `-`, `*`, `/` and parentheses, output each expression with all
unnecessary parentheses removed while preserving the original evaluation order.

## Algorithm
1. Parse the expression into an abstract syntax tree using recursive descent
   with grammar:
   - `expr -> term {(+|-) term}`
   - `term -> factor {(*|/) factor}`
   - `factor -> variable | '(' expr ')'`
2. Emit the expression by traversing the tree.
   - Insert parentheses when the child's precedence is lower than its parent.
   - For operators `-` and `/`, also parenthesize the right child when it has
     the same precedence.

This removes every redundant pair of parentheses in linear time.
