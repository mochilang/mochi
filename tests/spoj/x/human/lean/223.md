# [Ha-noi!](https://www.spoj.com/problems/HAN01)

## Problem Summary
We are given the number of disks `n` in a Tower of Hanoi puzzle and the number of moves `k` already performed when transferring the stack from peg 1 to peg 2 using the optimal strategy. For each test case we must output the configuration of the three pegs after these `k` moves. Each line should list the disks on a peg from largest to smallest separated by `|`.

## Algorithm
1. Store the peg of each disk in an array `pos`, initially filled with `1` since all disks start on peg 1.
2. Use a recursive procedure `positions(n, src, dst, aux, k)`:
   - If `n = 0` or `k = 0`, return.
   - Let `half = 2^(n-1)`.
   - If `k < half`, recurse on `positions(n-1, src, aux, dst, k)` because the largest disk has not moved yet.
   - Otherwise all smaller disks have moved to `aux` and disk `n` moves to `dst`:
     - Set `pos[1..n-1]` to `aux` and `pos[n]` to `dst`.
     - Recurse on `positions(n-1, aux, dst, src, k - half)`.
3. After filling `pos`, build the output for each peg by iterating through disks `1` to `n` and inserting each at the front of its peg's list so that disks appear from largest to smallest.

This method uses only `O(n)` memory and runs in `O(n^2)` time, which is efficient for `n â‰¤ 60` even when `k` approaches `2^n`.
