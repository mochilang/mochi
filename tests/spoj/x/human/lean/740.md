# [TRT - Treats for the Cows](https://www.spoj.com/problems/TRT)

## Problem Summary
Farmer John has `N (1 ≤ N ≤ 2000)` treats lined up in a row. Each day he sells either the leftmost or rightmost treat. Treat `i` has value `v_i` and a treat sold on day `a` is worth `v_i * a`. The goal is to maximize total revenue by choosing an optimal order of selling.

## Algorithm
1. Let `dp[i][j]` be the maximum revenue obtainable from treats `i` through `j` (inclusive, zero-indexed).
2. When only the segment `i..j` remains, `N - (j - i)` treats have already been sold, so the current day (age of a treat sold now) is `age = N - (j - i)`.
3. Transition:
   - Sell leftmost treat: `v_i * age + dp[i+1][j]`.
   - Sell rightmost treat: `v_j * age + dp[i][j-1]`.
   - `dp[i][j] = max(...)`.
4. Base case: `dp[i][i] = v_i * N` because the last remaining treat is sold on day `N`.
5. Fill the table for increasing lengths `len = 2 .. N`.
6. The answer is `dp[0][N-1]`.

## Complexity
- Time: `O(N^2)`
- Memory: `O(N^2)`
