# SPOJ 1869 Macro Processor (Lean)

This implementation scans the input stream character by character and expands macros on the fly.
The processor maintains a list of user defined macros, each represented by a pair `(name, body)`.

## Evaluation rules

1. **Literal sections** – Text enclosed in `<` and `>` is copied directly to the output.
2. **Macro calls** – When a `[` is encountered the program parses the macro name and all
   arguments recursively. Each component may itself contain macro calls.
3. **Definition** – The special macro `def` takes two arguments. The first is the new macro name
   and the second is its body. Definitions are stored and produce no output.
4. **Expansion** – For any other macro call, occurrences of `$0`..`$9` in the stored body are
   replaced by the macro name and the corresponding arguments. The resulting string is then
   processed again so nested macros are supported.

The input for each test case is processed until a line containing `0` is read. Output formatting
follows the specification: a header `Case n`, a line of 79 hyphens, the macro processed text,
another line of hyphens and an empty line.
