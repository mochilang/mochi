# [SPOJ SEGVIS - Horizontally Visible Segments](https://www.spoj.com/problems/SEGVIS/)

## Algorithm

1. **Parse Input** for each dataset into vertical segments `(y1, y2, x)`.
2. **Sweep over y-coordinates** from `0` to `8000`:
   - Maintain a list of active segments sorted by their `x` coordinate.
   - Add segments whose `y1` equals current level.
   - Record horizontal visibility edges between consecutive active segments.
   - Remove segments whose `y2` equals current level.
   - After removals, record edges again to cover open intervals until the next level.
3. **Build visibility graph** from all discovered edges.
4. **Count triangles**: for each pair of adjacent segments, count common neighbors to form triangles.

## Complexity

Let `n` be the number of segments (â‰¤ 8000) and `m` the number of visibility edges.
Sweeping over the y-coordinates performs `O(n + 8000)` insertions and deletions with
edge detection between consecutive segments. Counting triangles iterates over edges
and adjacency lists. Overall time complexity is roughly `O(8000 * log n + m * deg)`
which is feasible for the given constraints. Space usage is `O(n + m)`.
