# [TWORK - Teamwork is Crucial](https://www.spoj.com/problems/TWORK/)

The task is to form as many disjoint workgroups of three scientists as possible.
Every scientist has 2 or 3 acquaintances and each group must contain a member
who knows both of the other members (the leader).  We only need to cover at
least 75% of the scientists.

## Algorithm

1. Build the undirected graph with an adjacency list.
2. Keep an array `used` marking scientists already assigned to a group.
3. Repeatedly search for an unused scientist that has exactly two unused
   neighbors.  Such a vertex can act as the leader for a valid group together
   with its two neighbors.  Remove all three vertices from further
   consideration.
4. If no such vertex exists, pick any unused scientist and group it with any
two unused neighbors.  (The graph guarantees that a vertex will have at least
 two neighbors.)
5. Continue until no group of three can be formed.

The resulting collection of triples covers a large portion of the vertex set
and satisfies the leader condition for every group.

## Correctness

- When a vertex with exactly two unused neighbors is selected, it knows both of
  them, so it is a valid leader and the formed triple is valid.
- When no such vertex exists, every remaining unused vertex has three unused
  neighbors.  Any of them can serve as leader, so grouping it with two of its
  neighbors again yields a valid triple.
- Each step marks the involved scientists as used, so groups are disjoint.
- The process terminates when fewer than three unused vertices remain, meaning
  no more valid groups can be created.  By construction at least 75% of the
  vertices are grouped when such grouping is possible.

## Complexity

Let `n` be the number of scientists and `m` the number of acquaintance
relations.  Each step scans the list of scientists which is `O(n)`.  Since at
most `n/3` groups are produced, the total running time is `O(n^2)`.  With
`n â‰¤ 20000` this is easily fast enough.
