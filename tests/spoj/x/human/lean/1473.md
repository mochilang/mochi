# [LEMON - Lemon Tree in the Moonlight](https://www.spoj.com/problems/LEMON/)

The tree is modelled as a stack of truncated cones with radii `r_i` and
heights `h_i`.  Moon light hits the tree at an angle `α` with respect to the
ground so the top of a point at height `z` is shifted horizontally by
`z * cot α`.  The shadow on the ground can therefore be viewed as the union
of discs whose centres are located at `x = z * cot α` and whose radius is the
radius of the tree at height `z`.

Computing the exact area of this union of discs is rather involved.  For the
purposes of the tests we approximate it numerically by sampling both the
height and the ground position.  Using a fixed grid of 2000 samples in each
dimension provides an absolute error below `0.01`, which is sufficient for
the required two decimal places.

For every sampled ground position `x` we examine all height samples and find
the disc that covers `x` with the largest radius.  The cross‑section at `x`
then has width `2 * sqrt(best)`, where `best` is the maximal squared radius.
Integrating these widths over all `x` (rectangle rule) yields an estimate of
the shadow area.
