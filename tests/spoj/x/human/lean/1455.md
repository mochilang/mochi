# ANALYS - Program Analysis

Link: https://www.spoj.com/problems/ANALYS/

## Algorithm

1. Read all sentences of the mini language, each having a numeric level and a body.
2. Parse every line into an instruction and sort the sentences by level so that we can
   move to the next statement simply by advancing an index.
3. Maintain an array of 26 integer variables (Aâ€“Z), all starting at zero.
4. Starting from the smallest level, execute the program:
   - `A+N` adds *N* to variable `A`.
   - `A?` outputs the value of `A` (ignored for counting).
   - `GO X` jumps to the sentence whose level is `X`.
   - `IF A=N GO X` jumps to `X` when `A` equals *N*, otherwise execution continues.
   - `END` terminates the program.
5. Count each executed sentence. If the count exceeds one million the program is
   considered non-terminating and the answer is `-1`.

## Correctness

The interpreter implements the semantics described in the statement:
- Sorting by level and starting from the smallest level ensures the same order as
  specified for normal execution.
- Each instruction updates variables and control flow exactly as defined.
- The counter is increased for every executed sentence and returned when `END` is
  reached.
- A program that loops forever must execute more than one million sentences; in such
  case we output `-1`.

## Complexity

Let `S` be the number of executed sentences. Each step performs constant work,
so the running time is `O(S)` and the memory usage is `O(1)` besides the program
storage.
