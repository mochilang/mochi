# [Tic-Tac-Toe ( II )](https://www.spoj.com/problems/TOE2)

## Problem Summary
Given a 3Ã—3 tic-tac-toe board described as a nine character string of `X`, `O`, and `.` (empty), determine whether it could be the final position of a valid game where `X` moves first. Input consists of multiple boards terminated by the line `end`.

## Algorithm
1. Count the number of `X`, `O`, and empty cells.
2. Detect whether `X` or `O` has a winning line among the eight possible rows, columns, or diagonals.
3. The position is **invalid** if any of these holds:
   - `O` has played more moves than `X` or `X` exceeds `O` by more than one move.
   - Both players have a winning line.
   - `X` wins but `X` does not have exactly one more move than `O`.
   - `O` wins but move counts are unequal.
   - Neither player wins and the board still contains empty cells.
4. Otherwise the position is **valid**.

The check runs in constant time per board since the board size is fixed.
