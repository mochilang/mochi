# BALL - Billiard

The ball rolls on an `x × y` board at 45°.  Using the method of reflections, the
trajectory becomes a straight line across mirrored boards.  Let `g = gcd(x−1,
y−1)`.  The starting field lies on the main period when `(a−1)` and `(b−1)` are
both multiples of `g`; in that case the ball only returns to the starting field
and exactly two squares obtain odd counts.

Otherwise the path traverses diagonals spaced by `g` cells.  The count of such
diagonals is `s = (x−1)/g + (y−1)/g`.  Each diagonal toggles the parity of four
cells.  If `s` is even the total number of squares with odd visits is `4s`; if
`s` is odd an additional two squares are toggled, giving `4s + 2`.
