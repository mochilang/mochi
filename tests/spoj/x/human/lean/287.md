# NETADMIN - Network Administrator

* Link: https://www.spoj.com/problems/NETADMIN/

## Problem Summary
We have a village with $n$ houses and $m$ undirected streets. The administrator lives in house $1$. A subset of $k$ houses must be connected directly to house $1$ using a single cable per house. Cables are coloured and for every street all cables passing through that street must have different colours. We want to minimise the number of colours needed.

## Solution Outline
For a fixed number of colours $C$ each street can carry at most $C$ cables because cables sharing a street must be of distinct colours. Hence, deciding whether $C$ colours are sufficient is equivalent to checking if we can route one unit of flow from house $1$ to every required house when every street has capacity $C$.

We model this as a flow problem:
- Add a super sink node $t$.
- For every required house $h_i$ add an edge $h_i \rightarrow t$ of capacity $1$.
- For every street $(u,v)$ add edges $u \leftrightarrow v$ each with capacity $C$.

Then there exists a feasible assignment if the max flow from $1$ to $t$ equals $k$.

To find the minimal number of colours we binary–search $C$ in $[1,k]$ and, for each candidate, run a unit augmenting–path Edmonds–Karp algorithm until either $k$ units of flow are sent or no augmenting path exists.

## Complexity Analysis
Let $n \le 500$ and $m$ be the number of streets. For a fixed $C$ the max‑flow sends at most $k$ units. Each augmentation uses BFS and touches $O(m)$ edges, so the time is $O(km)$ per check. The binary search adds a factor of $\log k$. Space usage is $O(n^2)$ for the capacity matrix.

## Correctness Argument
- With capacity $C$ on each street, any set of $k$ edge‑disjoint paths using at most $C$ cables per street corresponds to a feasible flow of value $k$ in the constructed network.
- Conversely, any flow of value $k$ can be decomposed into $k$ unit paths from node $1$ to each required house, where no street carries more than $C$ units; we can colour paths sharing a street with different colours, using at most $C$ colours.
- Thus, $C$ colours suffice iff the max flow equals $k$. Binary searching over $C$ yields the minimal such $C$.
