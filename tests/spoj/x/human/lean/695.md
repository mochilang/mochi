# [UFAST - Unite Fast](https://www.spoj.com/problems/UFAST/)

We are given `N` agents on a line. Two agents can communicate directly if
the distance between them is at most `D`.  Agents can move at unit speed to
new positions so that afterwards the communication graph is connected.  We
must compute the minimal time for two scenarios:

1. **Independent movement** – all agents move simultaneously.  Time is the
   maximum distance travelled by an agent.
2. **Sequential movement** – agents move one after another.  Time is the sum
   of travelled distances.

## Independent movement

After sorting the initial positions `x[i]`, we can binary search the minimal
maximal displacement `M`.  For a given `M`, we maintain an interval of
feasible positions for each agent.  The first agent can end anywhere in
`[x₀-M, x₀+M]`.  For every next agent the interval must intersect both the
movement bound `[xᵢ-M, xᵢ+M]` and the communication constraint
`[prevLow, prevHigh + D]`.  If the intersection ever becomes empty `M` is not
feasible.  The smallest feasible `M` is the answer for independent movement.

## Sequential movement

We use dynamic programming on integer positions between the minimum and
maximum initial positions.  Let `dp[i][p]` be the minimal total movement cost
for the first `i+1` agents when agent `i` ends at position `p`.  Transitions
look back to positions `q` with `p-D ≤ q ≤ p` to respect the distance and
ordering constraint:

```
dp[i][p] = |x[i] - p| + min_{q ∈ [p-D, p]} dp[i-1][q]
```

We iterate over agents, maintaining arrays of size at most 1001 and scanning
at most `D ≤ 100` previous states.  The minimum over the last row yields the
sequential movement time.

Both procedures run easily within the given limits (`N ≤ 100`, positions up
to 1000).
