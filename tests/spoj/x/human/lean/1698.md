# [Polygonal Line Search](https://www.spoj.com/problems/PLSEARCH/)

## Problem Summary
Given a template polygonal line and a list of other polygonal lines, all composed of axis-aligned segments, report which lines have exactly the same shape as the template. Two lines are considered the same when one can be translated and rotated by multiples of 90° (and optionally traversed in reverse) to overlap the other without scaling or reflection.

## Algorithm
1. For a polygonal line, record the sequence of edge vectors between consecutive vertices. This sequence is invariant under translations of the line.
2. From the template's edge sequence, generate eight variants: the four rotations (0°, 90°, 180°, 270°) and, for each, its reversed traversal (negating and reversing edges).
3. For every candidate line, compute its edge sequence and compare it against the eight template variants. A match occurs when the sequences are identical.
4. Output the 1-based indices of all matching lines in order and print `+++++` after each dataset.

## Correctness
- Using edge vectors removes dependence on absolute coordinates, so translations do not affect the representation.
- Rotating the template's edges by multiples of 90° produces all possible orientations in the plane; reversing and negating the edges handles traversing the line in the opposite direction.
- Two polygonal lines have the same shape if and only if their edge sequences match under one of these transformations. Thus the algorithm reports exactly those lines that overlap the template after allowed moves.

## Complexity
Let `n` be the number of candidate lines in a dataset and `m` the number of vertices per line (`m ≤ 10`). Computing the edge sequence takes `O(m)` time per line, and each comparison checks at most eight sequences of length `m−1`. Therefore the total runtime per dataset is `O(n · m)`, which is easily within the problem limits.
