# [SQCOUNT - Square Count](https://www.spoj.com/problems/SQCOUNT/)

We are given up to 1000 axis‑aligned rectangular rooms.  Squares are aligned to the
integer grid and may span one room or two adjacent rooms.  Two rooms may share a
side and, if that side has length `m > 2`, a door of length `m − 2` is centered on
that side.  No square overlaps more than two rooms.

### Counting squares inside one room
For a room of width `w` and height `h`, the number of `s × s` squares contained
entirely in the room is `(w − s + 1) * (h − s + 1)` for `1 ≤ s ≤ min(w, h)`.
Summing over all `s` yields the count of squares fully contained in the room.

### Squares crossing two rooms
If two rooms share a vertical side, we check whether the overlap length is more
than two.  The door opens a segment of length `L = overlap − 2`.  For each size
`s` (`1 ≤ s ≤ L` and limited by the widths of both rooms) there are
`L − s + 1` vertical placements inside the door.  The square can slide
horizontally as long as it remains inside both rooms, giving
`max(0, x_high − x_low + 1)` horizontal placements.  We add the product of these
two counts to the answer.  The horizontal case is handled symmetrically.

### Overall
We add the counts for all rooms and for every adjacent pair.  Since no square
spans more than two rooms the calculation is accurate.  The algorithm runs in
`O(n^2 * S)` where `S` is the maximum door length, which is sufficient for the
problem constraints.
