# COPER - Crane Operator

Problem: https://www.spoj.com/problems/COPER/

## Algorithm
1. Generate the sequence `c_i` using `c_0 = 0` and `c_{i+1} = (c_i * q + p) mod m`.
2. For each box `i = 1..N-1` find the final position `p_i`:
   - Scan pairs `(y, x)` with non‑negative integers ordered by increasing `y` then `x`.
   - Compute `pos = (c_i + d * x + y) mod N`.
   - Choose the first `pos` not equal to `M` and not used before; mark it occupied.
3. Build permutation `P` of `0..N-1` where `P[0] = M` (empty slot) and `P[i] = p_i` for boxes.
4. Decompose `P` into cycles to count moves:
   - A cycle containing the empty slot contributes `len − 1` moves.
   - Any other cycle contributes `len + 1` moves.
5. Output the sum of these contributions.

## Correctness
- Step 1 reproduces the given recurrence for `c_i`.
- Step 2 follows the rule of selecting minimal `y` then `x` for valid positions, ensuring each location (except `M`) receives exactly one box.
- Step 3 forms the target configuration including the empty location.
- Step 4 uses the well‑known property of sorting a permutation with a single empty slot: cycles not containing the empty slot need an extra move to bring the slot in and out, while the cycle with the empty slot requires one fewer move. This yields the minimal number of crane moves.
- Therefore the computed move count is sufficient and necessary to reach the final configuration.

## Complexity
Let `N` be the number of positions. The search for each box may check up to `N` locations, giving a worst‑case time complexity of `O(N^2)` and `O(N)` space.
