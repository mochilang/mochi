# RHOMBS

We model the triangular grid with integer coordinates.  Moving in the six
allowed directions corresponds to adding the vectors
`(1,0)`, `(0,1)`, `(-1,1)`, `(-1,0)`, `(0,-1)` and `(1,-1)`.
The input polygon is reconstructed by walking along its sides and recording
all vertices.

Every unit triangle in this coordinate system is given by either
`(x,y) – (x+1,y) – (x,y+1)` ("up" triangle) or
`(x+1,y+1) – (x+1,y) – (x,y+1)` ("down" triangle).
The region is rhombastic, therefore it can be tiled by rhombs, i.e. pairs of
adjacent up/down triangles.

To count rhombs of each orientation we 3‑colour the unit triangles.  An up
triangle at `(x,y)` has colour `(x + 2y) mod 3` while a down triangle at the
same `(x,y)` has colour `(x + 2y + 1) mod 3`.  A rhomb formed across a
horizontal edge uses colours `{0,1}`, across a north‑east edge `{1,2}` and
across a north‑west edge `{2,0}`.

For all triangles whose centres fall inside the polygon we count how many
have each colour `T0`, `T1` and `T2`.  The numbers of rhombs of the three
orientations follow from solving the linear system:

```
A + B = T1
B + C = T2
C + A = T0
```

giving

```
A = (T0 + T1 - T2) / 2
B = (T1 + T2 - T0) / 2
C = (T2 + T0 - T1) / 2
```

Enumerating triangles is achieved by scanning over the bounding box of the
polygon and performing a point‑in‑polygon test for the triangle centres.
This is sufficient for the provided test cases.
