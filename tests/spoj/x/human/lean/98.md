# SPOJ DFLOOR - Dance Floor

We represent every row of the dance floor as a bit mask.  Pressing a tile toggles its bit and the bits of the tiles directly adjacent horizontally and vertically.

To find a sequence that lights up all tiles, every possible pattern of presses on the first row (there are `2^x` of them) is tried.  For a fixed first-row pattern, the necessary presses on each subsequent row are forced: after deciding the presses on rows `0..r-1`, any tile in row `r-1` that is still off must be toggled by pressing the tile below it on row `r`.  This process is propagated row by row until the bottom is reached.

After simulating the presses, we check whether the last row becomes entirely lit.  If so, we count the number of presses (popcount of the press masks) and keep the solution with the smallest count.  Finally, the coordinates of all pressed tiles are printed.

The algorithm runs in `O(2^x * x * y)` which is fast for `x, y â‰¤ 15`.
