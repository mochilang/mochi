# [Binary Search Heap Construction](https://www.spoj.com/problems/HEAPULM)

## Problem Summary
Given `n` pairs of labels and priorities with all labels and priorities unique, construct a **treap**: a binary search tree ordered by labels that also satisfies the max-heap property on priorities. Print the tree in the form `(<left><label>/<priority><right>)`, omitting empty subtrees. Multiple test cases are provided, terminated by `0`.

## Algorithm
1. Read all pairs and sort them lexicographically by label. This is the in-order sequence of the desired BST.
2. Build a Cartesian tree over this sequence using the priorities as keys:
   - Maintain a stack of nodes with decreasing priorities.
   - For each node in sorted order, pop stack elements with smaller priorityâ€”the last popped becomes its left child.
   - If the stack is not empty after popping, make the current node the right child of the stack's top.
   - Push the current node onto the stack.
3. After processing all nodes, the stack's bottom element is the root. Output the tree via a recursive traversal emitting `(`, left subtree, `label/priority`, right subtree, `)`.

Sorting takes `O(n log n)` time and the stack-based construction and printing run in `O(n)` time.
