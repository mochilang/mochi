# HARDQ - Hard Question

The proposed national park is given as a polygon with `N` vertices. We are given `M` pairwise disjoint axis-aligned rectangles. We need to decide whether some subset of these rectangles exactly covers the polygon and does not extend outside of it.

Because the rectangles are disjoint, their union can cover the polygon iff:

1. Every rectangle we use lies completely inside the polygon, and
2. The total area of all such rectangles equals the area of the polygon.

To test this we do:

* Compute twice the area of the polygon using the shoelace formula.
* For each rectangle:
  * Normalize its corners `(x1,y1)-(x2,y2)` to obtain the four vertices of the rectangle.
  * Check that all four corners are inside or on the boundary of the polygon using a ray casting point-in-polygon test.
  * Ensure none of the rectangle’s edges properly intersects any polygon edge (otherwise part of the rectangle would stick outside).
  * If the rectangle passes these tests, add its (twice) area `2*width*height` to the total.
* After processing all rectangles, compare the accumulated area with the polygon’s area. If equal, the rectangles exactly cover the polygon; otherwise they do not.

This runs in `O(N*M)` time where `N` is the number of polygon vertices and `M` is the number of rectangles (at most 3000 each).
