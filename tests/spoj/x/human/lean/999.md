# [Generalized Matrioshkas](https://www.spoj.com/problems/MATRIOSH)

## Problem Summary
Given a sequence where each toy is described by a pair of numbers `-k` and `k` (opening and closing), determine whether it forms a valid generalized matrioshka. A toy `m` may directly contain toys `n1, n2, ..., nr` only if `n1 + n2 + ... + nr < m`.

## Algorithm
1. Parse the line into a list of integers.
2. Use a stack of `(size, sum)` pairs to track open toys and the sum of their direct children.
3. On `-k`, push `(k, 0)` onto the stack.
4. On `k`, ensure the stack top has `size = k` and `sum < size`; pop it and add `k` to the new top's sum if present.
5. After processing all numbers, the stack must be empty for a valid design.

The algorithm runs in `O(n)` time and `O(depth)` space per test case.
