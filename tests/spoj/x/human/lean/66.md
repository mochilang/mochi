# CRSCNTRY - Cross-country

Problem: [https://www.spoj.com/problems/CRSCNTRY/](https://www.spoj.com/problems/CRSCNTRY/)

Agnes runs along a fixed sequence of checkpoints. For each dataset Tom is
given several possible routes. He chooses the route that allows the maximum
number of meetings with Agnes. Meeting rules imply that the checkpoints must
appear in the same order in both routes, though other checkpoints may be
skipped. This is exactly the **Longest Common Subsequence (LCS)** problem.

For a route of Agnes `A` and a candidate route `B` we compute the LCS length
using dynamic programming. We maintain two arrays `prev` and `curr` of size
`|B|+1` and update them for each element of `A`:

```
if A[i] == B[j] then
    curr[j+1] = prev[j] + 1
else
    curr[j+1] = max(prev[j+1], curr[j])
```

The maximum score for Tom is the largest LCS value over all his routes in the
dataset.

Complexity per route: `O(n*m)` time and `O(m)` memory, where `n` and `m` are
the lengths of Agnes's and Tom's routes (each â‰¤ 2000).
