# RAILROAD - Railroads

Jill wants to travel between two cities using a day's railroad timetable.  Each train is given as a sequence of stops with the
arrival time at each city.  She can board a train only at the listed times and may transfer between trains instantaneously.  The
goal is to arrive at the destination before midnight as early as possible; if several schedules have the same arrival time she
prefers the one with the latest departure from the starting city.

## Algorithm

For every train each consecutive pair of stops produces a directed edge
`(city_from, departure, city_to, arrival)`.  With at most 1000 trains and
100 stops per train there are at most 100 000 edges.

We run a Dijkstra‑like search where each state stores:
`(current_city, time_reached, first_departure_time)`.  The priority queue is
ordered by `(arrival_time, -departure_time)` so that earlier arrival and, for
ties, later departure are preferred.

When expanding a state we consider all outgoing edges whose departure time is
not earlier than the current time (waiting at a city is allowed).  The first
edge taken from the starting city sets the `first_departure_time`; subsequent
edges keep this value.  Whenever we reach a city with a better pair
`(arrival_time, departure_time)` we push a new state into the queue.

The search stops when the queue is empty.  If the destination was reached we
output the recorded first departure and final arrival; otherwise there is no
connection on that day.

## Complexity

Let `V` be the number of cities (`≤100`) and `E` the number of edges
(`≤100 000`).  Each edge is processed at most once by the priority queue, so
the time complexity is `O(E log V)` and the memory usage is `O(E)`.
