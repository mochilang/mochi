# [Men at work](https://www.spoj.com/problems/MAWORK/)

## Problem Summary
Given an N×N grid (N ≤ 25) where each cell alternates between open and blocked in fixed-length periods. A second grid of digits 0–9 provides the duration of each working/rest period; 0 means the cell never changes. Starting at the top-left corner at time 0, each move to a 4-neighbour cell or staying in place costs 1 unit and is allowed only if the destination cell is open at the next time. The task is to determine the minimal time to reach the bottom-right cell, or output `NO` if it's impossible.

## Algorithm
1. For each cell compute its cycle length `2*p` (or `1` when `p = 0`). Take the least common multiple (LCM) of all cycles—at most 5040.
2. Perform a breadth-first search on states `(r, c, t)` where time is tracked modulo the global LCM.
3. Maintain a boolean array `visited[r][c][t mod LCM]` to avoid revisiting states.
4. From each state, try moving to the four adjacent cells and also waiting in place; enqueue valid moves where the target cell is open at time `t+1` and not yet visited.
5. When the destination cell is dequeued, return its time. If the queue empties without reaching it, print `NO`.

The search explores at most `N² * LCM` states (about 3.2 million at worst), which is efficient for the given limits.
