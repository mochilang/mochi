# [IVAN - Ivan and his interesting game](https://www.spoj.com/problems/IVAN/)

## Problem Summary
Given two sequences of positive integers, we repeatedly remove blocks from the ends of both sequences. In a single move we take
`K1` numbers from the end of the first sequence and `K2` numbers from the end of the second sequence (both at least one), compute
their sums `S1` and `S2`, and pay cost `(S1 - K1) * (S2 - K2)`. The sequences must become empty at the same time. The task is to
minimize the total cost of all moves.

## Algorithm
1. Decrease each element of both sequences by one. The move cost becomes the product of the sums of the removed adjusted blocks.
2. Reverse the adjusted sequences and compute prefix sums `A` and `B`.
3. Dynamic programming: `dp[i][j]` is the minimal cost to remove the first `i` elements from the first sequence and the first `j`
elements from the second sequence. Initialize `dp[0][0] = 0` and other entries to infinity.
4. For every `i = 1..L1` and `j = 1..L2`, consider all previous cut positions `k < i` and `l < j` and update
   `dp[i][j] = min(dp[i][j], dp[k][l] + (A[i]-A[k]) * (B[j]-B[l]))`.
5. The answer is `dp[L1][L2]`.

This evaluates every possible way to partition both sequences into matching suffix blocks, ensuring the minimal total cost.
