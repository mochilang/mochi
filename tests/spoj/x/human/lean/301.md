# [Booklets](https://www.spoj.com/problems/BOOK)

## Problem Summary
For each test case, we know the number of schools `S`, the index `Q` of the school we query, the number of booklets `N` and the page count of each booklet.
The `N` booklets must be divided among the schools. The first `N mod S` schools receive `ceil(N/S)` booklets, the rest receive `floor(N/S)` booklets.
Across schools the page counts are nonâ€‘decreasing, and within each school the original order of the selected booklets is preserved.
The task is to output the number of pages of the first booklet delivered to school `Q`.

## Algorithm
1. Pair each booklet with its original index and sort pairs by page count, breaking ties by the index. This keeps relative order for equal pages.
2. Compute how many schools `r = N mod S` receive the larger share `u = ceil(N/S)` and the smaller share `l = floor(N/S)`.
3. Locate the slice of the sorted array corresponding to school `Q`:
   the first `r` schools have size `u`, the others size `l`.
4. Inside that slice, pick the booklet with the smallest original index; its page count is the first booklet delivered to school `Q`.

This approach runs in `O(N log N)` time per test case, with `N < 3000`.
