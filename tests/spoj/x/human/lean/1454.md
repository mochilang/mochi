# MEMDIS - Memory Distribution

We simulate memory allocation over time.

- Maintain a list of free memory segments, initially one segment covering [0, N). Each segment is stored as `(start, length)` and kept sorted by starting address.
- Maintain a FIFO queue for programs waiting for memory and a list of running programs sorted by their finish times.

For each program `(X, M, P)`:

1. Advance the current time to `X` and release every running program whose finish time is ≤ `X`, merging the freed block back into the free list.
2. After each release, repeatedly attempt to start the program at the head of the waiting queue. A program can start only if a free segment of length ≥ `M` exists; the segment with the smallest starting address is used.
3. Try to allocate memory for the new program. If it fits, add it to the running list with finish time `X + P`; otherwise append it to the waiting queue and count it as queued.

After processing all input, keep advancing time to the next program completion, freeing memory and starting queued programs until both the running list and queue are empty. The final completion time and the number of queued programs are printed.
