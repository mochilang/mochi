# FUSION - Fusion Cube

[Problem link](https://www.spoj.com/problems/FUSION/)

## Algorithm

For each electron source inside the cube we may choose one of the six axis-aligned directions.
Regardless of collisions, electrons have identical speed and behave symmetrically: a collision is equivalent to the electrons passing through each other while exchanging identities. Therefore the time at which an electron reaches a boundary depends only on its starting point and chosen direction.

For a source at `(x, y, z)` in a cube of size `N`, the distances to the six faces are `x`, `N - x`, `y`, `N - y`, `z`, and `N - z`. We can orient the source toward the farthest face, yielding a survival time equal to the maximum of these six distances.

The experiment ends when the earliest electron hits a wall, so after computing this maximal time for every source we take the minimum over all sources.

## Correctness Proof

Consider an optimal configuration of directions. Suppose two electrons collide. Because collisions only reverse or swap directions, the set of positions occupied at any time is identical to the case where the electrons pass through each other without interaction. Therefore we can ignore collisions and treat each electron independently.

For a given electron, directing it toward the farthest face maximizes the time before it leaves the cube, because any other direction would have a shorter distance to the boundary along its path. The time before the first electron exits is thus the minimum of these individual maximal times, so the algorithm outputs the optimal possible duration.

## Complexity Analysis

Let `K` be the number of sources. We compute six distances for each source and track the global minimum, taking `O(K)` time and `O(1)` additional space per test case.

## Reference Implementation

The reference implementation in Lean is available in `tests/spoj/human/x/lean/1675.lean` and follows the algorithm described above.
