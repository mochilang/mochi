Given an array `A` of up to 50,000 integers we must support two online
operations:

* `0 x y` – update `A[x] := y`.
* `1 x y` – report the maximum subarray sum within `A[x..y]`.

A classic segment tree solves this in `O(log n)` per query.
Each node stores four values for its interval:

* `sum` – total sum of the interval,
* `pref` – maximum prefix sum,
* `suff` – maximum suffix sum,
* `best` – maximum subarray sum.

For two adjacent segments `L` and `R` their parent is computed as:
```
sum  = L.sum + R.sum
pref = max L.pref (L.sum + R.pref)
suff = max R.suff (R.sum + L.suff)
best = max (max L.best R.best) (L.suff + R.pref)
```

Updates modify a single leaf and rebuild the path to the root.
Range queries recursively combine the segments intersecting the query
range using the same merge function.
