# ORDERS - Orders

1. Each `w[i]` tells how many higher-ranked soldiers stood to the left of the `i`‑th position in the initial line. This is exactly the inversion count for that position.
2. Keep a Fenwick tree over positions `1..n` storing which ranks are still unused. Initially all positions contain `1`.
3. Traverse positions from right to left. For position `i` we know there must be `w[i]` ranks larger than `P[i]` on its left, so among the remaining ranks we need the `(i - w[i])`‑th smallest.
4. Query the Fenwick tree for that order statistic, place the rank, and remove it from the tree.

Each Fenwick tree update or prefix query costs `O(log n)`, giving an overall complexity of `O(n log n)` per test case.
