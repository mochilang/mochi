# [Calls](https://www.spoj.com/problems/CALLS)

## Problem Summary
Given the pairwise minimum call costs between `N` cities and the number `K`
of telephone lines operated by a company, determine if there exists an
undirected graph with exactly `K` edges whose shortest path distances match
the advertised costs.

## Algorithm
1. Read the `N × N` distance matrix from the upper triangular input.
2. For every triple of distinct cities `i`, `j`, `k`, verify the triangle
   inequality `d[i][j] ≤ d[i][k] + d[k][j]`.  If any inequality is
   violated, the flyer is invalid.
3. For each pair `(i, j)` count it as a required direct line when there is no
   intermediate city `k` with `d[i][j] = d[i][k] + d[k][j]`.  Such a pair must
   be realized by an edge with weight `d[i][j]` in any valid graph.
4. Let `required` be the number of required edges and `total = N(N-1)/2` the
   number of all possible edges.  The flyer is valid iff:
   - `required ≤ K ≤ total`, and
   - all triangle inequalities in step 2 hold.

This algorithm runs in `O(N^3)` time by examining all triples of cities,
which is acceptable for `N ≤ 300`.
