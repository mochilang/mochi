# [Queens, Knights and Pawns](https://www.spoj.com/problems/QKP)

## Problem Summary
Given an `n × m` chessboard with some queens, knights and pawns placed on
it, count the number of squares that are not occupied and not attacked by
any queen or knight.  Pawns only block the queens' rays and do not attack.
Input ends with `0 0`.

## Algorithm
1. Read positions of queens, knights and pawns for each board and store them
   in a set `occupied`.
2. Start another set `unsafe` initialized with the occupied squares.
3. For every queen explore the eight directions until hitting the edge of
   the board or another piece, inserting every traversed square into
   `unsafe`.
4. For every knight insert all eight `L`‑shaped moves inside the board into
   `unsafe`.
5. The answer is `n * m - |unsafe|`, i.e. all board squares minus the union
   of occupied and attacked squares.
6. Output `"Board b has s safe squares."` for each board in order.

This processes at most a few hundred pieces and runs in time proportional to
the number of attacked squares.
