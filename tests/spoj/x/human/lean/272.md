# CAVE - Cave Exploration

1. Split the corridors into horizontal and vertical sets.  Record their end points.
2. For every horizontal/vertical pair add an intersection point when their spans overlap.  Also add the entry point to the segment it lies on.
3. Every end or intersection becomes a node of an orthogonal graph.  Consecutive points on the same segment form edges labelled by the corridor index.
4. Simulate the explorer with the leftâ€“hand rule.  At each node try to move left, straight, right and finally back.  When an edge is taken, mark its corridor as visited.  Exploration stops when the start point is reached twice.
5. The answer is the number of corridors that were never traversed.

The intersection phase is \(O(n^2)\) for at most 1000 segments and dominates the running time.
