# [Robot Number M](https://www.spoj.com/problems/ROBOT)

## Problem Summary
Blue Mary builds robots in order. For robot `M` and all its teachers (proper divisors > 1), classify each by occupation:
- **Businessman** – odd, square-free, with an even number of distinct prime factors.
- **Hacker** – odd, square-free, with an odd number of distinct prime factors.
- **Doctor** – any other number.
For each occupation we need the sum of "good numbers" (count of earlier robots independent to it) modulo 10000.

## Algorithm
1. Read the prime factorization of `M`.
2. Compute `M mod 10000` via modular exponentiation.
3. For every odd prime `p`:
   - `prod ← prod * p (mod 20000)`
   - `alt  ← alt  * (2 - p) (mod 20000)`
   These track products over odd primes once each.
4. Using subset parity identities:
   - Sum over odd square-free divisors with odd size = `(prod - alt)/2`.
   - Sum over odd square-free divisors with even size = `(prod + alt)/2 - 1` (exclude divisor 1).
5. Total sum of all good numbers among divisors is `M - 1`. Doctors' total equals this minus the previous two sums.
6. Output the three sums modulo 10000.

The good number of `n` equals Euler's totient `φ(n)`, and subset identities let us sum `φ(d)` over qualifying divisors without enumerating them.
