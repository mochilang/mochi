# [Help R2-D2!](https://www.spoj.com/problems/HELPR2D2)

## Problem Summary
Given an infinite supply of starships each of capacity `K`, a sequence of
containers must be placed using R2-D2's heuristic: when a container with volume
`v` arrives, load it into the lowest-index starship that still has at least `v`
units of free space. Input may contain `b r v` commands meaning that the next
`r` containers all have volume `v`. After all containers, report the number of
starships used and the total unused capacity (waste).

## Algorithm
To quickly find the first starship that can accept a container we maintain a
segment tree over an array `cap` of remaining capacities. Each leaf represents a
starship and internal nodes store the maximum capacity in their range.

For each container (expanding blocks as necessary):
1. Query the segment tree for the smallest index with capacity at least `v`.
2. If none exists, start a new starship with capacity `K`.
3. Decrease that starship's remaining capacity by `v` and update the tree.

Finally we sum the remaining capacities of the used starships to obtain the
waste `w` and output `s w`.
