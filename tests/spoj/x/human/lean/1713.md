# SCALE - Funny scales

Kinh_Can has weights of mass $3^{i-1}$ for $1 \le i \le N$. With an object of mass $X$
placed on the first pan of a balance we must place some weights on both pans
so that the scale balances.  The answer should list indices of weights put on
the first and second pans.

The weights follow powers of three, thus any number up to the sum of all
weights $S = \sum_{i=1}^N 3^{i-1} = (3^N-1)/2$ can be represented uniquely in
**balanced ternary** using digits $-1,0,1$.  Digit $-1$ means the weight goes on
the same pan as the object, digit $1$ means it goes to the other pan, and
$0$ means the weight is unused.

Algorithm:

1. If $X > S$ there is no solution.
2. Otherwise repeatedly compute the remainder of $X$ modulo $3$:
   - remainder $0$: digit $0$.
   - remainder $1$: digit $1$, set $X=(X-1)/3$.
   - remainder $2$: digit $-1$ (equivalent to $-1$ with carry), set $X=(X+1)/3$.
3. Continue until $X=0$ or $N$ digits are processed.  Collect indices where
digits are $-1$ and $1$.

The process yields the unique balanced ternary representation within $N$ digits,
which directly provides the required indices for the two pans.
