# RATTERN - The Room Pattern

We are given an $N\times M$ ($\le 8$) board where every cell is either white, black or already filled.  Up to ten tile types are available.  Each tile is one of four basic shapes (single square, domino, L-triomino or straight triomino), can be rotated, and has a fixed painting of white/black squares and a cost.  We must cover all not-yet-filled cells exactly with tiles of matching colors and minimal total cost.

Because the board is at most $8\times8$, we can encode the set of already covered squares with a bit mask of up to 64 bits.  The target mask with all bits set is the goal state.  The color of every cell is stored separately.

For each tile type we precompute the four rotations.  When placing a tile we try aligning every square of the tile with the first uncovered cell and verify that all squares fall inside the board, are currently uncovered and their colors match.  If valid, we recurse on the new mask and add the tile cost.

The recursion is memoized in a `HashMap` keyed by the mask.  This effectively explores each reachable tiling configuration only once.  If no placement is possible the result is `-1`.

The complexity is manageable because the search branches only at the next uncovered cell and the memoization prunes repeated states.
