# [Whac-a-Mole](https://www.spoj.com/problems/MOLE)

## Problem Summary
A hammer moves on an \(n\times n\) grid. Each mole pops up at integer coordinates and a specific time step (at most 10). Between steps the hammer may move to any integer point within Euclidean distance \(d\). Moving from \((x_1,y_1)\) to \((x_2,y_2)\) whacks every mole appearing at that time whose hole lies on the segment between the two points. The initial position of the hammer is arbitrary. Determine the maximum number of moles that can be whacked.

## Algorithm
1. Group the moles by their appearance time \(t\) (\(1\le t\le10\)).
2. Dynamic programming over time and position:
   - `dp[t][x][y]` is the best score after time `t` ending at `(x,y)`.
   - For each previous position `(x1,y1)` and each destination `(x2,y2)` with distance at most `d`,
     count the moles of time `t` on the segment `(x1,y1)-(x2,y2)` using a cross-product and bounding-box test.
     Update `dp` accordingly.
3. Start with `dp[0][x][y]=0` for all grid points; the answer is the maximum value in the final layer.

The grid contains at most 400 points and the time horizon is at most 10, so trying all destinations within the radius (at most about 100) keeps the total number of transitions small. Scanning up to 100 moles per step is easily within limits.
