# [Generalized Matrioshkas](https://www.spoj.com/problems/MATRIOSH)

## Problem Summary
Given a sequence of integers representing nested toys, every toy of size `k` is encoded by `-k` followed later by `k`. The sum of sizes of toys directly inside `k` must be strictly less than `k`. For each input line, determine whether it forms a valid generalized matrioshka.

## Algorithm
1. **Parse** the line into integers.
2. **Stack processing**
   - When encountering a negative number `-x`, push `(x,0)` onto the stack to track an open toy and the total size of its direct contents.
   - When encountering a positive number `x`, verify that the top of the stack has size `x` and that the accumulated size for that toy is `< x`. Pop it and add `x` to the next toy's sum if present.
3. If the stack is empty at the end, the sequence is a valid matrioshka.

This procedure runs in linear time in the number of integers and uses `O(d)` extra space for the depth of nesting.
