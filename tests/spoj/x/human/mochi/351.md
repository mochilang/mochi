# Ha-noi! (HAN01)

To rebuild the towers after `k` moves of the optimal Hanoi algorithm we use the
structure of the recursive solution. Moving `n` disks from peg 1 to peg 2 uses
`2^n - 1` moves and consists of three phases:

1. Move `n-1` disks from the source to the auxiliary peg.
2. Move the largest disk to the target peg.
3. Move the `n-1` disks from auxiliary to target.

Given `k` we decide in which phase we are by comparing with `2^(n-1)`:

- If `k < 2^(n-1)` the largest disk stays on the source peg and we recurse on
  `n-1` disks with the same `k` but exchanging the target and auxiliary pegs.
- Otherwise the largest disk is on the target peg and we recurse on the
  remaining `n-1` disks starting from the auxiliary peg with `k - 2^(n-1)`
  moves.

The recursion fills an array `pos` giving the peg of every disk. The final
output for each peg is produced by scanning disks from largest to smallest and
printing those located on that peg separated by `|`.

The algorithm runs in `O(n)` time per test case with recursion depth `O(n)`.
