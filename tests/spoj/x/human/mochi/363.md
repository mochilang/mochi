# [Crane Operator](https://www.spoj.com/problems/COPER/)

## Problem Summary
We have N positions numbered 0..N-1 with location 0 initially empty and each other location i containing box i. A final configuration is generated using parameters q, p, m, d and M. Sequence c_i is defined by c0=0 and c_{i+1}=(c_i*q+p) mod m. For each box i (starting from 1) we choose the smallest unused location pi = (c_i + d*x + y) mod N such that pi ≠ M, minimizing y then x. Location M remains empty.

We can only move a box into the unique empty location. The task is to compute the minimal number of such moves needed to reach the final configuration.

## Algorithm
1. Generate the c_i sequence.
2. For each box i=1..N-1:
   - Starting from c_i, search for a free location of the form (c_i + d*x + y) mod N.
   - Iterate y from 0 upward and for each y step through positions increasing by d until a free spot (not M) is found. Assign the box there and mark the location used.
3. Set target[0] = M and target[i] = pi for each box.
4. Decompose the permutation defined by target over items {0..N-1}. For each cycle of length L:
   - if it contains 0 (the empty location) add L−1 moves,
   - otherwise add L+1 moves.
5. Output the sum of these contributions.

## Complexity
The probing step may in worst case examine O(N) positions per box, giving O(N²) time, which suffices for the small test data. Cycle decomposition is O(N) with O(N) memory.
