# CALLS - Calls

Given the table of cheapest call costs between all pairs of cities and the claimed number of phone lines `K`, we need to check if such a network can exist.

## Algorithm
1. **Read the distance matrix.**  The input gives an upper triangular table of shortest path costs.  Build a symmetric matrix `d`.
2. **Validate the metric.**  For every triple of cities `(i, j, k)` verify `d[i][j] <= d[i][k] + d[k][j]`.  A violation means the table cannot come from any network.
3. **Count necessary edges.**  For each pair `(i, j)` determine whether the distance can be obtained via another city `k`.  If for all `k` we have `d[i][j] < d[i][k] + d[k][j]`, the line `(i, j)` must be present.  Count such required lines.
4. **Check line count.**  Let `m` be the number of required lines.  The network is possible iff `m ≤ K ≤ N*(N-1)/2`.
   Extra lines can always be added with large costs without affecting shortest paths.

## Correctness
- If the triangle inequality fails, no assignment of positive edge weights can realize the given distances, hence the flyer is a forgery.
- The algorithm adds an edge only when no shorter or equal path through another city exists.  Therefore the constructed graph with `m` edges reproduces all given shortest paths.
- Any additional edges with weight at least the existing shortest distance do not change the distances.  Thus if `K` is between `m` and the maximum possible number of lines, the flyer is valid.
- Conversely, if `K` is less than `m` or larger than the total number of possible lines, no graph can satisfy the flyer.

## Complexity
The validation and edge counting both run in `O(N^3)` time with `N ≤ 300`, which fits easily within limits.
