# ROCKETS - Rockets

[Problem statement](https://www.spoj.com/problems/ROCKETS/)

## Algorithm

For each test case we are given two sets of \(n\) points:
red rockets **R** and white targets **W**. No three points are collinear.
We must pair each red point with a white point so that the straight line
segments do not intersect.

We use a recursive divide-and-conquer approach:

1. Choose an arbitrary red point `r0` (the first in the list).
2. Iterate over all white points `w` and compute how many remaining red points
   lie to the left of the segment `r0w` minus how many remaining white points
   lie to the left.  When this value is zero, `r0` can be safely paired with `w`.
3. Partition the remaining points into those lying to the left and to the right
   of `r0w` using the orientation test.
4. Recurse independently on the left and right partitions.
5. Store the chosen white index for `r0` and output matches in the original order.

Because the line `r0w` splits the remaining points into equal numbers of red and
white points on each side, the recursive calls operate on smaller balanced
subsets and the resulting segments cannot cross.

## Correctness

- The general position assumption guarantees that there exists a white point `w`
  for which the difference between red and white points on the left of `r0w` is
  zero.  Otherwise one side would have unequal counts and the convex hull
  argument shows some pair would intersect.
- When `r0` is matched with such `w`, all segments constructed in the recursive
  calls lie entirely on one side of `r0w`; hence none of them intersects `r0w`.
  By induction, the recursive solutions also contain no intersections, so the
  whole matching is non-crossing and every red point is paired with exactly one
  white point.

## Complexity Analysis

Let `n` be the number of red (and white) points.  Finding the partner for `r0`
requires scanning all points, which is `O(n)`.  The recursion splits the points
into two subsets whose sizes sum to `n-1`, yielding an overall time complexity of
`O(n^2)` and linear space usage for recursion.
