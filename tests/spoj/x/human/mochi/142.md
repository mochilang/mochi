# Johnny and the Glue

Given `n` glue dabs on the floor at integer coordinates, count how many different
rectangular areas Johnny can cover with his box so that:

1. every dab lies inside or on the rectangle,
2. each of the four sides of the rectangle contains at least two dabs.

## Algorithm

1. Compute the convex hull of all points using the monotone chain method. Any
   feasible rectangle must contain the hull, so interior points can be ignored.
2. Traverse the hull and compress consecutive collinear edges into groups.
   Each group represents a supporting line and is stored as a normalised slope
   `(dx, dy)` where `gcd(|dx|, |dy|) = 1` and `(dx, dy)` has a fixed sign.
   For a convex polygon every slope appears at most twice, once for each
   opposite side.
3. For each slope that occurs exactly twice, locate the indices of its two
   groups. Let the perpendicular slope be `(-dy, dx)` (normalised). If this
   perpendicular slope also occurs exactly twice and the group indices of the
   two slopes alternate around the hull, the four supporting lines form a
   rectangle covering the hull.
4. Count each perpendicular pair once. The check `a1 < b1 < a2 < b2` in cyclic
   order ensures the groups alternate.

The convex hull requires `O(n log n)` time because of sorting; the remaining
steps are linear in the number of hull vertices.

## Correctness

- The rectangle must contain all points, hence must contain their convex hull.
  Any supporting line of the hull touches it in at least one point. Because each
  side needs at least two dabs, the supporting lines defining the rectangle must
  coincide with hull edges, which provide two or more points on the line.
- Since the hull is convex, for a given slope there are at most two distinct
  supporting lines. Choosing two parallel lines and two perpendicular ones that
  alternate around the hull yields a rectangle, and all hull points (and thus
  all dabs) lie inside it.
- Conversely, any valid rectangle corresponds to two pairs of such supporting
  lines, so the counting above enumerates exactly all possibilities.

## Complexity

Computing the hull is `O(n log n)` and the enumeration of slopes is `O(m)` where
`m` is the number of hull vertices (`m â‰¤ n`). Therefore each test case is
processed in `O(n log n)` time.
