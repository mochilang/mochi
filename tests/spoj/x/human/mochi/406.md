# [Logic](https://www.spoj.com/problems/LOGIC/)

## Problem Summary
We are given up to 10×10 grid cells containing logical operations: `&` (AND), `|` (OR), `!` (NOT), `i` (input) and `o` (output). Each line describes one operation by its coordinates and type, followed by coordinates of gates that take its output, terminated by `..`. After the list of operations (terminated by `end`), several test cases provide binary values for the inputs in the order the input gates were declared. For each test case we must evaluate the circuit and output the values of all output gates in the order declared.

## Algorithm
1. Parse the circuit description.
   - Map each cell (0–99) to its gate type.
   - For every listed connection `A -> B`, record `A` as the next input of `B`.
   - Store input and output gate IDs in declaration order.
2. For each test case:
   - Assign the provided bits to the input gates.
   - Evaluate every output gate recursively. Use memoisation so each node is computed at most once:
     - `i`: value preset from test case.
     - `&`: logical AND of two inputs.
     - `|`: logical OR of two inputs.
     - `!`: logical NOT of its single input.
     - `o`: value of its single input.
   - Collect the results of the output gates and print as a line of bits.
   - Print an empty line after all test cases of the current circuit.

## Correctness
We show that the algorithm prints correct outputs for every test case.
- Inputs are set explicitly from the test case values, so their evaluations are correct.
- Each gate’s evaluation applies the gate’s logical operator to its already correctly evaluated inputs; hence the result is correct.
- Because the circuit is acyclic, recursion terminates and every node is evaluated exactly once. Memoisation ensures shared subcircuits are computed once, so the returned value for each node is the correct logical result.
- Output gates forward the value of their single input, so the produced string lists the outputs in the required order.

Therefore the printed lines correspond to running the described circuit on the given inputs.

## Complexity
Let `m` be the number of gates (≤100). Building the circuit takes `O(m)` time. For each test case, each gate is evaluated at most once, so evaluation is `O(m)` time and `O(m)` memory.
