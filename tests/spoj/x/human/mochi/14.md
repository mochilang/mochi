# [I-Keyboard](https://www.spoj.com/problems/IKEYB)

## Problem Summary
Given `K` keypad keys and `L` alphabet letters with known usage frequencies, assign consecutive letters to keys (preserving order) to minimise the weighted typing cost. The typing cost of a letter equals its frequency times its position on the assigned key. Among layouts with the same minimal cost, prefer those with more letters on later keys (starting from the last key).

## Algorithm
We use dynamic programming with prefix sums for efficient cost computation.

1. Precompute prefix sums of frequencies `prefix[i]` and weighted sums `prefixW[i] = sum(freq[j]*(j+1))` to evaluate the cost of assigning a block of letters `j..i-1` in constant time.
2. Let `dp[k][i]` be the minimal cost to assign the first `i` letters using exactly `k` keys. Each state also stores the distribution of letters among keys for tie-breaking.
3. Transition: for each `j` from `k-1` to `i-1`, consider placing letters `j..i-1` on key `k`. The segment cost is
   `cost(j,i) = (prefixW[i] - prefixW[j]) - j * (prefix[i] - prefix[j])`.
   Update `dp[k][i]` with the minimal total cost and, on ties, choose the distribution maximising letters on later keys.
4. After filling the DP tables, `dp[K][L]` holds the optimal cost and key letter counts. Use the counts to slice the input letter string and produce the final mapping lines.

This runs in `O(K*L^2)` time (at most about 730k iterations) and uses `O(K*L)` space.
