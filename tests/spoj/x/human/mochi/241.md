# [Arranging the Blocks](https://www.spoj.com/problems/BLOCKS/)

## Problem Summary
Given two \(n\times n\) matrices of colors (each color appears at most twice), transform the first into the second using the fewest minutes. In one minute any number of rows or any number of columns may be permuted arbitrarily, but rows and columns cannot be operated on together. Report the minimal minutes needed or `no` if impossible.

## Algorithm
1. Check that the overall multiset of colors matches between the two matrices. If not, output `no`.
2. If the matrices are identical, output `0`.
3. If every row of the first matrix has the same multiset of colors as the corresponding row of the second, or the same holds for columns, output `1`.
4. Otherwise output `2`: first permute columns to place each block into its correct final row, then permute rows to position them in their target columns.

This approach uses frequency counting and runs in \(O(n^2)\) time per test case.
