https://www.spoj.com/problems/LIFTS/

## Algorithm

We have to move a hero across a number of vertically moving lifts.  Each lift
oscillates between levels `li` and `ui` at one meter per second, bouncing at the
ends.  The hero can jump from one platform to the next only when both are at the
same height.  He must start the jump exactly one second before the alignment and
reaches the next platform two seconds after starting.

For two platforms `A` and `B` we need the earliest time `T` at which they are at
one level after the hero arrived at `A`.  The motion of a lift is a triangular
wave with period `2*(ui-li)`.  Knowing the position and direction of each lift
at integer times we can describe the relative position between the two lifts as
a periodic piecewise-linear function.

To find `T` we simulate the relative motion at successive integer times:

1. From the current time `t`, compute the positions and movement directions of
   both lifts using modular arithmetic.
2. If their heights are equal and `t` is at least one second after the hero
   arrived, then `T = t`.
3. Otherwise compute the slope of the height difference.  When the lifts move
   towards each other, the difference decreases linearly.  If it crosses zero
   within the next second we compute the meeting moment by solving a simple
   linear equation.
4. Because the relative state repeats every `lcm(periodA, periodB)` seconds,
   scanning up to one full period is sufficient.  If no meeting is found the
   crossing is impossible.

We start from the ground (treated as a platform at level `0`) and repeatedly
apply the above search for every consecutive pair of platforms.  Each crossing
advances the time by `T + 1` second (start one second before `T` and land one
second after), and we continue with the next pair.  If at any step no meeting
is found we output `-1`.

## Complexity

Let `P` be the period of the slower pair of lifts.  For each pair we examine at
most `P` integer times.  Since `ui-li â‰¤ 200`, `P` is at most `400` and the total
running time is `O(n * P)` with `O(1)` extra space.
