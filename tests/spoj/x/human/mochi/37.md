# [The Proper Key](https://www.spoj.com/problems/PROPKEY/)

## Problem Summary
Given a grid describing a key and a deeper, wider grid describing a lock, determine how far the key can descend into the lock. The key may move down, left, or right but cannot move up or rotate. Report the deepest position of the key's bottom or whether it can pass completely through the lock.

## Algorithm
1. Read the key shape of size `R × C` and record coordinates of all `#` cells.
2. Read the lock grid of depth `D` and width `W`.
3. Perform a breadth‑first search over states `(x, b)` where `x` is the leftmost column of the key and `b` is the depth of its bottom side.
   - Start with all horizontal positions at depth `0` (key above the lock).
   - For each state, try moving the key one unit down, left, or right, provided no `#` cells of the key overlap `#` cells of the lock.
   - Maintain a visited table for `(x, b)` pairs.
   - If a state reaches `b ≥ D + R`, the key has exited the lock from the bottom.
   - Track the maximum depth `b` reached during the search.
4. If a bottom‑exit state is found, print `The key can fall through.` otherwise print `The key falls to depth X.` with the recorded maximum depth.

This BFS inspects at most `(D + R) × (W - C + 1)` states, each checked against the list of occupied key cells.
