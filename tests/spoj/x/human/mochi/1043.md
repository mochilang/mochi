# [Can you answer these queries I](https://www.spoj.com/problems/GSS1/)

## Problem Summary
Given a sequence of up to 50,000 integers, answer multiple queries asking for the maximum subarray sum within a specified range `[x, y]`.

## Algorithm
1. Build a segment tree where each node stores four values for its range:
   - `sum`: total sum of the segment,
   - `pref`: maximum prefix sum,
   - `suff`: maximum suffix sum,
   - `best`: maximum subarray sum entirely within the segment.
2. Leaf nodes contain the value of the corresponding array element. Internal nodes merge the values of their children:
   - `sum = sumL + sumR`
   - `pref = max(prefL, sumL + prefR)`
   - `suff = max(suffR, sumR + suffL)`
   - `best = max(bestL, bestR, suffL + prefR)`
3. To answer a query `[x, y]`, recursively traverse the tree. If the current node range lies completely outside the query, skip it. If it lies completely inside, return its stored values. Otherwise combine the left and right children using the same merge rules.
4. The query result is the `best` value from the merged node.

This structure supports building in `O(n)` time and answering each query in `O(log n)` time using `O(n)` memory.
