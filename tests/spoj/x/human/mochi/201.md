# [The Game of Polygons](https://www.spoj.com/problems/POLYGAME/)

## Problem Summary
Given a triangulated convex polygon with one black triangle and the rest white, two players alternately cut off boundary triangles. The player who removes the black triangle wins. For each test case, determine whether the starting player has a winning strategy.

## Algorithm
1. Build the dual tree of triangles. Each triangle is a node; connect two nodes if their triangles share a diagonal.
2. Let node `0` be the black triangle. If its degree is at most one, it is already a leaf, so the first player can remove it immediately (answer **YES**).
3. Otherwise, for every neighbor of the black triangle compute the parity (odd or even) of the number of triangles in that neighbor's subtree. This can be done with a single depth-first search computing subtree sizes modulo 2.
4. XOR all subtree parity values. If the result is non-zero, the position is winning for the first player; otherwise it is losing.

The parity of subtree sizes behaves like piles in Nim. A non-zero XOR means the first player can force the black triangle to be taken on their turn.
