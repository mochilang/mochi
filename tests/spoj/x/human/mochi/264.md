# [Corporative Network](https://www.spoj.com/problems/CORNET/)

## Problem Summary
Maintain a network of enterprises grouped into clusters with a designated center.
Two operations are supported:
- `E I` asks for the total distance from enterprise `I` to its cluster center.
- `I I J` links center `I` to enterprise `J` in another cluster using a line of length `|I-J| mod 1000`, merging the clusters and keeping `J`'s center.
Each test case ends with an `O` line.

## Algorithm
Use a weighted disjoint-set union (union-find) structure storing each enterprise's parent and distance to that parent.
1. Initialize `parent[i] = i` and `dist[i] = 0`.
2. `find(x)` walks up to the root while accumulating distances; apply path compression so `dist[x]` becomes the distance to the root.
3. For `E I`, call `find(I)` and output `dist[I]`.
4. For `I I J`, set `parent[I] = J` and `dist[I] = |I-J| mod 1000`.
This maintains correct distances after merges with near-constant time operations.
