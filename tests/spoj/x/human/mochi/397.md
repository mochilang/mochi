# CONDUIT - I Conduit

[Problem statement](https://www.spoj.com/problems/CONDUIT/)

## Algorithm

Each conduit is a line segment in the plane. Two segments that lie on the same
straight line and overlap (or touch) can be drawn as a single segment. The task
is therefore to merge all collinear overlapping segments and count how many
disjoint segments remain.

1. **Integer coordinates.**  Input coordinates have at most two decimal places.
   Multiply all coordinates by 100 and treat them as integers to avoid floating
   point errors.
2. **Group by supporting line.**  For a segment `(x1,y1)-(x2,y2)` compute a
   reduced direction `(dx,dy)` by dividing by `gcd(|dx|,|dy|)` and enforcing a
   canonical orientation (`dx>0` or `dx==0 && dy>0`).  The value `c = x1*dy -
   y1*dx` is constant for all points on the same line.  The triple
   `(dx,dy,c)` uniquely identifies the infinite line, so segments with the same
   triple are grouped together.
3. **Project to 1‑D.**  Within each group, project each endpoint onto the
   direction vector: `t = x*dx + y*dy`.  This turns every 2‑D segment into a
   1‑D interval `[t1,t2]` along its line.
4. **Merge intervals.**  Sort the intervals by start coordinate and sweep to
   merge overlapping or touching intervals, counting how many merged segments
   remain for that line.
5. **Sum over all lines.**  The total number of merged intervals across all
   groups is the minimal number of segments required.

Sorting dominates the complexity at `O(n log n)` where `n` is the number of
input segments.
