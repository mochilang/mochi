# [SPOJ KPMATRIX - Matrix](https://www.spoj.com/problems/KPMATRIX/)

## Algorithm

1. Read integers `N` and `M` and the `N x M` matrix.
2. Build a 2‑D prefix sum array `ps` with one extra row and column:
   `ps[i+1][j+1] = ps[i][j+1] + ps[i+1][j] - ps[i][j] + mat[i][j]`.
3. For every pair of rows `(r1, r2)` and pair of columns `(c1, c2)`
   compute the submatrix sum using the prefix sums:
   `sum = ps[r2+1][c2+1] - ps[r1][c2+1] - ps[r2+1][c1] + ps[r1][c1]`.
   If `A ≤ sum ≤ B`, increase the answer.
4. Output the count of valid submatrices.

## Complexity

The algorithm iterates over all pairs of rows and columns.
Time complexity is `O(N^2 * M^2)` and space complexity is `O(N*M)` for the prefix sums.
