# [Program Analyser](https://www.spoj.com/problems/ANALYSER/)

## Problem Summary
A toy programming language contains labelled statements of five types: variable addition, variable output, unconditional goto, conditional goto, and end. Execution begins at the smallest label. Normally the next higher label executes, but goto instructions can jump elsewhere. All variables `A`-`Z` start at `0`. Determine how many statements execute until `END`; if the program never terminates, print `-1`.

## Algorithm
1. **Parse** each input line into a structure `{level, instruction}`. For instructions extract variable indices and numeric arguments as needed.
2. **Sort** statements by their level and build a map from level to array index for fast jumps.
3. **Simulate** execution:
   - Maintain an array of 26 integers for variables.
   - Track program counter `pc` and executed step count.
   - For each step execute the statement at `pc` and update variables and `pc` according to the rules. The default next statement is `pc+1`.
   - Keep a map of visited states `(pc, variables)` to detect loops; if a state repeats the program would run forever and we output `-1`.
   - Stop when `END` is executed and output the step count.

The simulation time is proportional to the number of executed statements and uses additional memory for the visited states.
