# SPOJ 300 - Cable TV Network

[Problem link](https://www.spoj.com/problems/CABLETV/)

## Algorithm

The safety factor of a network is the minimum number of relays whose removal disconnects the network (vertex connectivity), unless the network is complete, in which case the safety factor equals the number of relays.

Steps:

1. **Parse the graph** for each test case. Input uses pairs `(u,v)` so we scan all integers ignoring non-digit characters.
2. **Check for complete graph**. If the number of edges equals `n*(n-1)/2`, the answer is `n`.
3. **Transform to a flow network** to compute vertex connectivity:
   - Split each vertex `v` into `v_in` and `v_out` with an edge `v_in -> v_out` of capacity 1.
   - For every undirected edge `(u,v)` add edges `u_out -> v_in` and `v_out -> u_in` with capacity `INF` (greater than `n`).
   - For source `s` and sink `t`, set their internal edges to capacity `INF` to allow unlimited use.
4. **Run max‑flow** (Edmonds–Karp) from `s_out` to `t_in`. The value is the minimum number of vertices that disconnect `s` and `t`.
5. **Take the minimum** over all pairs `s < t` to get the network's safety factor.

The graph has at most 50 vertices, so the transformed network has at most 100 nodes and Edmonds–Karp runs quickly.

## Complexity

- Building the flow network: `O(n + m)` per test case.
- Max flow per pair: `O(V * E^2)` but with `V ≤ 100` it is small.
- Overall: `O(n^3)` which is feasible for `n ≤ 50`.

## References

- Menger's theorem relating vertex connectivity to vertex-disjoint paths.
