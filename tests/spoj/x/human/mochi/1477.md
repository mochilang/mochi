# [Play with a Tree](https://www.spoj.com/problems/PT07A/)

## Problem Summary
For each test case we are given a tree with some nodes marked as being on the "ground". Two players alternately cut edges. When an edge is cut, the resulting components that no longer contain any ground node are removed from the tree. ACRush moves first and the player unable to move loses. We must determine the winner assuming optimal play.

## Algorithm
1. Connect every ground node to an artificial super-root (node `0`). Edges from the super-root are "free" – cutting them is not allowed – but they allow us to treat all ground nodes as children of a single root.
2. Perform a depth‑first search from the super-root to compute Sprague–Grundy numbers.
   - For a non-root node `v`, its Grundy value is the XOR of `(grundy(child) + 1)` over all children `child` of `v` (excluding the parent and the super-root).
   - For the super-root `0`, its Grundy value is the XOR of the Grundy values of its children without the `+1` because those edges are not real moves.
3. The overall Grundy number of the position is the value computed for the super-root. ACRush wins iff this value is non‑zero.

The DFS visits each node once, so the algorithm runs in `O(N)` time and uses `O(N)` memory.
