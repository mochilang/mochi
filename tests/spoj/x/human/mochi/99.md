# BUS - Bus

https://www.spoj.com/problems/BUS/

## Algorithm

1. Parse the bus routes of each test case.  Each route is a cycle of stops.
2. For every pair of buses compute when they can meet:
   - Let `L = lcm(len(route_i), len(route_j))`.
   - Simulate `t` from `0` to `L-1`; if at some `t` both routes are at the same stop,
     store this first meeting time `off` and the period `L`.
   - If there is no such `t`, the two drivers never meet.
3. For every driver treat meetings as edges that are available at times `off + k*L`.
   For each driver run Dijkstra-like search over time:
   - Starting at time `0`, whenever we are at driver `u` with time `t`, the next time to
     meet driver `v` is `off + ceil((t-off)/L)*L`.
   - Relax the best arrival times for all other drivers.
4. If any pair of drivers is unreachable the answer is `NEVER`.  Otherwise the time when
   all news have been shared is the maximum arrival time over all pairs.

## Complexity

Let `n` be number of routes (≤50) and each route length `<50`.
Pre–computing meeting times takes `O(n^2 * lcm(len_i, len_j))` where the lcm of two lengths is at most `2450`.
Running the Dijkstra-style propagation from each driver costs `O(n^3)`.
Overall complexity fits easily within the limits.
