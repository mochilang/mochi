# SUM1SEQ - Sum of one-sequence

[Problem statement](https://www.spoj.com/problems/SUM1SEQ/)

## Algorithm

For each test case we are given the length `n` and the desired sum `S` of a one-sequence.
A one-sequence starts at `0` and each step changes by `+1` or `-1`.
Let `a1 = 0` and define `d_i = a_{i+1} - a_i` for `i = 1..n-1` (`d_i` is either `1` or `-1`).
Then
```
S = a1 + a2 + ... + an
  = \sum_{i=1}^{n-1} (n - i) * d_i
```
so choosing the sequence is equivalent to assigning signs to the numbers `1..(n-1)`
(`d_{n-i}` corresponds to the sign of `i`).
Let `T = n(n-1)/2` be the sum of `1..(n-1)`.
The sum is achievable iff `|S| \le T` and `S` has the same parity as `T`.
Set `P = (S + T) / 2`; we need a subset of `1..(n-1)` whose sum is `P`.
Because the numbers are consecutive, a greedy choice from large to small always works.
For `i = n-1` down to `1`:
- if `i <= P` put `+1` at position `n - i` and decrease `P` by `i`;
- otherwise put `-1` at that position.
From these signs we reconstruct the sequence by cumulative sums.

## Correctness

- The necessary conditions `|S| \le T` and parity match ensure that a subset with
  sum `P` exists.
- The greedy procedure constructs such a subset because the set `1..(n-1)` is
  consecutive, hence the classic “take largest not exceeding the remainder”
  algorithm always finds an exact sum `P`.
- The signs obtained correspond to increments `d_i` yielding a valid
  one-sequence starting at `0` whose total sum is
  `\sum_{i=1}^{n-1} (n - i) * d_i = S`.

## Complexity Analysis

Creating the increments and reconstructing the sequence both iterate `n` times,
so the algorithm runs in `O(n)` time and uses `O(n)` space.
