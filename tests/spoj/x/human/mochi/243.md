# [Stable Marriage Problem](https://www.spoj.com/problems/STABLEMP/)

## Problem Summary
Given `n` men and `n` women, each ranks all members of the opposite sex by preference. We must pair them in marriages so that no man and woman both prefer each other over their current partners. Multiple test cases are given.

## Algorithm
We use the Galeâ€“Shapley algorithm with men proposing:
1. Precompute a ranking table `rank[w][m]` giving woman `w`'s preference order for each man. Lower rank means higher preference.
2. Maintain for each man the index of the next woman to propose to, an array of current husbands for each woman, and wives for each man.
3. Initialize all men as free and push them into a queue.
4. While there exists a free man `m`:
   - Let `w` be the next woman on `m`'s list and advance his proposal index.
   - If `w` is free, engage them.
   - Otherwise, compare `m` with her current husband `m2`. If she prefers `m`, reassign partners and put `m2` back into the queue; otherwise `m` remains free and is requeued.
5. Output each man with his assigned wife in increasing order of man index.

The algorithm runs in `O(n^2)` time per test case and ensures a stable matching.
