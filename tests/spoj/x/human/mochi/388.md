# MENU - Menu

[Problem statement](https://www.spoj.com/problems/MENU/)

## Algorithm

We must schedule `k` days of meals from `n` dishes, each with cost `c[i]` and
benefit `v[i]`, without exceeding budget `m`.  Repeating the same dish lowers
its benefit: full value on the first day, half on the second consecutive day,
and zero afterwards.  Among menus with the same maximum benefit we prefer the
one with the smallest total cost.

Dynamic programming with memoization considers states `(day, spent, last, streak)`:
- `day` – number of planned days so far (0 ≤ day ≤ k).
- `spent` – total cost already used (0 ≤ spent ≤ m).
- `last` – last cooked dish index (`0` means none yet).
- `streak` – how many consecutive times the last dish was used (`0`, `1`, or `2`;
  `2` represents two or more, giving no further benefit).

For each state we try every dish whose cost keeps `spent` within budget and
compute the benefit for the day based on whether it repeats the last dish.  We
recursively evaluate the next day and keep the option with the greatest benefit,
breaking ties by smaller total cost.  Benefits are stored doubled to avoid
floating‑point numbers (second consecutive use adds `v`, otherwise `2*v`).

To reconstruct the menu, the best dish choice for each state is stored.  After
solving from day `0` we follow these choices to list the dishes for all `k` days.
If no sequence fills all days within budget, the answer is `0.0` with no menu.

The algorithm explores at most `k * m * n * 3` states (≈3×10⁵) and is fast for
the given limits.
