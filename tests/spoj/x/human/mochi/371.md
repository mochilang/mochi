# [Boxes in a Circle](https://www.spoj.com/problems/BOXES/)

## Problem Summary
We have \(n\) boxes arranged on a circle. Each box may contain several balls and the total number of balls is at most \(n\). In one move a ball may shift to an adjacent box. For every test case we must find the minimum number of moves required so that every box holds at most one ball.

## Algorithm
1. Let \(B\) be the total number of balls. If \(B \le 1\), the answer is zero.
2. For each possible starting box, treat the circle as a linear sequence beginning at that box and compute prefix sums \(A[i]\) â€“ the number of balls in the first \(i\) boxes of this rotation.
3. Use dynamic programming where `dp[i][j]` is the minimum number of moves needed to distribute \(j\) balls within the first \(i\) boxes. The recurrence is:
   \[
   dp[i][j] = \min\big(dp[i-1][j],\; dp[i-1][j-1]\big) + |A[i] - j|
   \]
   The term \(|A[i]-j|\) counts how many balls must cross the boundary after box \(i\).
4. After processing all \(n\) boxes, the cost for this rotation is \(dp[n][B]\). Take the minimum over all rotations.

## Complexity
For each rotation the DP runs in \(O(nB)\) time and \(O(B)\) space. Trying all \(n\) rotations yields \(O(n^2 B)\) time overall, which fits within the given limits (\(n \le 1000\)).
