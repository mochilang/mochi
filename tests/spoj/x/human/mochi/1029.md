# [Matrix Summation](https://www.spoj.com/problems/MATSUM/)

## Problem Summary
Maintain an `N x N` matrix of integers (initially all zeros).  Two operations are supported:

- `SET x y val` – assign `val` to cell `(x, y)`.
- `SUM x1 y1 x2 y2` – output the sum of all values in the rectangle with corners `(x1, y1)` and `(x2, y2)` (inclusive).

Multiple test cases are given.  After processing each test case, print a blank line.

## Algorithm
Use a two-dimensional Fenwick tree (Binary Indexed Tree) to support point updates and range sum queries in `O(log^2 N)` time.

1. Create a 2‑D BIT array of size `(N+1) x (N+1)` and a regular matrix to store current values.
2. For `SET`, compute the difference between the new value and the stored one, then update the BIT at `(x+1, y+1)` with this delta.
3. For `SUM`, compute prefix sums using the BIT:
   - `prefix(x, y)` gives the sum of all cells in `[0, x-1] x [0, y-1]`.
   - Apply inclusion–exclusion to obtain the sum over the query rectangle.
4. Repeat until the command `END` is encountered; output an empty line after each test case.

This approach keeps both updates and queries efficient while requiring only `O(N^2)` memory for `N ≤ 1024`.
