# SPOJ BUNDLE - Bundling

Problem: https://www.spoj.com/problems/BUNDLE/

We are given bundling templates and a sequence of instructions with dependencies. Each template
can pack up to three successive instructions and optionally inserts a stop after slot 1 or 2.
Stops divide the instruction stream into segments that can run in parallel; an instruction may
not depend on another inside the same segment.

We solve the problem using depth‑first search with memoization.  A state is `(pos, lastStop)`
where `pos` is the number of instructions already packed and `lastStop` is the index of the most
recent stop.  From a state we try every template and a bundle size of 1–3 instructions.  A bundle
is valid when the template letters match the instruction types and every instruction’s dependency
index does not exceed the last stop of its segment (the template’s internal stop may update
`lastStop`).

For a valid bundle we explore two transitions: continue without inserting a stop after the bundle
(if the template does not end with a mandatory stop) or insert an additional stop.  Each
transition increases the bundle count and adds the number of used stops.  Among all completions we
select the one with the minimum number of bundles and, secondarily, the minimum number of stops.

Memoization keeps the explored state space compact for the small inputs used in the tests.
