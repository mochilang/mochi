# SPOJ RNUMBER - Random Number

Link: https://www.spoj.com/problems/RNUMBER/

## Algorithm

We need the `k`-th non‑decreasing sequence `u(1) ... u(N)` such that
`p ≤ u(p) ≤ M` for every position.  The number `k` is generated by
function `G(1, T, 0.b1 b2 ... bp)` where `T` is the total number of valid
sequences.

1. **Dynamic programming for counts**
   - Let `dp[pos][prev]` be the number of sequences of length `pos..N` when the
     previous element is `prev`.
   - The next element must be at least `max(prev, pos)` and at most `M`.
   - Using suffix sums we fill the table from `pos = N` down to `1`.
   - `T = dp[1][0]`.

2. **Generate `k` from bits**
   - Start with interval `[A,B] = [1,T]`.
   - For each bit choose the lower or upper half (`b = 0` → left,
     `b = 1` → right) as in a binary search.
   - Return `A` when bits are exhausted or `A == B`.

3. **Construct the sequence**
   - For each position iterate over possible values in increasing order.
   - For candidate `v` use `dp[pos+1][v]` to know how many sequences start with
     that prefix.  Subtract counts until reaching the range containing `k`.

4. **Output**
   - Numbers are printed in lines of at most 20 elements, each padded to width 3.

## Complexity

`dp` has `(N+1) * (M+1)` states.  With `M, N ≤ 200` the dynamic program and
sequence reconstruction are `O(N * M)` big‑integer operations.

## References

- [SPOJ Problem Page](https://www.spoj.com/problems/RNUMBER/)
