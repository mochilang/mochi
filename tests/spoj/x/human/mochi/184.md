# [Automatic Teller Machines](https://www.spoj.com/problems/ATMS/)

## Problem Summary
Given up to 10\^4 clients, each requests a loan amount less than 10\^30. There are 100 ATMs numbered 0..99. ATM i pays 2^i ducats if i is even and receives 2^i ducats if i is odd. For each client we must decide which ATMs to use to obtain the loan using each ATM at most once, and separately which ATMs to use to repay it. If either operation cannot be completed, output `No`.

## Algorithm
1. Using ATM i changes the client's balance by (-2)^i, so the set of ATMs needed corresponds to the negabinary (base -2) representation of the amount.
2. Convert a number n to base -2:
   - Repeatedly divide by 2 to obtain the remainder r = n mod 2.
   - Adjust r to be 0 or 1; update n = -(n - r)/2.
   - Record the digit position whenever r = 1.
   - Abort if more than 100 positions are required.
3. Apply the conversion to S to determine ATMs for the loan, and to -S for repayment.
4. Output the recorded positions in decreasing order, or `No` if conversion fails.

The conversion runs in O(k) where k â‰¤ 100, so it easily satisfies limits.
