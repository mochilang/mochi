# Another Assignment Problem (ASSIGN4)

[Problem on SPOJ](https://www.spoj.com/problems/ASSIGN4/)

## Algorithm

The numbers of workers in each class \(a_i\) and the numbers of positions for
each task \(b_j\) form a balanced transportation problem.  We model it as a
minimumâ€‘cost flow on a bipartite graph:

1. Create a source vertex and connect it to every worker type \(i\) with an
   edge of capacity \(a_i\) and zero cost.
2. Connect each worker type \(i\) to every task type \(j\) with an edge of
   capacity `min(a_i, b_j)` and cost \(C_{ij}\).
3. Connect every task type \(j\) to the sink with an edge of capacity
   \(b_j\) and zero cost.
4. Repeatedly find the shortest (minimum cost) augmenting path from source to
   sink using SPFA.  Augment as much flow as possible along this path and add
   `flow * pathCost` to the answer.
5. When no path remains, all positions are filled and the accumulated cost is
   minimal.

The graph has at most 402 vertices and about 40,000 edges, so SPFA is fast
enough for the constraints.

## Complexity

Let \(F = \sum a_i = \sum b_j\).  Each augmentation runs in
\(O(E)\) where \(E \le m \cdot n + m + n\).  In the worst case the algorithm
runs in \(O(F \cdot E)\), which is sufficient for the problem limits.
