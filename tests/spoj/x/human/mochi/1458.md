# [Help Blue Mary Please! (Act II)](https://www.spoj.com/problems/BLUEEQ2/)

## Problem Summary
Given up to six terms of the form `k_i * x_i^{p_i}` with integer coefficients `k_i` (possibly negative) and positive exponents `p_i`, count how many integer tuples `(x_1, ..., x_n)` with `1 ≤ x_i ≤ M` satisfy

```
k_1 * x_1^{p_1} + k_2 * x_2^{p_2} + ... + k_n * x_n^{p_n} = 0
```

`n ≤ 6` and `M ≤ 150`. The absolute value of each term and the answer fit in 32-bit signed integers.

## Algorithm
1. **Precompute terms**: for each variable `i` and every value `x` in `[1, M]`, compute `k_i * x^{p_i}` and store in an array.
2. **Meet-in-the-middle**: split the variables into two halves.
   - Enumerate all assignments of the first half and store their sums in a map `sum → count`.
   - Enumerate all assignments of the second half; for each partial sum `s`, add `map[-s]` to the answer.
3. Output the accumulated count for the test case.

This meet-in-the-middle enumeration handles up to `150^3 ≈ 3.4` million states per half, which is feasible.

## Complexity
Let `a = floor(n/2)` and `b = n - a`. Time complexity is `O(M^a + M^b)` and memory usage is `O(M^a)` for the hash map of partial sums.
