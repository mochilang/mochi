# [Lazy Cows](https://www.spoj.com/problems/LAZYCOWS/)

## Problem Summary
Given up to 1000 cows placed on a 2×B grid (two rows and B columns),
build at most `K` axis‑aligned rectangular barns covering all cows.
Barns may not overlap and each must cover a whole number of cells.
The goal is to minimize the total area covered by the barns.

## Algorithm
1. **Column compression:**  
   For each occupied column record whether it has a cow in the top row,
   bottom row, or both.  Only the columns containing cows are kept and
   sorted.
2. **Prefix information:**  
   Build prefix counts for each row to quickly test if a range of
   columns contains cows in one or both rows.
3. **Dynamic programming:**  
   Let `dp[k][i]` be the minimum area needed to cover the first `i`
   occupied columns using `k` barns.  To compute `dp[k][i]` consider a
   previous split position `j < i` and cover columns `j+1..i` with one
   barn.  The width of this barn is
   `cols[i-1] - cols[j] + 1`.  Its height is `1` if the range contains
   cows in only one row, otherwise `2`.  The transition is
   `dp[k][i] = min(dp[k-1][j] + area(j+1,i))`.
4. **Result:**  The answer for a test case is `dp[K][M]` where `M` is the
   number of occupied columns.

This considers all partitions of the columns among the barns and computes
for each the minimal total area.
