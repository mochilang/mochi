# ZEBRA - The Zebra Crossing

Given `n` pedestrians, the width `w` of the street and maximum speed `v`,
find the maximal number of people one can collide with while crossing.
Each pedestrian `i` starts at `x_i` and takes time `t_i` to cross the street
at angle `a_i` (in 1/60 degrees). All pedestrians start simultaneously and
walk along straight lines at constant speed.

## Solution

Two pedestrians can meet only if their vertical speeds are equal.  Since
vertical speed is `w/t_i`, our own crossing time must equal `t_i` for anyone
we hope to collide with.  For each distinct time `T`:

1. If `T * v < w` we cannot walk that fast and skip this group.
2. For every pedestrian in the group compute the end point of his path at
y=`w`:
   `start = x_i`
   `end   = x_i + w * tan(angle_i)`
3. We may walk in three ways:
   * **Vertical line:** choose any `x` and walk straight up.  We collide with
     all segments whose projection interval `[min(start,end), max(start,end)]`
     contains `x`.  The maximum overlap of these intervals gives the number of
     possible collisions.
   * **Left to right:** walk with maximum allowed slope.  Our start position `s`
     and end position `e` must satisfy `e - s = delta` where
     `delta = w * sqrt((v*T/w)^2 - 1)`.  A pedestrian is hittable if
     `delta >= end - start`.  For such pedestrians, the feasible start positions
     form an interval `(end - delta/2, start + delta/2)`.  The maximum overlap of
     these intervals gives the number of collisions when walking left→right.
   * **Right to left:** mirror all segments horizontally and repeat the
     left→right computation.
4. The answer for this `T` is the maximum over the three cases; the global
   answer is the maximum over all times.

The algorithm sorts only lists of intervals and runs in `O(n log n)` per time
value, easily handling the problem limits.
