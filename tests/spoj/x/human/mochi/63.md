# [Square Brackets](https://www.spoj.com/problems/SQRBR/)

## Problem Summary
Given an integer `n` and a set of positions where opening brackets must appear, count the number of proper bracket sequences of length `2n` that satisfy these constraints.

## Algorithm
1. Mark the forced opening bracket positions in a boolean array of size `2n`.
2. Use dynamic programming over positions and current number of open brackets:
   - `dp[j]` – ways after processing the current prefix with `j` unmatched `(`.
   - For each position `i` from `1` to `2n` create a new array `next`.
     - If position `i` is forced `(`, only transition `next[j+1] += dp[j]`.
     - Otherwise we may place `(` giving `next[j+1] += dp[j]`, and if `j > 0` place `)` giving `next[j-1] += dp[j]`.
   - Replace `dp` with `next` after each step.
3. After all positions, `dp[0]` is the answer.

This runs in `O(n^2)` time and `O(n)` space for `n ≤ 19`.
