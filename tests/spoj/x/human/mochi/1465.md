# On the Way to Find Chris

The city forms a tree with weighted roads. Chris might be at Shermie's or
Yashiro's house. Mary starts at Chris' home and first walks to the closer
friend; if he is not there, she continues to the other. For distinct nodes
A, B and C the travel time equals:

```
d(A, B) + min(d(C, A), d(C, B))
```

where `d(u, v)` is the length of the unique path between nodes `u` and `v`.

Fix a node `O` as the meeting point of the three paths. Let the longest
 distances from `O` into its incident directions be `d1 ≥ d2 ≥ d3` (include
`0` for staying at `O`). The best choice of the three houses with `O` as the
junction yields a time of `d1 + 2*d2 + d3`.

We compute these values for all nodes:

1. A post-order traversal gives, for each node, the longest distance down each
   child subtree.
2. A pre-order traversal propagates the best distance through the parent to
   each child.

Combining the upward distance with the top two downward distances provides `d1`,
`d2` and `d3`. The maximum `d1 + 2*d2 + d3` across all nodes is the answer.

The algorithm runs in `O(n)` time and memory.
