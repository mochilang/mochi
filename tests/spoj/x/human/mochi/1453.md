# OPTSUB - Optimal Connected Subset

[Problem statement](https://www.spoj.com/problems/OPTSUB/)

## Algorithm

The input describes a tree of integer points on a grid. Two points are connected if they are unit Manhattan neighbours. Each point has an integer score (possibly negative). We must find the connected subset with the maximum total score.

1. Map every point's `(x, y)` coordinate to an index.
2. Build an adjacency list by checking only the `(x+1, y)` and `(x, y+1)` neighbours for each point; when a neighbour exists, add an undirected edge. Because the set is "singular", the resulting graph is a tree.
3. Perform a depth-first search with dynamic programming:
   - For each node, compute `sum = value[node] + sum(max(0, childSum))` over all children.
   - Track the maximum `sum` encountered during the traversal; this is the best connected subset total.
4. Start the DFS from any node (e.g., index `0`) and output the recorded maximum.

## Correctness

- Every edge in the input tree is added exactly once when building the adjacency list, so the constructed graph matches the given set of points.
- The DFS considers only connected subsets that include the current node; child contributions are added only when they increase the total, ensuring that for any connected subset the sum is correctly computed.
- The global maximum over all nodes equals the best possible total score among all connected subsets, so the printed result is optimal.

## Complexity Analysis

Let `N` be the number of points (`N â‰¤ 1000`).
- Building the map and adjacency list scans each point and checks four directions, taking `O(N)` time and space.
- The DFS visits each node once, also `O(N)`.
Thus the overall complexity is `O(N)` per test case.
