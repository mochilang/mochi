# [HIKE - Hike on a Graph](https://www.spoj.com/problems/HIKE/)

We are given a complete undirected graph with coloured edges and three pieces
at positions `p1`, `p2` and `p3`. Moving a piece from vertex `u` to `v` is only
allowed when the colour of edge `(u,v)` matches the colour of the edge between
the two *other* pieces. The task is to find the minimum number of moves to
bring all three pieces to the same vertex or report that it is impossible.

## Algorithm

Treat the configuration of the game as a state `(a,b,c)` representing the
locations of the three pieces. From any state we may move one piece along all
edges whose colour equals the colour of the edge between the other two pieces.
There are at most `n^3` states (`n ≤ 50`).

Perform a breadth‑first search (BFS) starting from the initial state. For each
state pop from the queue:

1. If `a == b == c` we have gathered all pieces and the current distance is the
   answer.
2. Otherwise, for each piece generate all valid moves as described above and
   push unseen states to the queue with distance +1. States are encoded as a
   single integer `((a-1)*n + (b-1))*n + (c-1)` and stored in a visited set.

If the BFS finishes without finding a state where all pieces coincide, the
answer is `impossible`.

The BFS explores `O(n^3)` states and each transition checks up to `n` edges, so
the complexity is `O(n^3)` which is easily fast enough for `n ≤ 50`.
