package main
import (
	"encoding/json"
	"os"
	"mochi/runtime/vm"
)
var progData = []byte(`{"Funcs":[{"Code":[{"Op":0,"A":6,"B":0,"C":0,"D":0,"Val":{"Tag":1,"Int":30,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":11},{"Op":1,"A":0,"B":6,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":11},{"Op":54,"A":0,"B":0,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":11},{"Op":0,"A":7,"B":0,"C":0,"D":0,"Val":{"Tag":1,"Int":100,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":13},{"Op":1,"A":1,"B":7,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":13},{"Op":54,"A":1,"B":1,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":13},{"Op":0,"A":8,"B":0,"C":0,"D":0,"Val":{"Tag":1,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":14},{"Op":1,"A":2,"B":8,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":14},{"Op":54,"A":2,"B":2,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":14},{"Op":29,"A":9,"B":0,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":16},{"Op":1,"A":3,"B":9,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":16},{"Op":54,"A":3,"B":3,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":16},{"Op":0,"A":8,"B":0,"C":0,"D":0,"Val":{"Tag":1,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":17},{"Op":0,"A":7,"B":0,"C":0,"D":0,"Val":{"Tag":1,"Int":100,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":17},{"Op":1,"A":10,"B":8,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":17},{"Op":68,"A":11,"B":10,"C":7,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":17},{"Op":13,"A":11,"B":40,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":17},{"Op":0,"A":8,"B":0,"C":0,"D":0,"Val":{"Tag":1,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":18},{"Op":1,"A":12,"B":8,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":18},{"Op":0,"A":13,"B":0,"C":0,"D":0,"Val":{"Tag":1,"Int":2,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":19},{"Op":0,"A":6,"B":0,"C":0,"D":0,"Val":{"Tag":1,"Int":30,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":19},{"Op":1,"A":14,"B":13,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":19},{"Op":68,"A":15,"B":14,"C":6,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":19},{"Op":13,"A":15,"B":34,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":19},{"Op":1,"A":16,"B":14,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":20},{"Op":24,"A":17,"B":1,"C":1,"D":16,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":20},{"Op":13,"A":17,"B":30,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":20},{"Op":0,"A":18,"B":0,"C":0,"D":0,"Val":{"Tag":1,"Int":1,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":21},{"Op":56,"A":19,"B":12,"C":18,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":21},{"Op":1,"A":12,"B":19,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":21},{"Op":0,"A":20,"B":0,"C":0,"D":0,"Val":{"Tag":1,"Int":1,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":19},{"Op":56,"A":21,"B":14,"C":20,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":19},{"Op":1,"A":14,"B":21,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":19},{"Op":12,"A":22,"B":0,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":19},{"Op":1,"A":2,"B":12,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":24},{"Op":54,"A":2,"B":2,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":24},{"Op":0,"A":22,"B":0,"C":0,"D":0,"Val":{"Tag":1,"Int":1,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":17},{"Op":56,"A":23,"B":10,"C":22,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":17},{"Op":1,"A":10,"B":23,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":17},{"Op":12,"A":15,"B":0,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":17},{"Op":29,"A":24,"B":0,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":26},{"Op":1,"A":4,"B":24,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":26},{"Op":54,"A":4,"B":4,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":26},{"Op":58,"A":25,"B":4,"C":3,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":27},{"Op":0,"A":26,"B":0,"C":0,"D":0,"Val":{"Tag":1,"Int":1000,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":27},{"Op":62,"A":27,"B":25,"C":26,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":27},{"Op":47,"A":28,"B":27,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":27},{"Op":1,"A":5,"B":28,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":27},{"Op":54,"A":5,"B":5,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":27},{"Op":0,"A":29,"B":0,"C":0,"D":0,"Val":{"Tag":5,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"duration_us","Bool":false,"List":null,"Map":null,"Func":null},"Line":31},{"Op":0,"A":30,"B":0,"C":0,"D":0,"Val":{"Tag":5,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"output","Bool":false,"List":null,"Map":null,"Func":null},"Line":32},{"Op":1,"A":31,"B":29,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":31},{"Op":1,"A":32,"B":5,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":31},{"Op":1,"A":33,"B":30,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":32},{"Op":1,"A":34,"B":2,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":32},{"Op":19,"A":35,"B":2,"C":31,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":30},{"Op":31,"A":35,"B":0,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":30},{"Op":26,"A":0,"B":0,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":0}],"NumRegs":36,"NumParams":0,"Name":"main","Line":0},{"Code":[{"Op":0,"A":7,"B":0,"C":0,"D":0,"Val":{"Tag":1,"Int":2,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":2},{"Op":9,"A":8,"B":6,"C":7,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":2},{"Op":13,"A":8,"B":5,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":2},{"Op":0,"A":9,"B":0,"C":0,"D":0,"Val":{"Tag":6,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":2},{"Op":26,"A":9,"B":0,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":2},{"Op":0,"A":7,"B":0,"C":0,"D":0,"Val":{"Tag":1,"Int":2,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":3},{"Op":0,"A":10,"B":0,"C":0,"D":0,"Val":{"Tag":1,"Int":1,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":3},{"Op":3,"A":11,"B":6,"C":10,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":3},{"Op":1,"A":12,"B":7,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":3},{"Op":68,"A":13,"B":12,"C":11,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":3},{"Op":13,"A":13,"B":21,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":3},{"Op":6,"A":14,"B":6,"C":12,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":4},{"Op":0,"A":15,"B":0,"C":0,"D":0,"Val":{"Tag":1,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":4},{"Op":7,"A":16,"B":14,"C":15,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":4},{"Op":13,"A":16,"B":17,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":4},{"Op":0,"A":9,"B":0,"C":0,"D":0,"Val":{"Tag":6,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":5},{"Op":26,"A":9,"B":0,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":5},{"Op":0,"A":17,"B":0,"C":0,"D":0,"Val":{"Tag":1,"Int":1,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":3},{"Op":56,"A":18,"B":12,"C":17,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":3},{"Op":1,"A":12,"B":18,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":3},{"Op":12,"A":9,"B":0,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":3},{"Op":0,"A":19,"B":0,"C":0,"D":0,"Val":{"Tag":6,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":true,"List":null,"Map":null,"Func":null},"Line":8},{"Op":26,"A":19,"B":0,"C":0,"D":0,"Val":{"Tag":0,"Int":0,"BigInt":null,"BigRat":null,"Float":0,"Str":"","Bool":false,"List":null,"Map":null,"Func":null},"Line":8}],"NumRegs":20,"NumParams":1,"Name":"is_prime","Line":1}],"Types":[{}],"file":"bench/out/tmp.mochi","source":["fun is_prime(n: int): bool {","  if n \u003c 2 { return false }","  for i in 2..(n - 1) {","    if n % i == 0 {","      return false","    }","  }","  return true","}","","let n = 30","// let n = 10","let repeat = 100","var last = 0","","let start = now()","for r in 0..repeat {","  var total = 0","  for i in 2..n {","    if is_prime(i) {","      total = total + 1","    }","  }","  last = total","}","let end = now()","let duration = (end - start) / 1000","// print(start, end, end - start, duration)","","json({","  \"duration_us\": duration,","  \"output\": last,","})",""],"num_globals":6}`)
func main() {
	var p vm.Program
	if err := json.Unmarshal(progData, &p); err != nil { panic(err) }
	m := vm.New(&p, os.Stdout)
	if err := m.Run(); err != nil { panic(err) }
}
