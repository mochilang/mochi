# Generated by Mochi Python compiler
from __future__ import annotations

import typing

def lastRemaining(n: int) -> int:
	head = 1
	step = 1
	remaining = n
	left = True
	while (remaining > 1):
		if (left or ((remaining % 2) == 1)):
			head = (head + step)
		remaining = (remaining // 2)
		step = (step * 2)
		left = (not left)
	return head

def example_1():
	assert (lastRemaining(9) == 6)

def example_2():
	assert (lastRemaining(1) == 1)

def even_n():
	assert (lastRemaining(2) == 2)

def larger_n():
	assert (lastRemaining(1000000) == 481110)

def main():
	example_1()
	example_2()
	even_n()
	larger_n()

if __name__ == "__main__":
	main()
