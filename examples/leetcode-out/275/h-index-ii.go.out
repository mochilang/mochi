package main

func expect(cond bool) {
	if !cond { panic("expect failed") }
}

func hIndex(citations []int) int {
	var n int = len(citations)
	var left int = 0
	var right int = (n - 1)
	var result int = 0
	for (left <= right) {
		var mid int = ((left + ((right - left))) / 2)
		var h int = (n - mid)
		if (citations[mid] >= h) {
			result = h
			right = (mid - 1)
		} else {
			left = (mid + 1)
		}
	}
	return result
}

func example_1() {
	expect((hIndex([]int{0, 1, 3, 5, 6}) == 3))
}

func all_zeros() {
	expect((hIndex([]int{0, 0, 0}) == 0))
}

func mixed() {
	expect((hIndex([]int{0, 0, 4, 4}) == 2))
}

func main() {
	example_1()
	all_zeros()
	mixed()
}

