# Generated by Mochi Python compiler
from __future__ import annotations

import typing

def Int(val: int) -> dict[str, typing.Any]:
	return {"__name": "Int", "value": val}

def List(items: list[dict[str, typing.Any]]) -> dict[str, typing.Any]:
	return {"__name": "List", "items": items}

def isInt(node: dict[str, typing.Any]) -> bool:
	return (node["__name"] == "Int")

def value(node: dict[str, typing.Any]) -> int:
	return node["value"]

def items(node: dict[str, typing.Any]) -> list[dict[str, typing.Any]]:
	return node["items"]

def depthSum(nested: list[dict[str, typing.Any]]) -> int:
	def helper(lst: list[dict[str, typing.Any]], depth: int) -> int:
		sum = 0
		for node in lst:
			if isInt(node):
				sum = (sum + (value(node) * depth))
			else:
				sum = (sum + helper(items(node), (depth + 1)))
		return sum
	return helper(nested, 1)

example1 = [List([Int(1), Int(1)]), Int(2), List([Int(1), Int(1)])]

def example_1():
	assert (depthSum(example1) == 10)

def example_2():
	assert (depthSum(example2) == 27)

def empty():
	assert (depthSum([]) == 0)

def main():
	example1 = [List([Int(1), Int(1)]), Int(2), List([Int(1), Int(1)])]
	example2 = [Int(1), List([Int(4), List([Int(6)])])]
	example_1()
	example_2()
	empty()

if __name__ == "__main__":
	main()
