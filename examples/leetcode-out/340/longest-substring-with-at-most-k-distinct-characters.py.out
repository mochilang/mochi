# Generated by Mochi Python compiler
from __future__ import annotations

import typing

def lengthOfLongestSubstringKDistinct(s: str, k: int) -> int:
	if (k <= 0):
		return 0
	left = 0
	best = 0
	counts = {}
	distinct = 0
	right = 0
	while (right < len(s)):
		ch = s[right]
		if (ch in counts):
			if (counts[ch] == 0):
				distinct = (distinct + 1)
			counts[ch] = (counts[ch] + 1)
		else:
			counts[ch] = 1
			distinct = (distinct + 1)
		while (distinct > k):
			leftCh = s[left]
			counts[leftCh] = (counts[leftCh] - 1)
			if (counts[leftCh] == 0):
				distinct = (distinct - 1)
			left = (left + 1)
		length = ((right - left) + 1)
		if (length > best):
			best = length
		right = (right + 1)
	return best

def example_1():
	assert (lengthOfLongestSubstringKDistinct("eceba", 2) == 3)

def example_2():
	assert (lengthOfLongestSubstringKDistinct("aa", 1) == 2)

def empty():
	assert (lengthOfLongestSubstringKDistinct("", 3) == 0)

def k_zero():
	assert (lengthOfLongestSubstringKDistinct("abc", 0) == 0)

def k_larger_than_distinct():
	assert (lengthOfLongestSubstringKDistinct("abc", 5) == 3)

def main():
	example_1()
	example_2()
	empty()
	k_zero()
	k_larger_than_distinct()

if __name__ == "__main__":
	main()
