// Generated by Mochi TypeScript compiler

let employees: Array<any> = [{id: 1, salary: 100}, {id: 2, salary: 200}, {id: 3, salary: 300}, {id: 4, salary: 200}]

function secondHighestSalary(employees: Array<Employee>) : number {
	if ((employees.length < 2)) {
		return 0
	}
	let firstEmp: Employee = employees[0]
	let first: number = firstEmp.salary
	let second: number = first
	let i: number = 1
	while ((i < employees.length)) {
		let emp: Employee = employees[i]
		let s: number = emp.salary
		if ((s > first)) {
			second = first
			first = s
		} else 		if (((s != first) && (((second == first) || (s > second))))) {
			second = s
		}
		i = (i + 1)
	}
	if ((second == first)) {
		return 0
	}
	return second
}

function example(): void {
	if (!((secondHighestSalary(employees) == 200))) { throw new Error('expect failed') }
}

function no_second_salary(): void {
	if (!((secondHighestSalary([{id: 1, salary: 100}]) == 0))) { throw new Error('expect failed') }
}

function duplicates(): void {
	let list: Array<any> = [{id: 1, salary: 100}, {id: 2, salary: 100}, {id: 3, salary: 100}]
	if (!((secondHighestSalary(list) == 0))) { throw new Error('expect failed') }
}

function main(): void {
	type Employee = {
		id: number;
		salary: number;
	}
	example()
	no_second_salary()
	duplicates()
}
main()

