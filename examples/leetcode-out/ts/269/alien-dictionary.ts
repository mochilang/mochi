// Generated by Mochi TypeScript compiler

function alienOrder(words: Array<string>) : string {
	let graph: Record<string, Array<string>> = {}
	let indegree: Record<string, number> = {}
	for (const w of words) {
		for (const ch of w) {
			if ((!(Object.prototype.hasOwnProperty.call(graph, String(ch))))) {
				graph[ch] = []
			}
			if ((!(Object.prototype.hasOwnProperty.call(indegree, String(ch))))) {
				indegree[ch] = 0
			}
		}
	}
	let i: number = 0
	while ((i < (words.length - 1))) {
		let w1: string = words[i]
		let w2: string = words[(i + 1)]
		let j: number = 0
		let found: boolean = false
		while (((j < w1.length) && (j < w2.length))) {
			let c1: string = w1[j]
			let c2: string = w2[j]
			if ((c1 != c2)) {
				let neighbors: Array<string> = graph[c1]
				let exists: boolean = false
				for (const n of neighbors) {
					if ((n == c2)) {
						exists = true
					}
				}
				if ((!exists)) {
					graph[c1] = neighbors.concat([c2])
					indegree[c2] = (indegree[c2] + 1)
				}
				found = true
				break
			}
			j = (j + 1)
		}
		if (((!found) && (w1.length > w2.length))) {
			return ""
		}
		i = (i + 1)
	}
	let queue: Array<string> = []
	for (const ch of Object.keys(indegree)) {
		if ((indegree[ch] == 0)) {
			queue = queue.concat([ch])
		}
	}
	let order: string = ""
	let idx: number = 0
	while ((idx < queue.length)) {
		let ch: string = queue[idx]
		idx = (idx + 1)
		order = order + ch
		for (const nxt of graph[ch]) {
			indegree[nxt] = (indegree[nxt] - 1)
			if ((indegree[nxt] == 0)) {
				queue = queue.concat([nxt])
			}
		}
	}
	if ((order.length != Object.keys(indegree).length)) {
		return ""
	}
	return order
}

function example_1(): void {
	if (!((alienOrder(["wrt", "wrf", "er", "ett", "rftt"]) == "wertf"))) { throw new Error('expect failed') }
}

function example_2(): void {
	if (!((alienOrder(["z", "x"]) == "zx"))) { throw new Error('expect failed') }
}

function invalid_order(): void {
	if (!((alienOrder(["z", "x", "z"]) == ""))) { throw new Error('expect failed') }
}

function main(): void {
	example_1()
	example_2()
	invalid_order()
}
main()

